From G.H.Wachsmuth at tudelft.nl  Tue Apr  2 10:02:19 2013
From: G.H.Wachsmuth at tudelft.nl (Guido Wachsmuth - EWI)
Date: Tue, 2 Apr 2013 08:02:19 +0000
Subject: [Stratego Users] Refactorings as a transformation step
In-Reply-To: <BAY175-DS1435858BCC563EBD9268CCD0D30@phx.gbl>
References: <BAY175-DS1435858BCC563EBD9268CCD0D30@phx.gbl>
Message-ID: <39465ABECE3CBC4EA3A3DDC99D576C423FE8739C@srv365.tudelft.net>

Dear Kralik, have a look at http://strategoxt.org/Spoofax/Refactorings

Regards, Guido Wachsmuth

On Mar 29, 2013, at 17:46 , Kr?lik Barnab?s <kralikba at msn.com<mailto:kralikba at msn.com>> wrote:

Hi,

I?m trying to extend a tried language with some proprietary constructs. This would practically mean automatically doing layout-preserving refactorings.

What facilities are there to use?

Thanks
Barnab?s Kr?lik
<N?vtelen mell?klet (00051).sdx>_______________________________________________
Users mailing list
Users at strategoxt.org<mailto:Users at strategoxt.org>
https://mailman.st.ewi.tudelft.nl/listinfo/users

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130402/707c13da/attachment.html>

From kralikba at msn.com  Tue Apr  2 11:45:41 2013
From: kralikba at msn.com (=?iso-8859-2?Q?Kr=E1lik_Barnab=E1s?=)
Date: Tue, 2 Apr 2013 11:45:41 +0200
Subject: [Stratego Users] Refactorings as a transformation step
In-Reply-To: <39465ABECE3CBC4EA3A3DDC99D576C423FE8739C@srv365.tudelft.net>
References: <BAY175-DS1435858BCC563EBD9268CCD0D30@phx.gbl>
	<39465ABECE3CBC4EA3A3DDC99D576C423FE8739C@srv365.tudelft.net>
Message-ID: <BAY175-DS15F3FD8C0C43D060ACABD1D0DF0@phx.gbl>

Dear Guido,

 

Thanks, I have already tried this; this is working as expected.

What I want to do is:

.         User clicks on "Transform" button

.         A set of refactorings are executed on all possible code fragments
repeatedly until no refactorings can be applied to any part of the program.

 

Cheers

Barnab?s Kr?lik

 

ps. Most possibly I could do with something like this:
http://releases.strategoxt.org/docs/api/libstratego-lib/libstratego-lib-docs
-19310/docs/ but for Spoofax's libraries. If you could point me towards such
docs, it would be great help.

 

 

From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org] On
Behalf Of Guido Wachsmuth - EWI
Sent: Tuesday, April 02, 2013 10:02 AM
To: Stratego/XT Users
Subject: Re: [Stratego Users] Refactorings as a transformation step

 

Dear Kralik, have a look at http://strategoxt.org/Spoofax/Refactorings 

 

Regards, Guido Wachsmuth

 

On Mar 29, 2013, at 17:46 , Kr?lik Barnab?s <kralikba at msn.com> wrote:





Hi,

 

I'm trying to extend a tried language with some proprietary constructs. This
would practically mean automatically doing layout-preserving refactorings.

 

What facilities are there to use?

 

Thanks

Barnab?s Kr?lik

<N?vtelen mell?klet
(00051).sdx>_______________________________________________
Users mailing list
 <mailto:Users at strategoxt.org> Users at strategoxt.org
 <https://mailman.st.ewi.tudelft.nl/listinfo/users>
https://mailman.st.ewi.tudelft.nl/listinfo/users

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130402/b4b167d7/attachment.html>

From valentin.david at gmail.com  Wed Apr  3 10:41:04 2013
From: valentin.david at gmail.com (Valentin David)
Date: Wed, 3 Apr 2013 10:41:04 +0200
Subject: [Stratego Users] trouble building "classic" strategoxt-0.17
	from source
In-Reply-To: <4C4048B5-FA2A-4317-9B94-E97D171FD8EF@rice.edu>
References: <507C8D85-69CE-49F1-B0B4-782747563675@rice.edu>
	<CAM06Q5RS4ky=V_wJGZkPzs4dSSnOk6QvVF2sgafbSuGu1pweQw@mail.gmail.com>
	<DD77A7BF-F620-4A31-9DE4-581E29A07DC6@rice.edu>
	<CAM06Q5QTnxCaaDJW7iiL-34GzrQW8033SGTnaB6cLPEUjvUyHA@mail.gmail.com>
	<4C4048B5-FA2A-4317-9B94-E97D171FD8EF@rice.edu>
Message-ID: <CAM06Q5Sf5O8HUyg=JTa0Qbcnze+M6+dU4tbsNU_4ZHCXMJ4Pgg@mail.gmail.com>

On Tue, Mar 26, 2013 at 11:45 PM, Scott Warren <scott at rice.edu> wrote:
> I still can't build strategoxt-0.17 from source.

I have just tried with the same commands as you, and it worked. And I
do not have Stratego installed on my machine. So, yes, it is possible
to build Stratego 0.17.

> Specifically, my directory "asfix-tools/xtc" does contain the source file
> "sglri.c" presumably obtained by compiling "sglri.str". But the package
> build order chosen at configure time tries to run an sglri executable from
> "asfix-tools/xtc" *before* that C file has been compiled into an executable.

"sglri" is not supposed to be used when building "stratego-libraries"
when building from a tarball. You are probably missing ".rtree" files
in "stratego-libraries" or the date of those files are older than the
".str" files.

--
Valentin David
valentin.david at gmail.com

From scott at rice.edu  Thu Apr  4 00:37:52 2013
From: scott at rice.edu (Scott Warren)
Date: Wed, 3 Apr 2013 17:37:52 -0500
Subject: [Stratego Users] SOLVED! was: trouble building "classic"
	strategoxt-0.17 from source
In-Reply-To: <CAM06Q5Sf5O8HUyg=JTa0Qbcnze+M6+dU4tbsNU_4ZHCXMJ4Pgg@mail.gmail.com>
References: <507C8D85-69CE-49F1-B0B4-782747563675@rice.edu>
	<CAM06Q5RS4ky=V_wJGZkPzs4dSSnOk6QvVF2sgafbSuGu1pweQw@mail.gmail.com>
	<DD77A7BF-F620-4A31-9DE4-581E29A07DC6@rice.edu>
	<CAM06Q5QTnxCaaDJW7iiL-34GzrQW8033SGTnaB6cLPEUjvUyHA@mail.gmail.com>
	<4C4048B5-FA2A-4317-9B94-E97D171FD8EF@rice.edu>
	<CAM06Q5Sf5O8HUyg=JTa0Qbcnze+M6+dU4tbsNU_4ZHCXMJ4Pgg@mail.gmail.com>
Message-ID: <3BEDC588-158F-447F-93AD-3D3D957C0EA3@rice.edu>

David,

Thanks for following up on my request -- your hint was enough to solve my problem. You were right, my trouble was that I had ".rtree" files which were older than their ".str" files.

I am able to reconstruct what happened. Extracting the strategoxt-0.17 tarball on certain of our machines gives an "implausibly old time stamp" warning.  On one occasion, concerned that tar might have quit early, I repeated the extract using "--touch" to avoid the message. Of course this left me with incorrect timestamps -- doh! -- and of course that was the copy I committed into my project repository and have struggled with ever since.

Anyway, I can build strategoxt-0.17 successfully now that I've re-extracted with correct timestamps. Sorry for all the noise. Thanks to everyone who offered help -- I really appreciate it!

skw


On Apr 3, 2013, at 3:41 AM, Valentin David wrote:

> On Tue, Mar 26, 2013 at 11:45 PM, Scott Warren <scott at rice.edu> wrote:
>> I still can't build strategoxt-0.17 from source.
> 
> I have just tried with the same commands as you, and it worked. And I
> do not have Stratego installed on my machine. So, yes, it is possible
> to build Stratego 0.17.
> 
>> Specifically, my directory "asfix-tools/xtc" does contain the source file
>> "sglri.c" presumably obtained by compiling "sglri.str". But the package
>> build order chosen at configure time tries to run an sglri executable from
>> "asfix-tools/xtc" *before* that C file has been compiled into an executable.
> 
> "sglri" is not supposed to be used when building "stratego-libraries"
> when building from a tarball. You are probably missing ".rtree" files
> in "stratego-libraries" or the date of those files are older than the
> ".str" files.
> 
> --
> Valentin David
> valentin.david at gmail.com
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users
> 
> !DSPAM:3697,515beb6463458676913170!
> 
> 



From E.Visser at tudelft.nl  Thu Apr  4 10:35:58 2013
From: E.Visser at tudelft.nl (Eelco Visser)
Date: Thu, 4 Apr 2013 10:35:58 +0200
Subject: [Stratego Users] SOLVED! was: trouble building "classic"
 strategoxt-0.17 from source
In-Reply-To: <3BEDC588-158F-447F-93AD-3D3D957C0EA3@rice.edu>
References: <507C8D85-69CE-49F1-B0B4-782747563675@rice.edu>
	<CAM06Q5RS4ky=V_wJGZkPzs4dSSnOk6QvVF2sgafbSuGu1pweQw@mail.gmail.com>
	<DD77A7BF-F620-4A31-9DE4-581E29A07DC6@rice.edu>
	<CAM06Q5QTnxCaaDJW7iiL-34GzrQW8033SGTnaB6cLPEUjvUyHA@mail.gmail.com>
	<4C4048B5-FA2A-4317-9B94-E97D171FD8EF@rice.edu>
	<CAM06Q5Sf5O8HUyg=JTa0Qbcnze+M6+dU4tbsNU_4ZHCXMJ4Pgg@mail.gmail.com>
	<3BEDC588-158F-447F-93AD-3D3D957C0EA3@rice.edu>
Message-ID: <CAFaCHU2F1R37G5XQG-d0tSLSyJb3GsUXQtWXwQg8U_Uaq8C4ag@mail.gmail.com>

Hi Scott,

Great that it got resolved! It would be useful if you could document the
problem and solution in the Stratego/XT Q&A:

   http://yellowgrass.org/questions/StrategoXT

So that hopefully we can resolve a future instance faster.

cheers,

-- Eelco

On Thu, Apr 4, 2013 at 12:37 AM, Scott Warren <scott at rice.edu> wrote:

> David,
>
> Thanks for following up on my request -- your hint was enough to solve my
> problem. You were right, my trouble was that I had ".rtree" files which
> were older than their ".str" files.
>
> I am able to reconstruct what happened. Extracting the strategoxt-0.17
> tarball on certain of our machines gives an "implausibly old time stamp"
> warning.  On one occasion, concerned that tar might have quit early, I
> repeated the extract using "--touch" to avoid the message. Of course this
> left me with incorrect timestamps -- doh! -- and of course that was the
> copy I committed into my project repository and have struggled with ever
> since.
>
> Anyway, I can build strategoxt-0.17 successfully now that I've
> re-extracted with correct timestamps. Sorry for all the noise. Thanks to
> everyone who offered help -- I really appreciate it!
>
> skw
>
>
> On Apr 3, 2013, at 3:41 AM, Valentin David wrote:
>
> > On Tue, Mar 26, 2013 at 11:45 PM, Scott Warren <scott at rice.edu> wrote:
> >> I still can't build strategoxt-0.17 from source.
> >
> > I have just tried with the same commands as you, and it worked. And I
> > do not have Stratego installed on my machine. So, yes, it is possible
> > to build Stratego 0.17.
> >
> >> Specifically, my directory "asfix-tools/xtc" does contain the source
> file
> >> "sglri.c" presumably obtained by compiling "sglri.str". But the package
> >> build order chosen at configure time tries to run an sglri executable
> from
> >> "asfix-tools/xtc" *before* that C file has been compiled into an
> executable.
> >
> > "sglri" is not supposed to be used when building "stratego-libraries"
> > when building from a tarball. You are probably missing ".rtree" files
> > in "stratego-libraries" or the date of those files are older than the
> > ".str" files.
> >
> > --
> > Valentin David
> > valentin.david at gmail.com
> > _______________________________________________
> > Users mailing list
> > Users at strategoxt.org
> > https://mailman.st.ewi.tudelft.nl/listinfo/users
> >
> > !DSPAM:3697,515beb6463458676913170!
> >
> >
>
>
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users
>



-- 

Eelco Visser
Associate Professor at Delft University of Technology

Group:          Software Language Design and Engineering
Email:          e.visser at tudelft.nl
Homepage:   http://eelcovisser.org
Publications: http://researchr.org/profile/eelcovisser
News:           http://twitter.com/eelcovisser
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130404/f91236ed/attachment.html>

From anya at anyanka.org  Thu Apr  4 12:30:19 2013
From: anya at anyanka.org (Anya Helene Bagge)
Date: Thu, 04 Apr 2013 12:30:19 +0200
Subject: [Stratego Users] calling the compiler from Java
Message-ID: <515D563B.8000606@anyanka.org>

Hi,

Is there a (in)convenient way of calling the Stratego-to-Java compiler 
directly from Java? I've been able to hook up the HybridInterpreter, but I 
have a feeling compiled code might run a lot faster.

(I have Spoofax 1.1 installed)

-anya

From scott at rice.edu  Thu Apr  4 22:39:56 2013
From: scott at rice.edu (Scott Warren)
Date: Thu, 4 Apr 2013 15:39:56 -0500
Subject: [Stratego Users] SOLVED! was: trouble building "classic"
	strategoxt-0.17 from source
In-Reply-To: <CAFaCHU2F1R37G5XQG-d0tSLSyJb3GsUXQtWXwQg8U_Uaq8C4ag@mail.gmail.com>
References: <507C8D85-69CE-49F1-B0B4-782747563675@rice.edu>
	<CAM06Q5RS4ky=V_wJGZkPzs4dSSnOk6QvVF2sgafbSuGu1pweQw@mail.gmail.com>
	<DD77A7BF-F620-4A31-9DE4-581E29A07DC6@rice.edu>
	<CAM06Q5QTnxCaaDJW7iiL-34GzrQW8033SGTnaB6cLPEUjvUyHA@mail.gmail.com>
	<4C4048B5-FA2A-4317-9B94-E97D171FD8EF@rice.edu>
	<CAM06Q5Sf5O8HUyg=JTa0Qbcnze+M6+dU4tbsNU_4ZHCXMJ4Pgg@mail.gmail.com>
	<3BEDC588-158F-447F-93AD-3D3D957C0EA3@rice.edu>
	<CAFaCHU2F1R37G5XQG-d0tSLSyJb3GsUXQtWXwQg8U_Uaq8C4ag@mail.gmail.com>
Message-ID: <40607FDC-6F5A-4EE4-82B0-E9AD9EAD2101@rice.edu>

> It would be useful if you could document the problem and solution in the Stratego/XT Q&A:


Done. Thanks again -- skw


On Apr 4, 2013, at 3:35 AM, Eelco Visser wrote:

> Hi Scott,
> 
> Great that it got resolved! It would be useful if you could document the problem and solution in the Stratego/XT Q&A:
> 
>    http://yellowgrass.org/questions/StrategoXT
> 
> So that hopefully we can resolve a future instance faster.
> 
> cheers,
> 
> -- Eelco
> 
> On Thu, Apr 4, 2013 at 12:37 AM, Scott Warren <scott at rice.edu> wrote:
> David,
> 
> Thanks for following up on my request -- your hint was enough to solve my problem. You were right, my trouble was that I had ".rtree" files which were older than their ".str" files.
> 
> I am able to reconstruct what happened. Extracting the strategoxt-0.17 tarball on certain of our machines gives an "implausibly old time stamp" warning.  On one occasion, concerned that tar might have quit early, I repeated the extract using "--touch" to avoid the message. Of course this left me with incorrect timestamps -- doh! -- and of course that was the copy I committed into my project repository and have struggled with ever since.
> 
> Anyway, I can build strategoxt-0.17 successfully now that I've re-extracted with correct timestamps. Sorry for all the noise. Thanks to everyone who offered help -- I really appreciate it!
> 
> skw
> 
> 
> On Apr 3, 2013, at 3:41 AM, Valentin David wrote:
> 
> > On Tue, Mar 26, 2013 at 11:45 PM, Scott Warren <scott at rice.edu> wrote:
> >> I still can't build strategoxt-0.17 from source.
> >
> > I have just tried with the same commands as you, and it worked. And I
> > do not have Stratego installed on my machine. So, yes, it is possible
> > to build Stratego 0.17.
> >
> >> Specifically, my directory "asfix-tools/xtc" does contain the source file
> >> "sglri.c" presumably obtained by compiling "sglri.str". But the package
> >> build order chosen at configure time tries to run an sglri executable from
> >> "asfix-tools/xtc" *before* that C file has been compiled into an executable.
> >
> > "sglri" is not supposed to be used when building "stratego-libraries"
> > when building from a tarball. You are probably missing ".rtree" files
> > in "stratego-libraries" or the date of those files are older than the
> > ".str" files.
> >
> > --
> > Valentin David
> > valentin.david at gmail.com
> > _______________________________________________
> > Users mailing list
> > Users at strategoxt.org
> > https://mailman.st.ewi.tudelft.nl/listinfo/users
> >
> > 
> >
> >
> 
> 
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users
> 
> 
> 
> -- 
> 
> Eelco Visser
> Associate Professor at Delft University of Technology
> 
> Group:          Software Language Design and Engineering
> Email:          e.visser at tudelft.nl
> Homepage:   http://eelcovisser.org  
> Publications: http://researchr.org/profile/eelcovisser  
> News:           http://twitter.com/eelcovisser !DSPAM:3697,515d3bca261221713589003! _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users
> 
> 
> !DSPAM:3697,515d3bca261221713589003!

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130404/4af1631c/attachment.html>

From anya at anyanka.org  Mon Apr  8 14:33:17 2013
From: anya at anyanka.org (Anya Helene Bagge)
Date: Mon, 08 Apr 2013 14:33:17 +0200
Subject: [Stratego Users] calling the compiler from Java
In-Reply-To: <CAOipTugVfJjUUggHjpH2uOc7PpPv9muo1Wwt77HfYM9jBm+iSQ@mail.gmail.com>
References: <515D563B.8000606@anyanka.org>
	<CAOipTugVfJjUUggHjpH2uOc7PpPv9muo1Wwt77HfYM9jBm+iSQ@mail.gmail.com>
Message-ID: <5162B90D.8000907@anyanka.org>

On 04/05/2013 05:38 PM, Gabri?l Konat wrote:
> Hey Anya,
>
> The strategoxt.jar file contains the strj compiler, which you can call from
> the commandline using "java -jar strategoxt.jar strj <commands>", you can
> invoke the main file of strj from Java as well.
> Your Spoofax installation has a strategoxt.jar that you can use, it's in the
> Eclipse/plugins/org.strategoxt.strj_<version>/java folder.

Thanks ? I got it to work. Very impressed by how fast the results run. ;)

BTW, is this still true (the part about using the interpreter by default):

"The Spoofax/IMP IDE development environment incorporates the STRJ compiler. 
By default, it interprets Stratego definitions, using the hybrid 
interpreter, but by changing the build.xml and <myproject>-Analysis.esv 
files, it can also compile them."

(from http://strategoxt.org/Stratego/STRJ)

-anya

>
> Cheers,
> Gabri?l
>
> On 4 April 2013 12:30, Anya Helene Bagge <anya at anyanka.org
> <mailto:anya at anyanka.org>> wrote:
>
>     Hi,
>
>     Is there a (in)convenient way of calling the Stratego-to-Java compiler
>     directly from Java? I've been able to hook up the HybridInterpreter, but
>     I have a feeling compiled code might run a lot faster.
>
>     (I have Spoofax 1.1 installed)
>
>     -anya
>     _________________________________________________
>     Users mailing list
>     Users at strategoxt.org <mailto:Users at strategoxt.org>
>     https://mailman.st.ewi.__tudelft.nl/listinfo/users
>     <https://mailman.st.ewi.tudelft.nl/listinfo/users>
>
>


From kralikba at msn.com  Mon Apr  8 21:21:21 2013
From: kralikba at msn.com (=?iso-8859-2?Q?Kr=E1lik_Barnab=E1s?=)
Date: Mon, 8 Apr 2013 21:21:21 +0200
Subject: [Stratego Users] ppgen and context-free priorities
In-Reply-To: <003b01ce1f63$44a2daf0$cde890d0$@tudelft.nl>
References: <BAY175-DS186AF1D4F0FCA33CBB53A9D0E70@phx.gbl>	<00be01ce1daa$89a99040$9cfcb0c0$@tudelft.nl>	<BAY002-W190B8EAFB6ECB19348D9556D0E10@phx.gbl>	<002201ce1e87$a18b9220$e4a2b660$@tudelft.nl>	<BAY175-DS524D75C7490B594DD084CD0E20@phx.gbl>
	<003b01ce1f63$44a2daf0$cde890d0$@tudelft.nl>
Message-ID: <BAY175-DS2112F92BD4CECDE8CFA580D0C50@phx.gbl>

Hi,

For pretty-printing based on template lang files, I would need extra
strategies (e.g. pp-one-Z). I see that they should be in some
libtemplatelang library. However, "imports libtemplatelang", "imports
templatelang" and anything else that I have tried fail. What do I do?
Other things are working quite well, the template language seems quite
promising!

Thanks
Barnab?s

-----Original Message-----
From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org] On
Behalf Of Eelco Visser
Sent: Tuesday, March 12, 2013 9:06 PM
To: Stratego/XT Users
Subject: Re: [Stratego Users] ppgen and context-free priorities

Yes, the Template Language is supported in Spoofax 1.1.

-- Eelco

On Tue, Mar 12, 2013 at 8:50 PM, Kr?lik Barnab?s <kralikba at msn.com> wrote:
> Hi,
>
> Great, thanks!
> Is there a quite-stable version of the Template Language somewhere 
> available, perhaps integrated with Spoofax?
>
>  -- Barnab?s
>
>> Hi all,
>>
>> there is indeed a redundant-free way to specify priorities, which is
> currently
>> implemented in the Template Language, but not in SDF itself:
>>
>> context-free syntax
>>
>>       Exp "+" Exp -> Exp {"Add"}
>>       Exp "*" Exp -> Exp {"Mul"}
>>
>> context-free priorities
>>
>>       Exp.Mul > Exp.Add
>>
>> -- Guido Wachsmuth
>>
>> On Mar 11, 2013, at 13:31 , Kr?lik Barnab?s <kralikba at msn.com> wrote:
>>
>> > Hi Eelco,
>> >>> My problem is that ppgen seemingly discards rules outside of "[.]
>> syntax"
>> >>> blocks. Is this by design?
>> >>
>> >> There has always been some ambiguity about the treatment of 
>> >> productions in priority sections. In SDF1 productions should be 
>> >> redundantly specified in a syntax section and priorities section. 
>> >> In
>> >> SDF2 productions are derived from priorities sections, but this 
>> >> feature was not well known. Tools that take non-normalized SDF2 as 
>> >> input (which is probably what ppgen does) do not take the effort 
>> >> to repeat the normalization.
>> > Thanks for the clarification. This problem affects not just the
> command-line
>> distribution but Spoofax too. I will report it on Yellowgrass.
>> > Meanwhile - is there an appropriate tool that normalizes SDF2 and 
>> > that
>> could be included in the build.xml?
>> >>
>> >>> Should having non-chain rules, ie. not in the simplest form S1 -> 
>> >>> S2, be
>> >> considered bad practice?
>> >>
>> >> The answer is obviously no. A grammar with only chain rules is 
>> >> clearly useless. But perhaps I misunderstand your question.
>> > I wanted to ask question regarding only the context-free priorities
> section.
>> I thought that maybe - without introducing redundancies in the sdf 
>> file -
> the
>> appropriate way would be to write something like:
>> > context-free syntax
>> >  Expr "*" Expr -> MulOp { cons("Mul") }  Expr "+" Expr -> AddOp {
>> > cons("Add") }
>> >
>> > context-free priorities
>> >    MulOp -> Expr
>> >> AddOp -> Expr
>> >
>> > instead of repeating the complete rules.
>> >
>> > Cheers
>> > Barnab?s
>> > _______________________________________________
>> > Users mailing list
>> > Users at strategoxt.org
>> > https://mailman.st.ewi.tudelft.nl/listinfo/users
>>
>>
>> _______________________________________________
>> Users mailing list
>> Users at strategoxt.org
>> https://mailman.st.ewi.tudelft.nl/listinfo/users
>
>
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users



-- 

Eelco Visser
Associate Professor at Delft University of Technology

Group:          Software Language Design and Engineering
Email:          e.visser at tudelft.nl
Homepage:   http://eelcovisser.org
Publications: http://researchr.org/profile/eelcovisser
News:           http://twitter.com/eelcovisser

_______________________________________________
Users mailing list
Users at strategoxt.org
https://mailman.st.ewi.tudelft.nl/listinfo/users



From kralikba at msn.com  Tue Apr  9 18:47:33 2013
From: kralikba at msn.com (=?iso-8859-2?Q?Kr=E1lik_Barnab=E1s?=)
Date: Tue, 9 Apr 2013 18:47:33 +0200
Subject: [Stratego Users] [workaround] pp-one-Z etc. missing from
	generated str
Message-ID: <BAY175-DS8976686C1A9FFC5305A7DD0C60@phx.gbl>

Hi,

I have found an interesting piece of code in
org.strategoxt.imp.editors.template/trans/templatelang/to-str.str, namely
the rule templatelang-stratego-runtime-support/0,1 (line 56 onward). I have
copy-pasted the strategies to my code and now all template lang stuff works
wonderfully!

Will this be integrated later on into the actual code generating the
lang.generated.str file?

-- Barnab?s

ps. there is a small typo in this file; line 54 says "rules" instead of
"strategies" and line 92 says "strategies" instead of rules.

-----Original Message-----
From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org] On
Behalf Of Kr?lik Barnab?s
Sent: Monday, April 08, 2013 9:21 PM
To: 'Stratego/XT Users'
Subject: Re: [Stratego Users] ppgen and context-free priorities

Hi,

For pretty-printing based on template lang files, I would need extra
strategies (e.g. pp-one-Z). I see that they should be in some
libtemplatelang library. However, "imports libtemplatelang", "imports
templatelang" and anything else that I have tried fail. What do I do?
Other things are working quite well, the template language seems quite
promising!

Thanks
Barnab?s

-----Original Message-----
From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org] On
Behalf Of Eelco Visser
Sent: Tuesday, March 12, 2013 9:06 PM
To: Stratego/XT Users
Subject: Re: [Stratego Users] ppgen and context-free priorities

Yes, the Template Language is supported in Spoofax 1.1.

-- Eelco

On Tue, Mar 12, 2013 at 8:50 PM, Kr?lik Barnab?s <kralikba at msn.com> wrote:
> Hi,
>
> Great, thanks!
> Is there a quite-stable version of the Template Language somewhere 
> available, perhaps integrated with Spoofax?
>
>  -- Barnab?s
>
>> Hi all,
>>
>> there is indeed a redundant-free way to specify priorities, which is
> currently
>> implemented in the Template Language, but not in SDF itself:
>>
>> context-free syntax
>>
>>       Exp "+" Exp -> Exp {"Add"}
>>       Exp "*" Exp -> Exp {"Mul"}
>>
>> context-free priorities
>>
>>       Exp.Mul > Exp.Add
>>
>> -- Guido Wachsmuth
>>
>> On Mar 11, 2013, at 13:31 , Kr?lik Barnab?s <kralikba at msn.com> wrote:
>>
>> > Hi Eelco,
>> >>> My problem is that ppgen seemingly discards rules outside of "[.]
>> syntax"
>> >>> blocks. Is this by design?
>> >>
>> >> There has always been some ambiguity about the treatment of 
>> >> productions in priority sections. In SDF1 productions should be 
>> >> redundantly specified in a syntax section and priorities section.
>> >> In
>> >> SDF2 productions are derived from priorities sections, but this 
>> >> feature was not well known. Tools that take non-normalized SDF2 as 
>> >> input (which is probably what ppgen does) do not take the effort 
>> >> to repeat the normalization.
>> > Thanks for the clarification. This problem affects not just the
> command-line
>> distribution but Spoofax too. I will report it on Yellowgrass.
>> > Meanwhile - is there an appropriate tool that normalizes SDF2 and 
>> > that
>> could be included in the build.xml?
>> >>
>> >>> Should having non-chain rules, ie. not in the simplest form S1 -> 
>> >>> S2, be
>> >> considered bad practice?
>> >>
>> >> The answer is obviously no. A grammar with only chain rules is 
>> >> clearly useless. But perhaps I misunderstand your question.
>> > I wanted to ask question regarding only the context-free priorities
> section.
>> I thought that maybe - without introducing redundancies in the sdf 
>> file -
> the
>> appropriate way would be to write something like:
>> > context-free syntax
>> >  Expr "*" Expr -> MulOp { cons("Mul") }  Expr "+" Expr -> AddOp {
>> > cons("Add") }
>> >
>> > context-free priorities
>> >    MulOp -> Expr
>> >> AddOp -> Expr
>> >
>> > instead of repeating the complete rules.
>> >
>> > Cheers
>> > Barnab?s
>> > _______________________________________________
>> > Users mailing list
>> > Users at strategoxt.org
>> > https://mailman.st.ewi.tudelft.nl/listinfo/users
>>
>>
>> _______________________________________________
>> Users mailing list
>> Users at strategoxt.org
>> https://mailman.st.ewi.tudelft.nl/listinfo/users
>
>
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users



-- 

Eelco Visser
Associate Professor at Delft University of Technology

Group:          Software Language Design and Engineering
Email:          e.visser at tudelft.nl
Homepage:   http://eelcovisser.org
Publications: http://researchr.org/profile/eelcovisser
News:           http://twitter.com/eelcovisser

_______________________________________________
Users mailing list
Users at strategoxt.org
https://mailman.st.ewi.tudelft.nl/listinfo/users


_______________________________________________
Users mailing list
Users at strategoxt.org
https://mailman.st.ewi.tudelft.nl/listinfo/users



From G.H.Wachsmuth at tudelft.nl  Wed Apr 10 00:02:06 2013
From: G.H.Wachsmuth at tudelft.nl (Guido Wachsmuth - EWI)
Date: Tue, 9 Apr 2013 22:02:06 +0000
Subject: [Stratego Users] [workaround] pp-one-Z etc. missing
	from	generated str
In-Reply-To: <BAY175-DS8976686C1A9FFC5305A7DD0C60@phx.gbl>
References: <BAY175-DS8976686C1A9FFC5305A7DD0C60@phx.gbl>
Message-ID: <39465ABECE3CBC4EA3A3DDC99D576C423FE9B1FD@srv365.tudelft.net>

Hi Barnabas,

for now, you can find the essential part of the library here: 

	https://github.com/metaborg/runtime-libraries/blob/master/org.spoofax.meta.runtime.libraries/tmpl/pp.str

It will be integrated in the next Spoofax release.

> ps. there is a small typo in this file; line 54 says "rules" instead of
> "strategies" and line 92 says "strategies" instead of rules.

 "rules" and "strategies" can be used interchangeably in Stratego.


-- Guido

> 
> -----Original Message-----
> From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org] On
> Behalf Of Kr?lik Barnab?s
> Sent: Monday, April 08, 2013 9:21 PM
> To: 'Stratego/XT Users'
> Subject: Re: [Stratego Users] ppgen and context-free priorities
> 
> Hi,
> 
> For pretty-printing based on template lang files, I would need extra
> strategies (e.g. pp-one-Z). I see that they should be in some
> libtemplatelang library. However, "imports libtemplatelang", "imports
> templatelang" and anything else that I have tried fail. What do I do?
> Other things are working quite well, the template language seems quite
> promising!
> 
> Thanks
> Barnab?s
> 
> -----Original Message-----
> From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org] On
> Behalf Of Eelco Visser
> Sent: Tuesday, March 12, 2013 9:06 PM
> To: Stratego/XT Users
> Subject: Re: [Stratego Users] ppgen and context-free priorities
> 
> Yes, the Template Language is supported in Spoofax 1.1.
> 
> -- Eelco
> 
> On Tue, Mar 12, 2013 at 8:50 PM, Kr?lik Barnab?s <kralikba at msn.com> wrote:
>> Hi,
>> 
>> Great, thanks!
>> Is there a quite-stable version of the Template Language somewhere 
>> available, perhaps integrated with Spoofax?
>> 
>> -- Barnab?s
>> 
>>> Hi all,
>>> 
>>> there is indeed a redundant-free way to specify priorities, which is
>> currently
>>> implemented in the Template Language, but not in SDF itself:
>>> 
>>> context-free syntax
>>> 
>>>      Exp "+" Exp -> Exp {"Add"}
>>>      Exp "*" Exp -> Exp {"Mul"}
>>> 
>>> context-free priorities
>>> 
>>>      Exp.Mul > Exp.Add
>>> 
>>> -- Guido Wachsmuth
>>> 
>>> On Mar 11, 2013, at 13:31 , Kr?lik Barnab?s <kralikba at msn.com> wrote:
>>> 
>>>> Hi Eelco,
>>>>>> My problem is that ppgen seemingly discards rules outside of "[.]
>>> syntax"
>>>>>> blocks. Is this by design?
>>>>> 
>>>>> There has always been some ambiguity about the treatment of 
>>>>> productions in priority sections. In SDF1 productions should be 
>>>>> redundantly specified in a syntax section and priorities section.
>>>>> In
>>>>> SDF2 productions are derived from priorities sections, but this 
>>>>> feature was not well known. Tools that take non-normalized SDF2 as 
>>>>> input (which is probably what ppgen does) do not take the effort 
>>>>> to repeat the normalization.
>>>> Thanks for the clarification. This problem affects not just the
>> command-line
>>> distribution but Spoofax too. I will report it on Yellowgrass.
>>>> Meanwhile - is there an appropriate tool that normalizes SDF2 and 
>>>> that
>>> could be included in the build.xml?
>>>>> 
>>>>>> Should having non-chain rules, ie. not in the simplest form S1 -> 
>>>>>> S2, be
>>>>> considered bad practice?
>>>>> 
>>>>> The answer is obviously no. A grammar with only chain rules is 
>>>>> clearly useless. But perhaps I misunderstand your question.
>>>> I wanted to ask question regarding only the context-free priorities
>> section.
>>> I thought that maybe - without introducing redundancies in the sdf 
>>> file -
>> the
>>> appropriate way would be to write something like:
>>>> context-free syntax
>>>> Expr "*" Expr -> MulOp { cons("Mul") }  Expr "+" Expr -> AddOp {
>>>> cons("Add") }
>>>> 
>>>> context-free priorities
>>>>   MulOp -> Expr
>>>>> AddOp -> Expr
>>>> 
>>>> instead of repeating the complete rules.
>>>> 
>>>> Cheers
>>>> Barnab?s
>>>> _______________________________________________
>>>> Users mailing list
>>>> Users at strategoxt.org
>>>> https://mailman.st.ewi.tudelft.nl/listinfo/users
>>> 
>>> 
>>> _______________________________________________
>>> Users mailing list
>>> Users at strategoxt.org
>>> https://mailman.st.ewi.tudelft.nl/listinfo/users
>> 
>> 
>> _______________________________________________
>> Users mailing list
>> Users at strategoxt.org
>> https://mailman.st.ewi.tudelft.nl/listinfo/users
> 
> 
> 
> -- 
> 
> Eelco Visser
> Associate Professor at Delft University of Technology
> 
> Group:          Software Language Design and Engineering
> Email:          e.visser at tudelft.nl
> Homepage:   http://eelcovisser.org
> Publications: http://researchr.org/profile/eelcovisser
> News:           http://twitter.com/eelcovisser
> 
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users
> 
> 
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users
> 
> 
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users



From kralikba at msn.com  Sun Apr 14 12:23:55 2013
From: kralikba at msn.com (=?iso-8859-2?Q?Kr=E1lik_Barnab=E1s?=)
Date: Sun, 14 Apr 2013 12:23:55 +0200
Subject: [Stratego Users] NullPointerException at at
	org.strategoxt.imp.runtime.dynamicloading.AbstractService.initialize(AbstractService.java:75)
Message-ID: <BAY175-DS3AEC8C4A74AC00B8CD65FD0C30@phx.gbl>

Hi,

 

Each time that I click inside the Spoofax-generated editor of a file in my
language, Eclipse warns me about a NullPointerException. Everything else
seems to work. When a realtime transformed file is opened in parallel with
its source, each time there is an update, an Unhandled event loop exception
item appears in an error log, originated from the same source.

Have you met such an exception?

 

Thanks

Barnab?s

 

Stack trace is as follows:

java.lang.NullPointerException

                at
org.strategoxt.imp.runtime.dynamicloading.AbstractService.initialize(Abstrac
tService.java:75)

                at
org.strategoxt.imp.runtime.dynamicloading.DynamicTreeModelBuilder.buildTree(
DynamicTreeModelBuilder.java:19)

                at
org.eclipse.imp.editor.IMPOutlinePage.createControl(IMPOutlinePage.java:140)

                at
org.eclipse.ui.views.contentoutline.ContentOutline.doCreatePage(ContentOutli
ne.java:137)

                at
org.eclipse.ui.part.PageBookView.createPage(PageBookView.java:411)

                at
org.eclipse.ui.part.PageBookView.partActivated(PageBookView.java:763)

                at
org.eclipse.ui.part.PageBookView$4.partActivated(PageBookView.java:1048)

                at
org.eclipse.ui.internal.WorkbenchPage$12.run(WorkbenchPage.java:4462)

                at
org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)

                at
org.eclipse.ui.internal.WorkbenchPage.firePartActivated(WorkbenchPage.java:4
460)

                at
org.eclipse.ui.internal.WorkbenchPage.access$16(WorkbenchPage.java:4440)

                at
org.eclipse.ui.internal.WorkbenchPage$E4PartListener.partActivated(Workbench
Page.java:173)

                at
org.eclipse.e4.ui.internal.workbench.PartServiceImpl$2.run(PartServiceImpl.j
ava:193)

                at
org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)

                at
org.eclipse.e4.ui.internal.workbench.PartServiceImpl.firePartActivated(PartS
erviceImpl.java:191)

                at
org.eclipse.e4.ui.internal.workbench.PartServiceImpl.activate(PartServiceImp
l.java:596)

                at
org.eclipse.e4.ui.internal.workbench.PartServiceImpl.activate(PartServiceImp
l.java:549)

                at
org.eclipse.e4.ui.internal.workbench.swt.AbstractPartRenderer.activate(Abstr
actPartRenderer.java:105)

                at
org.eclipse.e4.ui.workbench.renderers.swt.ContributedPartRenderer$1.handleEv
ent(ContributedPartRenderer.java:61)

                at
org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)

                at
org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053)

                at
org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1077)

                at
org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1058)

                at
org.eclipse.swt.widgets.Shell.setActiveControl(Shell.java:1447)

                at
org.eclipse.swt.widgets.Shell.WM_MOUSEACTIVATE(Shell.java:2328)

                at
org.eclipse.swt.widgets.Control.windowProc(Control.java:4572)

                at
org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:341)

                at
org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1627)

                at org.eclipse.swt.widgets.Shell.windowProc(Shell.java:2069)

                at
org.eclipse.swt.widgets.Display.windowProc(Display.java:4989)

                at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native
Method)

                at
org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:2541)

                at
org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:80)

                at
org.eclipse.swt.widgets.Control.windowProc(Control.java:4623)

                at
org.eclipse.swt.widgets.Display.windowProc(Display.java:4989)

                at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native
Method)

                at
org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:2541)

                at
org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:80)

                at
org.eclipse.swt.widgets.Control.windowProc(Control.java:4623)

                at
org.eclipse.swt.widgets.Display.windowProc(Display.java:4989)

                at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native
Method)

                at
org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:2541)

                at
org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:80)

                at
org.eclipse.swt.widgets.Control.windowProc(Control.java:4623)

                at
org.eclipse.swt.widgets.Display.windowProc(Display.java:4989)

                at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native
Method)

                at
org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:2541)

                at
org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:80)

                at
org.eclipse.swt.widgets.Control.windowProc(Control.java:4623)

                at
org.eclipse.swt.widgets.Display.windowProc(Display.java:4989)

                at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native
Method)

                at
org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:2541)

                at
org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:80)

                at
org.eclipse.swt.widgets.Control.windowProc(Control.java:4623)

                at
org.eclipse.swt.widgets.Display.windowProc(Display.java:4989)

                at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native
Method)

                at
org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:2541)

                at
org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:80)

                at
org.eclipse.swt.widgets.Control.windowProc(Control.java:4623)

                at
org.eclipse.swt.widgets.Display.windowProc(Display.java:4989)

                at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native
Method)

                at
org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:2541)

                at
org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:80)

                at
org.eclipse.swt.widgets.Control.windowProc(Control.java:4623)

                at
org.eclipse.swt.widgets.Display.windowProc(Display.java:4989)

                at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native
Method)

                at
org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:2541)

                at
org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:80)

                at
org.eclipse.swt.widgets.Control.windowProc(Control.java:4623)

                at
org.eclipse.swt.widgets.Display.windowProc(Display.java:4989)

                at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native
Method)

                at
org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:2541)

                at
org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:80)

                at
org.eclipse.swt.widgets.Control.windowProc(Control.java:4623)

                at
org.eclipse.swt.widgets.Display.windowProc(Display.java:4989)

                at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native
Method)

                at
org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:2541)

                at
org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:80)

                at
org.eclipse.swt.widgets.Control.windowProc(Control.java:4623)

                at
org.eclipse.swt.widgets.Display.windowProc(Display.java:4989)

                at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native
Method)

                at
org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:2541)

                at
org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:80)

                at
org.eclipse.swt.widgets.Control.windowProc(Control.java:4623)

                at
org.eclipse.swt.widgets.Display.windowProc(Display.java:4989)

                at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native
Method)

                at
org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:2541)

                at
org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:80)

                at
org.eclipse.swt.widgets.Control.windowProc(Control.java:4623)

                at
org.eclipse.swt.widgets.Display.windowProc(Display.java:4989)

                at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native
Method)

                at
org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:2541)

                at
org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:80)

                at
org.eclipse.swt.widgets.Control.windowProc(Control.java:4623)

                at
org.eclipse.swt.widgets.Display.windowProc(Display.java:4989)

                at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native
Method)

                at
org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:2541)

                at
org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:80)

                at
org.eclipse.swt.widgets.Control.windowProc(Control.java:4623)

                at
org.eclipse.swt.widgets.Display.windowProc(Display.java:4989)

                at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native
Method)

                at
org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:2541)

                at
org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:80)

                at
org.eclipse.swt.widgets.Control.windowProc(Control.java:4623)

                at
org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:341)

                at
org.eclipse.swt.widgets.Display.windowProc(Display.java:4989)

                at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native
Method)

                at
org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:2541)

                at
org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:80)

                at
org.eclipse.swt.widgets.Control.windowProc(Control.java:4623)

                at
org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:341)

                at
org.eclipse.swt.widgets.Display.windowProc(Display.java:4989)

                at org.eclipse.swt.internal.win32.OS.PeekMessageW(Native
Method)

                at
org.eclipse.swt.internal.win32.OS.PeekMessage(OS.java:3129)

                at
org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3753)

                at
org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRende
ringEngine.java:1053)

                at
org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)

                at
org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderi
ngEngine.java:942)

                at
org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.
java:86)

                at
org.eclipse.ui.internal.Workbench$5.run(Workbench.java:588)

                at
org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)

                at
org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:543)

                at
org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)

                at
org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.
java:124)

                at
org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:
196)

                at
org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(
EclipseAppLauncher.java:110)

                at
org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAp
pLauncher.java:79)

                at
org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353)

                at
org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180)

                at sun.reflect.NativeMethodAccessorImpl.invoke0(Native
Method)

                at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown
Source)

                at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown
Source)

                at java.lang.reflect.Method.invoke(Unknown Source)

                at
org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)

                at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)

                at org.eclipse.equinox.launcher.Main.run(Main.java:1438)

                at org.eclipse.equinox.launcher.Main.main(Main.java:1414)

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/0a08e2d8/attachment-0001.html>

From anderson_a_f at hotmail.com  Sun Apr 14 16:23:26 2013
From: anderson_a_f at hotmail.com (Anderson Almeida)
Date: Sun, 14 Apr 2013 11:23:26 -0300
Subject: [Stratego Users] Internal error: with clause failed unexpectedly in
	rule 'generate-java'
Message-ID: <CAAzr2JNwSfPRk2J=YjbE4t-x_bMj9m_yVXyudc6zAF9duTxV4w@mail.gmail.com>

Hi,
I am getting started using Spoofax and I am having problems when I'm trying
to generate code using "generate.str" file.
I don't understand the error log. I wrote rules to handle 'fieldDec' and
'Start' productions. It seems to have errors on my rules, but I don't know
where. Can someone help me?
Full Stacktrace:

JavaComp: rewriting failed, trace:
generate_java_0_0
to_tres_end_0_0
[ JavaComp | critical ] Internal error: with clause failed unexpectedly in
rule 'generate-java'

 (fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typeDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),[]))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/JavaComp")
org.spoofax.interpreter.core.InterpreterException: Exception during
evaluation
at org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:117)
 at org.spoofax.interpreter.core.Interpreter.invoke(Interpreter.java:82)
at org.strategoxt.HybridInterpreter.invoke(HybridInterpreter.java:424)
 at
org.strategoxt.imp.debug.core.str.launching.DebuggableHybridInterpreter.invoke(DebuggableHybridInterpreter.java:150)
at org.strategoxt.imp.runtime.Environment$2.invoke(Environment.java:193)
 at
org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver.java:701)
at
org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver.java:670)
 at
org.strategoxt.imp.runtime.services.StrategoBuilder.invokeObserver(StrategoBuilder.java:327)
at
org.strategoxt.imp.runtime.services.StrategoBuilder.execute(StrategoBuilder.java:193)
 at
org.strategoxt.imp.runtime.services.StrategoBuilder.access$1(StrategoBuilder.java:177)
at
org.strategoxt.imp.runtime.services.StrategoBuilder$1.run(StrategoBuilder.java:164)
 at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)
Caused by: org.spoofax.interpreter.core.InterpreterErrorExit: Internal
error: with clause failed unexpectedly in rule 'generate-java'
 1
at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:194)
at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:183)
 at
org.strategoxt.lang.InteropSDefT$StrategyBody.evaluate(InteropSDefT.java:245)
at org.strategoxt.lang.InteropSDefT$StrategyBody.eval(InteropSDefT.java:238)
 at org.spoofax.interpreter.stratego.Strategy.evaluate(Strategy.java:76)
at org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:109)
 ... 11 more
Caused by: org.strategoxt.lang.StrategoErrorExit: Internal error: with
clause failed unexpectedly in rule 'generate-java'
1
 at
org.strategoxt.lang.compat.report_failure_compat_1_0.invoke(report_failure_compat_1_0.java:53)
at
org.strategoxt.stratego_lib.report_with_failure_0_2.invoke(report_with_failure_0_2.java)
 at org.strategoxt.lang.Strategy.invokeDynamic(Strategy.java:32)
at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:192)
 ... 16 more
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/6f9056d9/attachment.html>

From kralikba at msn.com  Sun Apr 14 18:38:26 2013
From: kralikba at msn.com (=?iso-8859-2?Q?Kr=E1lik_Barnab=E1s?=)
Date: Sun, 14 Apr 2013 18:38:26 +0200
Subject: [Stratego Users] Internal error: with clause failed
	unexpectedly in	rule 'generate-java'
In-Reply-To: <004201ce3920$4a665440$df32fcc0$@hotmail.com>
References: <004201ce3920$4a665440$df32fcc0$@hotmail.com>
Message-ID: <BAY175-DS13FA91FD2335E929B0D59CD0C30@phx.gbl>

Hi,

 

This means that the system has tried to apply all possible strategies, but
have failed. The actual stack trace of your Stratego program is:

            generate_java_0_0

            to_tres_end_0_0

i.e. the main strategy called is generate_java, the last tried strategy is
to_tres_end, which has been directly called by the former one.

 

The next important piece of information is a 3-tuple:

(fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
(variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
[]))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
Comp")

 

The first item is the AST of the text-to-be-analyzed, the second is the path
to the file inside the Eclipse project, the third one  is the path of the
Eclipse project itself. The Java stack trace does not really concern your
work.

 

Hope that helps

Barnab?s

 

From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org] On
Behalf Of Anderson Almeida
Sent: Sunday, April 14, 2013 4:23 PM
To: users at strategoxt.org
Subject: [Stratego Users] Internal error: with clause failed unexpectedly in
rule 'generate-java'

 

Hi,

I am getting started using Spoofax and I am having problems when I'm trying
to generate code using "generate.str" file.

I don't understand the error log. I wrote rules to handle 'fieldDec' and
'Start' productions. It seems to have errors on my rules, but I don't know
where. Can someone help me?

Full Stacktrace:

 

JavaComp: rewriting failed, trace:

          generate_java_0_0

          to_tres_end_0_0

[ JavaComp | critical ] Internal error: with clause failed unexpectedly in
rule 'generate-java'

 
(fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
(variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
[]))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
Comp")

org.spoofax.interpreter.core.InterpreterException: Exception during
evaluation

          at
org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:117)

          at
org.spoofax.interpreter.core.Interpreter.invoke(Interpreter.java:82)

          at
org.strategoxt.HybridInterpreter.invoke(HybridInterpreter.java:424)

          at
org.strategoxt.imp.debug.core.str.launching.DebuggableHybridInterpreter.invo
ke(DebuggableHybridInterpreter.java:150)

          at
org.strategoxt.imp.runtime.Environment$2.invoke(Environment.java:193)

          at
org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
.java:701)

          at
org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
.java:670)

          at
org.strategoxt.imp.runtime.services.StrategoBuilder.invokeObserver(StrategoB
uilder.java:327)

          at
org.strategoxt.imp.runtime.services.StrategoBuilder.execute(StrategoBuilder.
java:193)

          at
org.strategoxt.imp.runtime.services.StrategoBuilder.access$1(StrategoBuilder
.java:177)

          at
org.strategoxt.imp.runtime.services.StrategoBuilder$1.run(StrategoBuilder.ja
va:164)

          at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)

Caused by: org.spoofax.interpreter.core.InterpreterErrorExit: Internal
error: with clause failed unexpectedly in rule 'generate-java'

          1

          at
org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:194)

          at
org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:183)

          at
org.strategoxt.lang.InteropSDefT$StrategyBody.evaluate(InteropSDefT.java:245
)

          at
org.strategoxt.lang.InteropSDefT$StrategyBody.eval(InteropSDefT.java:238)

          at
org.spoofax.interpreter.stratego.Strategy.evaluate(Strategy.java:76)

          at
org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:109)

          ... 11 more

Caused by: org.strategoxt.lang.StrategoErrorExit: Internal error: with
clause failed unexpectedly in rule 'generate-java'

          1

          at
org.strategoxt.lang.compat.report_failure_compat_1_0.invoke(report_failure_c
ompat_1_0.java:53)

          at
org.strategoxt.stratego_lib.report_with_failure_0_2.invoke(report_with_failu
re_0_2.java)

          at org.strategoxt.lang.Strategy.invokeDynamic(Strategy.java:32)

          at
org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:192)

          ... 16 more

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/d65efd48/attachment-0001.html>

From anderson_a_f at hotmail.com  Sun Apr 14 19:11:16 2013
From: anderson_a_f at hotmail.com (Anderson Almeida)
Date: Sun, 14 Apr 2013 14:11:16 -0300
Subject: [Stratego Users] Users Digest, Vol 50, Issue 8
In-Reply-To: <mailman.19.1365957529.861.users@strategoxt.org>
References: <mailman.19.1365957529.861.users@strategoxt.org>
Message-ID: <CAAzr2JOdrkAP1tmUhWDoYVoEtq6dNTatR2yHBjUhCeev+hizBw@mail.gmail.com>

Thanks for the explanation!
But I wanted to know what is wrong with my rules "to-tres-end".
Here they are:

* to-tres-end:*
  stm(varDeclaration(t1, type(t2, t3), varDeclarator(t4, t5,
Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(t6)))))))),
ComaVarDecAux(t7)))-> $[
      private ;
      public  get {
          return ;
      }
      public void set {
      }  ]

   * to-tres-end:*
  fieldDec(Some(x1),varDeclaration(t1, type(t2, t3), varDeclarator(t4, t5,
Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(t6)))))))),
ComaVarDecAux(t7)))-> $[
      private ;
      public  get {
          return ;
      }
      public void set {
             }  ]

     *to-tres-end:*
  Start(compilUnit(Some(x1), x2, typeDec(Some(x3), classDec(t1, t2,
Some(t3), Some(t4), fieldDec(Some(x4),varDeclaration(t5, type(t6, t7),
varDeclarator(t8, t9,
Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(t10)))))))),
ComaVarDecAux(t11)))))))-> $[
      private ;
      public  get {
          return ;
      }
      public void set {
              }  ]

Thanks,
Anderson



2013/4/14 <users-request at strategoxt.org>

> Send Users mailing list submissions to
>         users at strategoxt.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         https://mailman.st.ewi.tudelft.nl/listinfo/users
> or, via email, send a message with subject or body 'help' to
>         users-request at strategoxt.org
>
> You can reach the person managing the list at
>         users-owner at strategoxt.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Users digest..."
>
>
> Today's Topics:
>
>    1. Internal error: with clause failed unexpectedly in        rule
>       'generate-java' (Anderson Almeida)
>    2. Re: Internal error: with clause failed    unexpectedly in rule
>       'generate-java' (Kr?lik Barnab?s)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Sun, 14 Apr 2013 11:23:26 -0300
> From: Anderson Almeida <anderson_a_f at hotmail.com>
> To: users at strategoxt.org
> Subject: [Stratego Users] Internal error: with clause failed
>         unexpectedly in rule 'generate-java'
> Message-ID:
>         <CAAzr2JNwSfPRk2J=
> YjbE4t-x_bMj9m_yVXyudc6zAF9duTxV4w at mail.gmail.com>
> Content-Type: text/plain; charset="iso-8859-1"
>
> Hi,
> I am getting started using Spoofax and I am having problems when I'm trying
> to generate code using "generate.str" file.
> I don't understand the error log. I wrote rules to handle 'fieldDec' and
> 'Start' productions. It seems to have errors on my rules, but I don't know
> where. Can someone help me?
> Full Stacktrace:
>
> JavaComp: rewriting failed, trace:
> generate_java_0_0
> to_tres_end_0_0
> [ JavaComp | critical ] Internal error: with clause failed unexpectedly in
> rule 'generate-java'
>
>
>  (fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typeDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),[]))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/JavaComp")
> org.spoofax.interpreter.core.InterpreterException: Exception during
> evaluation
> at org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:117)
>  at org.spoofax.interpreter.core.Interpreter.invoke(Interpreter.java:82)
> at org.strategoxt.HybridInterpreter.invoke(HybridInterpreter.java:424)
>  at
>
> org.strategoxt.imp.debug.core.str.launching.DebuggableHybridInterpreter.invoke(DebuggableHybridInterpreter.java:150)
> at org.strategoxt.imp.runtime.Environment$2.invoke(Environment.java:193)
>  at
>
> org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver.java:701)
> at
>
> org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver.java:670)
>  at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.invokeObserver(StrategoBuilder.java:327)
> at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.execute(StrategoBuilder.java:193)
>  at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.access$1(StrategoBuilder.java:177)
> at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder$1.run(StrategoBuilder.java:164)
>  at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)
> Caused by: org.spoofax.interpreter.core.InterpreterErrorExit: Internal
> error: with clause failed unexpectedly in rule 'generate-java'
>  1
> at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:194)
> at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:183)
>  at
>
> org.strategoxt.lang.InteropSDefT$StrategyBody.evaluate(InteropSDefT.java:245)
> at
> org.strategoxt.lang.InteropSDefT$StrategyBody.eval(InteropSDefT.java:238)
>  at org.spoofax.interpreter.stratego.Strategy.evaluate(Strategy.java:76)
> at org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:109)
>  ... 11 more
> Caused by: org.strategoxt.lang.StrategoErrorExit: Internal error: with
> clause failed unexpectedly in rule 'generate-java'
> 1
>  at
>
> org.strategoxt.lang.compat.report_failure_compat_1_0.invoke(report_failure_compat_1_0.java:53)
> at
>
> org.strategoxt.stratego_lib.report_with_failure_0_2.invoke(report_with_failure_0_2.java)
>  at org.strategoxt.lang.Strategy.invokeDynamic(Strategy.java:32)
> at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:192)
>  ... 16 more
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/6f9056d9/attachment-0001.html
> >
>
> ------------------------------
>
> Message: 2
> Date: Sun, 14 Apr 2013 18:38:26 +0200
> From: Kr?lik Barnab?s <kralikba at msn.com>
> To: "'Stratego/XT Users'" <users at strategoxt.org>
> Subject: Re: [Stratego Users] Internal error: with clause failed
>         unexpectedly in rule 'generate-java'
> Message-ID: <BAY175-DS13FA91FD2335E929B0D59CD0C30 at phx.gbl>
> Content-Type: text/plain; charset="iso-8859-2"
>
> Hi,
>
>
>
> This means that the system has tried to apply all possible strategies, but
> have failed. The actual stack trace of your Stratego program is:
>
>             generate_java_0_0
>
>             to_tres_end_0_0
>
> i.e. the main strategy called is generate_java, the last tried strategy is
> to_tres_end, which has been directly called by the former one.
>
>
>
> The next important piece of information is a 3-tuple:
>
>
> (fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
>
> ,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
>
> Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
>
> eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
>
> n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
>
> (variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
>
> []))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
> Comp")
>
>
>
> The first item is the AST of the text-to-be-analyzed, the second is the
> path
> to the file inside the Eclipse project, the third one  is the path of the
> Eclipse project itself. The Java stack trace does not really concern your
> work.
>
>
>
> Hope that helps
>
> Barnab?s
>
>
>
> From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org]
> On
> Behalf Of Anderson Almeida
> Sent: Sunday, April 14, 2013 4:23 PM
> To: users at strategoxt.org
> Subject: [Stratego Users] Internal error: with clause failed unexpectedly
> in
> rule 'generate-java'
>
>
>
> Hi,
>
> I am getting started using Spoofax and I am having problems when I'm trying
> to generate code using "generate.str" file.
>
> I don't understand the error log. I wrote rules to handle 'fieldDec' and
> 'Start' productions. It seems to have errors on my rules, but I don't know
> where. Can someone help me?
>
> Full Stacktrace:
>
>
>
> JavaComp: rewriting failed, trace:
>
>           generate_java_0_0
>
>           to_tres_end_0_0
>
> [ JavaComp | critical ] Internal error: with clause failed unexpectedly in
> rule 'generate-java'
>
>
>
> (fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
>
> ,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
>
> Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
>
> eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
>
> n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
>
> (variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
>
> []))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
> Comp")
>
> org.spoofax.interpreter.core.InterpreterException: Exception during
> evaluation
>
>           at
> org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:117)
>
>           at
> org.spoofax.interpreter.core.Interpreter.invoke(Interpreter.java:82)
>
>           at
> org.strategoxt.HybridInterpreter.invoke(HybridInterpreter.java:424)
>
>           at
>
> org.strategoxt.imp.debug.core.str.launching.DebuggableHybridInterpreter.invo
> ke(DebuggableHybridInterpreter.java:150)
>
>           at
> org.strategoxt.imp.runtime.Environment$2.invoke(Environment.java:193)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
> .java:701)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
> .java:670)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.invokeObserver(StrategoB
> uilder.java:327)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.execute(StrategoBuilder.
> java:193)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.access$1(StrategoBuilder
> .java:177)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder$1.run(StrategoBuilder.ja
> va:164)
>
>           at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)
>
> Caused by: org.spoofax.interpreter.core.InterpreterErrorExit: Internal
> error: with clause failed unexpectedly in rule 'generate-java'
>
>           1
>
>           at
> org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:194)
>
>           at
> org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:183)
>
>           at
>
> org.strategoxt.lang.InteropSDefT$StrategyBody.evaluate(InteropSDefT.java:245
> )
>
>           at
> org.strategoxt.lang.InteropSDefT$StrategyBody.eval(InteropSDefT.java:238)
>
>           at
> org.spoofax.interpreter.stratego.Strategy.evaluate(Strategy.java:76)
>
>           at
> org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:109)
>
>           ... 11 more
>
> Caused by: org.strategoxt.lang.StrategoErrorExit: Internal error: with
> clause failed unexpectedly in rule 'generate-java'
>
>           1
>
>           at
>
> org.strategoxt.lang.compat.report_failure_compat_1_0.invoke(report_failure_c
> ompat_1_0.java:53)
>
>           at
>
> org.strategoxt.stratego_lib.report_with_failure_0_2.invoke(report_with_failu
> re_0_2.java)
>
>           at org.strategoxt.lang.Strategy.invokeDynamic(Strategy.java:32)
>
>           at
> org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:192)
>
>           ... 16 more
>
>
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/d65efd48/attachment.html
> >
>
> ------------------------------
>
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users
>
>
> End of Users Digest, Vol 50, Issue 8
> ************************************
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/24f4cdf9/attachment-0001.html>

From kralikba at msn.com  Mon Apr 15 09:24:09 2013
From: kralikba at msn.com (=?iso-8859-2?Q?Kr=E1lik_Barnab=E1s?=)
Date: Mon, 15 Apr 2013 09:24:09 +0200
Subject: [Stratego Users] Users Digest, Vol 50, Issue 8
In-Reply-To: <006701ce3939$920a7100$b61f5300$@hotmail.com>
References: <mailman.19.1365957529.861.users@strategoxt.org>
	<006701ce3939$920a7100$b61f5300$@hotmail.com>
Message-ID: <BAY175-DS9CBA3E1E419891AFD32C6D0CC0@phx.gbl>

Could you please show generate-java too?

 

Without that, I can only make a remark: to-tres-end itself does not match
the seen instances of fieldDec. (there is no fieldDec(None(),.. rule.)

 

Barnab?s

 

From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org] On
Behalf Of Anderson Almeida
Sent: Sunday, April 14, 2013 7:11 PM
To: users at strategoxt.org
Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 8

 

Thanks for the explanation!

But I wanted to know what is wrong with my rules "to-tres-end".

Here they are:

 

 to-tres-end:

  stm(varDeclaration(t1, type(t2, t3), varDeclarator(t4, t5,
Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterL
iteral(Char(aux(t6)))))))), ComaVarDecAux(t7)))-> $[

      private ;

      public  get {

          return ;

      }      

      public void set {         

      }  ]

  

    to-tres-end:

  fieldDec(Some(x1),varDeclaration(t1, type(t2, t3), varDeclarator(t4, t5,
Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterL
iteral(Char(aux(t6)))))))), ComaVarDecAux(t7)))-> $[

      private ;      

      public  get {

          return ;

      }      

      public void set {

             }  ]

  

     to-tres-end:

  Start(compilUnit(Some(x1), x2, typeDec(Some(x3), classDec(t1, t2,
Some(t3), Some(t4), fieldDec(Some(x4),varDeclaration(t5, type(t6, t7),
varDeclarator(t8, t9,
Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterL
iteral(Char(aux(t10)))))))), ComaVarDecAux(t11)))))))-> $[

      private ;      

      public  get {

          return ;

      }      

      public void set {

              }  ]

 

Thanks,

Anderson

 

 

2013/4/14 <users-request at strategoxt.org>

Send Users mailing list submissions to
        users at strategoxt.org

To subscribe or unsubscribe via the World Wide Web, visit
        https://mailman.st.ewi.tudelft.nl/listinfo/users
or, via email, send a message with subject or body 'help' to
        users-request at strategoxt.org

You can reach the person managing the list at
        users-owner at strategoxt.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of Users digest..."


Today's Topics:

   1. Internal error: with clause failed unexpectedly in        rule
      'generate-java' (Anderson Almeida)
   2. Re: Internal error: with clause failed    unexpectedly in rule
      'generate-java' (Kr?lik Barnab?s)


----------------------------------------------------------------------

Message: 1
Date: Sun, 14 Apr 2013 11:23:26 -0300
From: Anderson Almeida <anderson_a_f at hotmail.com>
To: users at strategoxt.org
Subject: [Stratego Users] Internal error: with clause failed
        unexpectedly in rule 'generate-java'
Message-ID:
        <CAAzr2JNwSfPRk2J=YjbE4t-x_bMj9m_yVXyudc6zAF9duTxV4w at mail.gmail.com>
Content-Type: text/plain; charset="iso-8859-1"

Hi,
I am getting started using Spoofax and I am having problems when I'm trying
to generate code using "generate.str" file.
I don't understand the error log. I wrote rules to handle 'fieldDec' and
'Start' productions. It seems to have errors on my rules, but I don't know
where. Can someone help me?
Full Stacktrace:

JavaComp: rewriting failed, trace:
generate_java_0_0
to_tres_end_0_0
[ JavaComp | critical ] Internal error: with clause failed unexpectedly in
rule 'generate-java'

 
(fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
(variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
[]))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
Comp")
org.spoofax.interpreter.core.InterpreterException: Exception during
evaluation
at org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:117)
 at org.spoofax.interpreter.core.Interpreter.invoke(Interpreter.java:82)
at org.strategoxt.HybridInterpreter.invoke(HybridInterpreter.java:424)
 at
org.strategoxt.imp.debug.core.str.launching.DebuggableHybridInterpreter.invo
ke(DebuggableHybridInterpreter.java:150)
at org.strategoxt.imp.runtime.Environment$2.invoke(Environment.java:193)
 at
org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
.java:701)
at
org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
.java:670)
 at
org.strategoxt.imp.runtime.services.StrategoBuilder.invokeObserver(StrategoB
uilder.java:327)
at
org.strategoxt.imp.runtime.services.StrategoBuilder.execute(StrategoBuilder.
java:193)
 at
org.strategoxt.imp.runtime.services.StrategoBuilder.access$1(StrategoBuilder
.java:177)
at
org.strategoxt.imp.runtime.services.StrategoBuilder$1.run(StrategoBuilder.ja
va:164)
 at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)
Caused by: org.spoofax.interpreter.core.InterpreterErrorExit: Internal
error: with clause failed unexpectedly in rule 'generate-java'
 1
at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:194)
at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:183)
 at
org.strategoxt.lang.InteropSDefT$StrategyBody.evaluate(InteropSDefT.java:245
)
at org.strategoxt.lang.InteropSDefT$StrategyBody.eval(InteropSDefT.java:238)
 at org.spoofax.interpreter.stratego.Strategy.evaluate(Strategy.java:76)
at org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:109)
 ... 11 more
Caused by: org.strategoxt.lang.StrategoErrorExit: Internal error: with
clause failed unexpectedly in rule 'generate-java'
1
 at
org.strategoxt.lang.compat.report_failure_compat_1_0.invoke(report_failure_c
ompat_1_0.java:53)
at
org.strategoxt.stratego_lib.report_with_failure_0_2.invoke(report_with_failu
re_0_2.java)
 at org.strategoxt.lang.Strategy.invokeDynamic(Strategy.java:32)
at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:192)
 ... 16 more
-------------- next part --------------
An HTML attachment was scrubbed...
URL:
<https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/6f90
56d9/attachment-0001.html>

------------------------------

Message: 2
Date: Sun, 14 Apr 2013 18:38:26 +0200
From: Kr?lik Barnab?s <kralikba at msn.com>
To: "'Stratego/XT Users'" <users at strategoxt.org>
Subject: Re: [Stratego Users] Internal error: with clause failed
        unexpectedly in rule 'generate-java'
Message-ID: <BAY175-DS13FA91FD2335E929B0D59CD0C30 at phx.gbl>
Content-Type: text/plain; charset="iso-8859-2"

Hi,



This means that the system has tried to apply all possible strategies, but
have failed. The actual stack trace of your Stratego program is:

            generate_java_0_0

            to_tres_end_0_0

i.e. the main strategy called is generate_java, the last tried strategy is
to_tres_end, which has been directly called by the former one.



The next important piece of information is a 3-tuple:

(fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
(variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
[]))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
Comp")



The first item is the AST of the text-to-be-analyzed, the second is the path
to the file inside the Eclipse project, the third one  is the path of the
Eclipse project itself. The Java stack trace does not really concern your
work.



Hope that helps

Barnab?s



From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org] On
Behalf Of Anderson Almeida
Sent: Sunday, April 14, 2013 4:23 PM
To: users at strategoxt.org
Subject: [Stratego Users] Internal error: with clause failed unexpectedly in
rule 'generate-java'



Hi,

I am getting started using Spoofax and I am having problems when I'm trying
to generate code using "generate.str" file.

I don't understand the error log. I wrote rules to handle 'fieldDec' and
'Start' productions. It seems to have errors on my rules, but I don't know
where. Can someone help me?

Full Stacktrace:



JavaComp: rewriting failed, trace:

          generate_java_0_0

          to_tres_end_0_0

[ JavaComp | critical ] Internal error: with clause failed unexpectedly in
rule 'generate-java'


(fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
(variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
[]))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
Comp")

org.spoofax.interpreter.core.InterpreterException: Exception during
evaluation

          at
org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:117)

          at
org.spoofax.interpreter.core.Interpreter.invoke(Interpreter.java:82)

          at
org.strategoxt.HybridInterpreter.invoke(HybridInterpreter.java:424)

          at
org.strategoxt.imp.debug.core.str.launching.DebuggableHybridInterpreter.invo
ke(DebuggableHybridInterpreter.java:150)

          at
org.strategoxt.imp.runtime.Environment$2.invoke(Environment.java:193)

          at
org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
.java:701)

          at
org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
.java:670)

          at
org.strategoxt.imp.runtime.services.StrategoBuilder.invokeObserver(StrategoB
uilder.java:327)

          at
org.strategoxt.imp.runtime.services.StrategoBuilder.execute(StrategoBuilder.
java:193)

          at
org.strategoxt.imp.runtime.services.StrategoBuilder.access$1(StrategoBuilder
.java:177)

          at
org.strategoxt.imp.runtime.services.StrategoBuilder$1.run(StrategoBuilder.ja
va:164)

          at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)

Caused by: org.spoofax.interpreter.core.InterpreterErrorExit: Internal
error: with clause failed unexpectedly in rule 'generate-java'

          1

          at
org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:194)

          at
org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:183)

          at
org.strategoxt.lang.InteropSDefT$StrategyBody.evaluate(InteropSDefT.java:245
)

          at
org.strategoxt.lang.InteropSDefT$StrategyBody.eval(InteropSDefT.java:238)

          at
org.spoofax.interpreter.stratego.Strategy.evaluate(Strategy.java:76)

          at
org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:109)

          ... 11 more

Caused by: org.strategoxt.lang.StrategoErrorExit: Internal error: with
clause failed unexpectedly in rule 'generate-java'

          1

          at
org.strategoxt.lang.compat.report_failure_compat_1_0.invoke(report_failure_c
ompat_1_0.java:53)

          at
org.strategoxt.stratego_lib.report_with_failure_0_2.invoke(report_with_failu
re_0_2.java)

          at org.strategoxt.lang.Strategy.invokeDynamic(Strategy.java:32)

          at
org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:192)

          ... 16 more



-------------- next part --------------
An HTML attachment was scrubbed...
URL:
<https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/d65e
fd48/attachment.html>

------------------------------

_______________________________________________
Users mailing list
Users at strategoxt.org
https://mailman.st.ewi.tudelft.nl/listinfo/users


End of Users Digest, Vol 50, Issue 8
************************************

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/169255fd/attachment-0001.html>

From anderson_a_f at hotmail.com  Mon Apr 15 16:29:59 2013
From: anderson_a_f at hotmail.com (Anderson Almeida)
Date: Mon, 15 Apr 2013 11:29:59 -0300
Subject: [Stratego Users] Users Digest, Vol 50, Issue 10
In-Reply-To: <mailman.26.1366010678.861.users@strategoxt.org>
References: <mailman.26.1366010678.861.users@strategoxt.org>
Message-ID: <CAAzr2JN1MSpSOq4=euSZZvLYpbwUCtxxvo3We+TSGXzORE6M8w@mail.gmail.com>

Thanks for answering, Barnab?s!
Here is 'generate-java':
    generate-java:
    (selected, position, ast, path, project-path) -> (filename, result)
    with
      filename := <guarantee-extension(|"java")> path;
      result   := <to-tres-end> selected

I also wanted to know what does this AST node mean:

"(fieldDec(None,varDeclaration([modifier],type(Int,[]),
varDeclarator("var",[]
,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
(variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
[]))]))])),"

I don't understand this. Does it try to find a rule that matches with this
AST node? Because there isn't a way to go to 'fieldDec' and then turn back
to the 'Start' rule in my syntax definition. And what does "[0,2,0,1,4,0]"
mean? I'm confused...



2013/4/15 <users-request at strategoxt.org>

> Send Users mailing list submissions to
>         users at strategoxt.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         https://mailman.st.ewi.tudelft.nl/listinfo/users
> or, via email, send a message with subject or body 'help' to
>         users-request at strategoxt.org
>
> You can reach the person managing the list at
>         users-owner at strategoxt.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Users digest..."
>
>
> Today's Topics:
>
>    1. Re: Users Digest, Vol 50, Issue 8 (Kr?lik Barnab?s)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Mon, 15 Apr 2013 09:24:09 +0200
> From: Kr?lik Barnab?s <kralikba at msn.com>
> To: "'Stratego/XT Users'" <users at strategoxt.org>
> Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 8
> Message-ID: <BAY175-DS9CBA3E1E419891AFD32C6D0CC0 at phx.gbl>
> Content-Type: text/plain; charset="iso-8859-2"
>
> Could you please show generate-java too?
>
>
>
> Without that, I can only make a remark: to-tres-end itself does not match
> the seen instances of fieldDec. (there is no fieldDec(None(),.. rule.)
>
>
>
> Barnab?s
>
>
>
> From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org]
> On
> Behalf Of Anderson Almeida
> Sent: Sunday, April 14, 2013 7:11 PM
> To: users at strategoxt.org
> Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 8
>
>
>
> Thanks for the explanation!
>
> But I wanted to know what is wrong with my rules "to-tres-end".
>
> Here they are:
>
>
>
>  to-tres-end:
>
>   stm(varDeclaration(t1, type(t2, t3), varDeclarator(t4, t5,
>
> Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterL
> iteral(Char(aux(t6)))))))), ComaVarDecAux(t7)))-> $[
>
>       private ;
>
>       public  get {
>
>           return ;
>
>       }
>
>       public void set {
>
>       }  ]
>
>
>
>     to-tres-end:
>
>   fieldDec(Some(x1),varDeclaration(t1, type(t2, t3), varDeclarator(t4, t5,
>
> Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterL
> iteral(Char(aux(t6)))))))), ComaVarDecAux(t7)))-> $[
>
>       private ;
>
>       public  get {
>
>           return ;
>
>       }
>
>       public void set {
>
>              }  ]
>
>
>
>      to-tres-end:
>
>   Start(compilUnit(Some(x1), x2, typeDec(Some(x3), classDec(t1, t2,
> Some(t3), Some(t4), fieldDec(Some(x4),varDeclaration(t5, type(t6, t7),
> varDeclarator(t8, t9,
>
> Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterL
> iteral(Char(aux(t10)))))))), ComaVarDecAux(t11)))))))-> $[
>
>       private ;
>
>       public  get {
>
>           return ;
>
>       }
>
>       public void set {
>
>               }  ]
>
>
>
> Thanks,
>
> Anderson
>
>
>
>
>
> 2013/4/14 <users-request at strategoxt.org>
>
> Send Users mailing list submissions to
>         users at strategoxt.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         https://mailman.st.ewi.tudelft.nl/listinfo/users
> or, via email, send a message with subject or body 'help' to
>         users-request at strategoxt.org
>
> You can reach the person managing the list at
>         users-owner at strategoxt.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Users digest..."
>
>
> Today's Topics:
>
>    1. Internal error: with clause failed unexpectedly in        rule
>       'generate-java' (Anderson Almeida)
>    2. Re: Internal error: with clause failed    unexpectedly in rule
>       'generate-java' (Kr?lik Barnab?s)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Sun, 14 Apr 2013 11:23:26 -0300
> From: Anderson Almeida <anderson_a_f at hotmail.com>
> To: users at strategoxt.org
> Subject: [Stratego Users] Internal error: with clause failed
>         unexpectedly in rule 'generate-java'
> Message-ID:
>         <CAAzr2JNwSfPRk2J=
> YjbE4t-x_bMj9m_yVXyudc6zAF9duTxV4w at mail.gmail.com>
> Content-Type: text/plain; charset="iso-8859-1"
>
> Hi,
> I am getting started using Spoofax and I am having problems when I'm trying
> to generate code using "generate.str" file.
> I don't understand the error log. I wrote rules to handle 'fieldDec' and
> 'Start' productions. It seems to have errors on my rules, but I don't know
> where. Can someone help me?
> Full Stacktrace:
>
> JavaComp: rewriting failed, trace:
> generate_java_0_0
> to_tres_end_0_0
> [ JavaComp | critical ] Internal error: with clause failed unexpectedly in
> rule 'generate-java'
>
>
>
> (fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
>
> ,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
>
> Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
>
> eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
>
> n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
>
> (variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
>
> []))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
> Comp")
> org.spoofax.interpreter.core.InterpreterException: Exception during
> evaluation
> at org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:117)
>  at org.spoofax.interpreter.core.Interpreter.invoke(Interpreter.java:82)
> at org.strategoxt.HybridInterpreter.invoke(HybridInterpreter.java:424)
>  at
>
> org.strategoxt.imp.debug.core.str.launching.DebuggableHybridInterpreter.invo
> ke(DebuggableHybridInterpreter.java:150)
> at org.strategoxt.imp.runtime.Environment$2.invoke(Environment.java:193)
>  at
>
> org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
> .java:701)
> at
>
> org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
> .java:670)
>  at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.invokeObserver(StrategoB
> uilder.java:327)
> at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.execute(StrategoBuilder.
> java:193)
>  at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.access$1(StrategoBuilder
> .java:177)
> at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder$1.run(StrategoBuilder.ja
> va:164)
>  at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)
> Caused by: org.spoofax.interpreter.core.InterpreterErrorExit: Internal
> error: with clause failed unexpectedly in rule 'generate-java'
>  1
> at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:194)
> at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:183)
>  at
>
> org.strategoxt.lang.InteropSDefT$StrategyBody.evaluate(InteropSDefT.java:245
> )
> at
> org.strategoxt.lang.InteropSDefT$StrategyBody.eval(InteropSDefT.java:238)
>  at org.spoofax.interpreter.stratego.Strategy.evaluate(Strategy.java:76)
> at org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:109)
>  ... 11 more
> Caused by: org.strategoxt.lang.StrategoErrorExit: Internal error: with
> clause failed unexpectedly in rule 'generate-java'
> 1
>  at
>
> org.strategoxt.lang.compat.report_failure_compat_1_0.invoke(report_failure_c
> ompat_1_0.java:53)
> at
>
> org.strategoxt.stratego_lib.report_with_failure_0_2.invoke(report_with_failu
> re_0_2.java)
>  at org.strategoxt.lang.Strategy.invokeDynamic(Strategy.java:32)
> at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:192)
>  ... 16 more
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL:
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/6f90
> 56d9/attachment-0001.html>
>
> ------------------------------
>
> Message: 2
> Date: Sun, 14 Apr 2013 18:38:26 +0200
> From: Kr?lik Barnab?s <kralikba at msn.com>
> To: "'Stratego/XT Users'" <users at strategoxt.org>
> Subject: Re: [Stratego Users] Internal error: with clause failed
>         unexpectedly in rule 'generate-java'
> Message-ID: <BAY175-DS13FA91FD2335E929B0D59CD0C30 at phx.gbl>
> Content-Type: text/plain; charset="iso-8859-2"
>
> Hi,
>
>
>
> This means that the system has tried to apply all possible strategies, but
> have failed. The actual stack trace of your Stratego program is:
>
>             generate_java_0_0
>
>             to_tres_end_0_0
>
> i.e. the main strategy called is generate_java, the last tried strategy is
> to_tres_end, which has been directly called by the former one.
>
>
>
> The next important piece of information is a 3-tuple:
>
>
> (fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
>
> ,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
>
> Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
>
> eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
>
> n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
>
> (variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
>
> []))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
> Comp")
>
>
>
> The first item is the AST of the text-to-be-analyzed, the second is the
> path
> to the file inside the Eclipse project, the third one  is the path of the
> Eclipse project itself. The Java stack trace does not really concern your
> work.
>
>
>
> Hope that helps
>
> Barnab?s
>
>
>
> From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org]
> On
> Behalf Of Anderson Almeida
> Sent: Sunday, April 14, 2013 4:23 PM
> To: users at strategoxt.org
> Subject: [Stratego Users] Internal error: with clause failed unexpectedly
> in
> rule 'generate-java'
>
>
>
> Hi,
>
> I am getting started using Spoofax and I am having problems when I'm trying
> to generate code using "generate.str" file.
>
> I don't understand the error log. I wrote rules to handle 'fieldDec' and
> 'Start' productions. It seems to have errors on my rules, but I don't know
> where. Can someone help me?
>
> Full Stacktrace:
>
>
>
> JavaComp: rewriting failed, trace:
>
>           generate_java_0_0
>
>           to_tres_end_0_0
>
> [ JavaComp | critical ] Internal error: with clause failed unexpectedly in
> rule 'generate-java'
>
>
>
> (fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
>
> ,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
>
> Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
>
> eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
>
> n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
>
> (variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
>
> []))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
> Comp")
>
> org.spoofax.interpreter.core.InterpreterException: Exception during
> evaluation
>
>           at
> org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:117)
>
>           at
> org.spoofax.interpreter.core.Interpreter.invoke(Interpreter.java:82)
>
>           at
> org.strategoxt.HybridInterpreter.invoke(HybridInterpreter.java:424)
>
>           at
>
> org.strategoxt.imp.debug.core.str.launching.DebuggableHybridInterpreter.invo
> ke(DebuggableHybridInterpreter.java:150)
>
>           at
> org.strategoxt.imp.runtime.Environment$2.invoke(Environment.java:193)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
> .java:701)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
> .java:670)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.invokeObserver(StrategoB
> uilder.java:327)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.execute(StrategoBuilder.
> java:193)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.access$1(StrategoBuilder
> .java:177)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder$1.run(StrategoBuilder.ja
> va:164)
>
>           at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)
>
> Caused by: org.spoofax.interpreter.core.InterpreterErrorExit: Internal
> error: with clause failed unexpectedly in rule 'generate-java'
>
>           1
>
>           at
> org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:194)
>
>           at
> org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:183)
>
>           at
>
> org.strategoxt.lang.InteropSDefT$StrategyBody.evaluate(InteropSDefT.java:245
> )
>
>           at
> org.strategoxt.lang.InteropSDefT$StrategyBody.eval(InteropSDefT.java:238)
>
>           at
> org.spoofax.interpreter.stratego.Strategy.evaluate(Strategy.java:76)
>
>           at
> org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:109)
>
>           ... 11 more
>
> Caused by: org.strategoxt.lang.StrategoErrorExit: Internal error: with
> clause failed unexpectedly in rule 'generate-java'
>
>           1
>
>           at
>
> org.strategoxt.lang.compat.report_failure_compat_1_0.invoke(report_failure_c
> ompat_1_0.java:53)
>
>           at
>
> org.strategoxt.stratego_lib.report_with_failure_0_2.invoke(report_with_failu
> re_0_2.java)
>
>           at org.strategoxt.lang.Strategy.invokeDynamic(Strategy.java:32)
>
>           at
> org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:192)
>
>           ... 16 more
>
>
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL:
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/d65e
> fd48/attachment.html>
>
> ------------------------------
>
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users
>
>
> End of Users Digest, Vol 50, Issue 8
> ************************************
>
>
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/169255fd/attachment.html
> >
>
> ------------------------------
>
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users
>
>
> End of Users Digest, Vol 50, Issue 10
> *************************************
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/1e008e51/attachment-0001.html>

From kralikba at msn.com  Mon Apr 15 16:52:25 2013
From: kralikba at msn.com (=?iso-8859-2?Q?Kr=E1lik_Barnab=E1s?=)
Date: Mon, 15 Apr 2013 16:52:25 +0200
Subject: [Stratego Users] Users Digest, Vol 50, Issue 10
In-Reply-To: <CAAzr2JN1MSpSOq4=euSZZvLYpbwUCtxxvo3We+TSGXzORE6M8w@mail.gmail.com>
References: <mailman.26.1366010678.861.users@strategoxt.org>
	<CAAzr2JN1MSpSOq4=euSZZvLYpbwUCtxxvo3We+TSGXzORE6M8w@mail.gmail.com>
Message-ID: <BAY175-DS123B74A627FCB4E664910DD0CC0@phx.gbl>

Hi Anderson,

 

This means that fieldDec in question is at position [0,2,0,1,4,0] (0-based
children indices) in the AST of the program, which is the Start( . ) item in
the 3-tuple.

 

Barnab?s

 

From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org] On
Behalf Of Anderson Almeida
Sent: Monday, April 15, 2013 4:30 PM
To: users at strategoxt.org
Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 10

 

Thanks for answering, Barnab?s!

Here is 'generate-java':

    generate-java:

    (selected, position, ast, path, project-path) -> (filename, result)

    with

      filename := <guarantee-extension(|"java")> path;

      result   := <to-tres-end> selected

 

I also wanted to know what does this AST node mean:

 

"(fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[
]
,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
(variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
[]))]))])),"

 

I don't understand this. Does it try to find a rule that matches with this
AST node? Because there isn't a way to go to 'fieldDec' and then turn back
to the 'Start' rule in my syntax definition. And what does "[0,2,0,1,4,0]"
mean? I'm confused...

 

2013/4/15 <users-request at strategoxt.org>

Send Users mailing list submissions to
        users at strategoxt.org

To subscribe or unsubscribe via the World Wide Web, visit
        https://mailman.st.ewi.tudelft.nl/listinfo/users
or, via email, send a message with subject or body 'help' to
        users-request at strategoxt.org

You can reach the person managing the list at
        users-owner at strategoxt.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of Users digest..."


Today's Topics:

   1. Re: Users Digest, Vol 50, Issue 8 (Kr?lik Barnab?s)


----------------------------------------------------------------------

Message: 1
Date: Mon, 15 Apr 2013 09:24:09 +0200
From: Kr?lik Barnab?s <kralikba at msn.com>
To: "'Stratego/XT Users'" <users at strategoxt.org>
Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 8
Message-ID: <BAY175-DS9CBA3E1E419891AFD32C6D0CC0 at phx.gbl>
Content-Type: text/plain; charset="iso-8859-2"

Could you please show generate-java too?



Without that, I can only make a remark: to-tres-end itself does not match
the seen instances of fieldDec. (there is no fieldDec(None(),.. rule.)



Barnab?s



From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org] On
Behalf Of Anderson Almeida
Sent: Sunday, April 14, 2013 7:11 PM
To: users at strategoxt.org
Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 8



Thanks for the explanation!

But I wanted to know what is wrong with my rules "to-tres-end".

Here they are:



 to-tres-end:

  stm(varDeclaration(t1, type(t2, t3), varDeclarator(t4, t5,
Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterL
iteral(Char(aux(t6)))))))), ComaVarDecAux(t7)))-> $[

      private ;

      public  get {

          return ;

      }

      public void set {

      }  ]



    to-tres-end:

  fieldDec(Some(x1),varDeclaration(t1, type(t2, t3), varDeclarator(t4, t5,
Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterL
iteral(Char(aux(t6)))))))), ComaVarDecAux(t7)))-> $[

      private ;

      public  get {

          return ;

      }

      public void set {

             }  ]



     to-tres-end:

  Start(compilUnit(Some(x1), x2, typeDec(Some(x3), classDec(t1, t2,
Some(t3), Some(t4), fieldDec(Some(x4),varDeclaration(t5, type(t6, t7),
varDeclarator(t8, t9,
Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterL
iteral(Char(aux(t10)))))))), ComaVarDecAux(t11)))))))-> $[

      private ;

      public  get {

          return ;

      }

      public void set {

              }  ]



Thanks,

Anderson





2013/4/14 <users-request at strategoxt.org>

Send Users mailing list submissions to
        users at strategoxt.org

To subscribe or unsubscribe via the World Wide Web, visit
        https://mailman.st.ewi.tudelft.nl/listinfo/users
or, via email, send a message with subject or body 'help' to
        users-request at strategoxt.org

You can reach the person managing the list at
        users-owner at strategoxt.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of Users digest..."


Today's Topics:

   1. Internal error: with clause failed unexpectedly in        rule
      'generate-java' (Anderson Almeida)
   2. Re: Internal error: with clause failed    unexpectedly in rule
      'generate-java' (Kr?lik Barnab?s)


----------------------------------------------------------------------

Message: 1
Date: Sun, 14 Apr 2013 11:23:26 -0300
From: Anderson Almeida <anderson_a_f at hotmail.com>
To: users at strategoxt.org
Subject: [Stratego Users] Internal error: with clause failed
        unexpectedly in rule 'generate-java'
Message-ID:
        <CAAzr2JNwSfPRk2J=YjbE4t-x_bMj9m_yVXyudc6zAF9duTxV4w at mail.gmail.com>
Content-Type: text/plain; charset="iso-8859-1"

Hi,
I am getting started using Spoofax and I am having problems when I'm trying
to generate code using "generate.str" file.
I don't understand the error log. I wrote rules to handle 'fieldDec' and
'Start' productions. It seems to have errors on my rules, but I don't know
where. Can someone help me?
Full Stacktrace:

JavaComp: rewriting failed, trace:
generate_java_0_0
to_tres_end_0_0
[ JavaComp | critical ] Internal error: with clause failed unexpectedly in
rule 'generate-java'


(fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
(variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
[]))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
Comp")
org.spoofax.interpreter.core.InterpreterException: Exception during
evaluation
at org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:117)
 at org.spoofax.interpreter.core.Interpreter.invoke(Interpreter.java:82)
at org.strategoxt.HybridInterpreter.invoke(HybridInterpreter.java:424)
 at
org.strategoxt.imp.debug.core.str.launching.DebuggableHybridInterpreter.invo
ke(DebuggableHybridInterpreter.java:150)
at org.strategoxt.imp.runtime.Environment$2.invoke(Environment.java:193)
 at
org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
.java:701)
at
org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
.java:670)
 at
org.strategoxt.imp.runtime.services.StrategoBuilder.invokeObserver(StrategoB
uilder.java:327)
at
org.strategoxt.imp.runtime.services.StrategoBuilder.execute(StrategoBuilder.
java:193)
 at
org.strategoxt.imp.runtime.services.StrategoBuilder.access$1(StrategoBuilder
.java:177)
at
org.strategoxt.imp.runtime.services.StrategoBuilder$1.run(StrategoBuilder.ja
va:164)
 at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)
Caused by: org.spoofax.interpreter.core.InterpreterErrorExit: Internal
error: with clause failed unexpectedly in rule 'generate-java'
 1
at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:194)
at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:183)
 at
org.strategoxt.lang.InteropSDefT$StrategyBody.evaluate(InteropSDefT.java:245
)
at org.strategoxt.lang.InteropSDefT$StrategyBody.eval(InteropSDefT.java:238)
 at org.spoofax.interpreter.stratego.Strategy.evaluate(Strategy.java:76)
at org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:109)
 ... 11 more
Caused by: org.strategoxt.lang.StrategoErrorExit: Internal error: with
clause failed unexpectedly in rule 'generate-java'
1
 at
org.strategoxt.lang.compat.report_failure_compat_1_0.invoke(report_failure_c
ompat_1_0.java:53)
at
org.strategoxt.stratego_lib.report_with_failure_0_2.invoke(report_with_failu
re_0_2.java)
 at org.strategoxt.lang.Strategy.invokeDynamic(Strategy.java:32)
at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:192)
 ... 16 more
-------------- next part --------------
An HTML attachment was scrubbed...
URL:
<https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/6f90
<https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/6f90
56d9/attachment-0001.html> 
56d9/attachment-0001.html>

------------------------------

Message: 2
Date: Sun, 14 Apr 2013 18:38:26 +0200
From: Kr?lik Barnab?s <kralikba at msn.com>
To: "'Stratego/XT Users'" <users at strategoxt.org>
Subject: Re: [Stratego Users] Internal error: with clause failed
        unexpectedly in rule 'generate-java'
Message-ID: <BAY175-DS13FA91FD2335E929B0D59CD0C30 at phx.gbl>
Content-Type: text/plain; charset="iso-8859-2"

Hi,



This means that the system has tried to apply all possible strategies, but
have failed. The actual stack trace of your Stratego program is:

            generate_java_0_0

            to_tres_end_0_0

i.e. the main strategy called is generate_java, the last tried strategy is
to_tres_end, which has been directly called by the former one.



The next important piece of information is a 3-tuple:

(fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
(variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
[]))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
Comp")



The first item is the AST of the text-to-be-analyzed, the second is the path
to the file inside the Eclipse project, the third one  is the path of the
Eclipse project itself. The Java stack trace does not really concern your
work.



Hope that helps

Barnab?s



From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org] On
Behalf Of Anderson Almeida
Sent: Sunday, April 14, 2013 4:23 PM
To: users at strategoxt.org
Subject: [Stratego Users] Internal error: with clause failed unexpectedly in
rule 'generate-java'



Hi,

I am getting started using Spoofax and I am having problems when I'm trying
to generate code using "generate.str" file.

I don't understand the error log. I wrote rules to handle 'fieldDec' and
'Start' productions. It seems to have errors on my rules, but I don't know
where. Can someone help me?

Full Stacktrace:



JavaComp: rewriting failed, trace:

          generate_java_0_0

          to_tres_end_0_0

[ JavaComp | critical ] Internal error: with clause failed unexpectedly in
rule 'generate-java'


(fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
(variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
[]))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
Comp")

org.spoofax.interpreter.core.InterpreterException: Exception during
evaluation

          at
org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:117)

          at
org.spoofax.interpreter.core.Interpreter.invoke(Interpreter.java:82)

          at
org.strategoxt.HybridInterpreter.invoke(HybridInterpreter.java:424)

          at
org.strategoxt.imp.debug.core.str.launching.DebuggableHybridInterpreter.invo
ke(DebuggableHybridInterpreter.java:150)

          at
org.strategoxt.imp.runtime.Environment$2.invoke(Environment.java:193)

          at
org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
.java:701)

          at
org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
.java:670)

          at
org.strategoxt.imp.runtime.services.StrategoBuilder.invokeObserver(StrategoB
uilder.java:327)

          at
org.strategoxt.imp.runtime.services.StrategoBuilder.execute(StrategoBuilder.
java:193)

          at
org.strategoxt.imp.runtime.services.StrategoBuilder.access$1(StrategoBuilder
.java:177)

          at
org.strategoxt.imp.runtime.services.StrategoBuilder$1.run(StrategoBuilder.ja
va:164)

          at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)

Caused by: org.spoofax.interpreter.core.InterpreterErrorExit: Internal
error: with clause failed unexpectedly in rule 'generate-java'

          1

          at
org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:194)

          at
org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:183)

          at
org.strategoxt.lang.InteropSDefT$StrategyBody.evaluate(InteropSDefT.java:245
)

          at
org.strategoxt.lang.InteropSDefT$StrategyBody.eval(InteropSDefT.java:238)

          at
org.spoofax.interpreter.stratego.Strategy.evaluate(Strategy.java:76)

          at
org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:109)

          ... 11 more

Caused by: org.strategoxt.lang.StrategoErrorExit: Internal error: with
clause failed unexpectedly in rule 'generate-java'

          1

          at
org.strategoxt.lang.compat.report_failure_compat_1_0.invoke(report_failure_c
ompat_1_0.java:53)

          at
org.strategoxt.stratego_lib.report_with_failure_0_2.invoke(report_with_failu
re_0_2.java)

          at org.strategoxt.lang.Strategy.invokeDynamic(Strategy.java:32)

          at
org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:192)

          ... 16 more



-------------- next part --------------
An HTML attachment was scrubbed...
URL:
<https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/d65e
<https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/d65e
fd48/attachment.html> 
fd48/attachment.html>

------------------------------

_______________________________________________
Users mailing list
Users at strategoxt.org
https://mailman.st.ewi.tudelft.nl/listinfo/users


End of Users Digest, Vol 50, Issue 8
************************************



-------------- next part --------------
An HTML attachment was scrubbed...
URL:
<https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/1692
55fd/attachment.html>

------------------------------

_______________________________________________
Users mailing list
Users at strategoxt.org
https://mailman.st.ewi.tudelft.nl/listinfo/users


End of Users Digest, Vol 50, Issue 10
*************************************

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/ab132e66/attachment-0001.html>

From anderson_a_f at hotmail.com  Mon Apr 15 17:36:51 2013
From: anderson_a_f at hotmail.com (Anderson Almeida)
Date: Mon, 15 Apr 2013 12:36:51 -0300
Subject: [Stratego Users] Users Digest, Vol 50, Issue 12
In-Reply-To: <mailman.30.1366037573.861.users@strategoxt.org>
References: <mailman.30.1366037573.861.users@strategoxt.org>
Message-ID: <CAAzr2JMTvM0s0Ltt5bZnbU7t4zoPsHnu4wtu8jwSE-b0g_8nmQ@mail.gmail.com>

Thanks, Barbab?s.
But I don't understand why Spoofax is not matching my example with the rule
I've declared in 'to-tres-end'. Here are the rules since fieldDec to the
leaves.

DocComent? VariableDeclaration -> FieldDeclaration {cons("fieldDec")}
 Modificador* Type VariableDeclarator ComaVarDecAux* ";" -> VariableDeclaration
{cons("varDeclaration")}
 "," VariableDeclarator -> ComaVarDecAux {cons("ComaVarDecAux")}
 ID ManyBraces* OptVariableInitializer? -> VariableDeclarator
{cons("varDeclarator")}
 "=" VariableInitializer ->
OptVariableInitializer{cons("OptVariableInitializer")}
"[" "]" -> ManyBraces{cons("ManyBraces")}
 Expression -> VariableInitializer {cons("variableInitializer")}
 LiteralExpression -> Expression {cons("LiteralExpression")}
 CHARACTER -> LiteralExpression {cons("CharacterLiteral")}
 "'" CharAux "'"-> CHARACTER {cons("Char")}
~[\r\n\'\\] -> CharAux {cons("aux")}
 UnicodeEscape -> CharAux {cons("aux")}
"\\" [u]+ [0-9a-fA-F] [0-9a-fA-F] [0-9a-fA-F] [0-9a-fA-F] -> UnicodeEscape
{cons("unicodeEscape")}
 EscapeSeq -> CharAux {cons("aux")}
OctaEscape  -> EscapeSeq {cons("aux")}
    NamedEscape -> EscapeSeq {cons("aux")}
    "\\" [btnfr\"\'\\]     -> NamedEscape {cons("aux")}
    "\\" OctalAux          -> OctaEscape  {cons("aux")}
    "\\" [0-3] OctalAux    -> OctaEscape  {cons("aux")}
    "\\" [4-7] OctalAux       -> OctaEscape  {cons("aux")}
    "\\" [0-3] OctalAux OctalAux -> OctaEscape  {cons("aux")}


TypeSpecifier ("[]")* -> Type {cons("type")}
 "boolean" -> TypeSpecifier {cons("Boolean")}
 "byte" -> TypeSpecifier {cons("Byte")}
"char" -> TypeSpecifier {cons("Char")}
 "short" -> TypeSpecifier {cons("Short")}
"int" -> TypeSpecifier {cons("Int")}
 "float" -> TypeSpecifier {cons("Float")}
"long" -> TypeSpecifier {cons("Long")}
 "double" -> TypeSpecifier {cons("Double")}
 ClassName -> TypeSpecifier {cons("ClassName")}
InterfaceName -> TypeSpecifier {cons("InterfaceName")}

"public" -> Modificador {cons("modifier")}
 "private" -> Modificador {cons("modifier")}
 "protected" -> Modificador {cons("modifier")}
"static" -> Modificador {cons("modifier")}
 "final" -> Modificador {cons("modifier")}
"native" -> Modificador {cons("modifier")}
 "synchronized" -> Modificador {cons("modifier")}
 "abstract" -> Modificador {cons("modifier")}
 "threadsafe" -> Modificador {cons("modifier")}
"transient" -> Modificador {cons("modifier")}

And here is my example I'm trying to generate code:
public int var = 'a';


2013/4/15 <users-request at strategoxt.org>

> Send Users mailing list submissions to
>         users at strategoxt.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         https://mailman.st.ewi.tudelft.nl/listinfo/users
> or, via email, send a message with subject or body 'help' to
>         users-request at strategoxt.org
>
> You can reach the person managing the list at
>         users-owner at strategoxt.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Users digest..."
>
>
> Today's Topics:
>
>    1. Re: Users Digest, Vol 50, Issue 10 (Kr?lik Barnab?s)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Mon, 15 Apr 2013 16:52:25 +0200
> From: Kr?lik Barnab?s <kralikba at msn.com>
> To: "'Stratego/XT Users'" <users at strategoxt.org>
> Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 10
> Message-ID: <BAY175-DS123B74A627FCB4E664910DD0CC0 at phx.gbl>
> Content-Type: text/plain; charset="iso-8859-2"
>
> Hi Anderson,
>
>
>
> This means that fieldDec in question is at position [0,2,0,1,4,0] (0-based
> children indices) in the AST of the program, which is the Start( . ) item
> in
> the 3-tuple.
>
>
>
> Barnab?s
>
>
>
> From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org]
> On
> Behalf Of Anderson Almeida
> Sent: Monday, April 15, 2013 4:30 PM
> To: users at strategoxt.org
> Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 10
>
>
>
> Thanks for answering, Barnab?s!
>
> Here is 'generate-java':
>
>     generate-java:
>
>     (selected, position, ast, path, project-path) -> (filename, result)
>
>     with
>
>       filename := <guarantee-extension(|"java")> path;
>
>       result   := <to-tres-end> selected
>
>
>
> I also wanted to know what does this AST node mean:
>
>
>
>
> "(fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[
> ]
>
> ,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
>
> Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
>
> eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
>
> n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
>
> (variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
> []))]))])),"
>
>
>
> I don't understand this. Does it try to find a rule that matches with this
> AST node? Because there isn't a way to go to 'fieldDec' and then turn back
> to the 'Start' rule in my syntax definition. And what does "[0,2,0,1,4,0]"
> mean? I'm confused...
>
>
>
> 2013/4/15 <users-request at strategoxt.org>
>
> Send Users mailing list submissions to
>         users at strategoxt.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         https://mailman.st.ewi.tudelft.nl/listinfo/users
> or, via email, send a message with subject or body 'help' to
>         users-request at strategoxt.org
>
> You can reach the person managing the list at
>         users-owner at strategoxt.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Users digest..."
>
>
> Today's Topics:
>
>    1. Re: Users Digest, Vol 50, Issue 8 (Kr?lik Barnab?s)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Mon, 15 Apr 2013 09:24:09 +0200
> From: Kr?lik Barnab?s <kralikba at msn.com>
> To: "'Stratego/XT Users'" <users at strategoxt.org>
> Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 8
> Message-ID: <BAY175-DS9CBA3E1E419891AFD32C6D0CC0 at phx.gbl>
> Content-Type: text/plain; charset="iso-8859-2"
>
> Could you please show generate-java too?
>
>
>
> Without that, I can only make a remark: to-tres-end itself does not match
> the seen instances of fieldDec. (there is no fieldDec(None(),.. rule.)
>
>
>
> Barnab?s
>
>
>
> From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org]
> On
> Behalf Of Anderson Almeida
> Sent: Sunday, April 14, 2013 7:11 PM
> To: users at strategoxt.org
> Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 8
>
>
>
> Thanks for the explanation!
>
> But I wanted to know what is wrong with my rules "to-tres-end".
>
> Here they are:
>
>
>
>  to-tres-end:
>
>   stm(varDeclaration(t1, type(t2, t3), varDeclarator(t4, t5,
>
> Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterL
> iteral(Char(aux(t6)))))))), ComaVarDecAux(t7)))-> $[
>
>       private ;
>
>       public  get {
>
>           return ;
>
>       }
>
>       public void set {
>
>       }  ]
>
>
>
>     to-tres-end:
>
>   fieldDec(Some(x1),varDeclaration(t1, type(t2, t3), varDeclarator(t4, t5,
>
> Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterL
> iteral(Char(aux(t6)))))))), ComaVarDecAux(t7)))-> $[
>
>       private ;
>
>       public  get {
>
>           return ;
>
>       }
>
>       public void set {
>
>              }  ]
>
>
>
>      to-tres-end:
>
>   Start(compilUnit(Some(x1), x2, typeDec(Some(x3), classDec(t1, t2,
> Some(t3), Some(t4), fieldDec(Some(x4),varDeclaration(t5, type(t6, t7),
> varDeclarator(t8, t9,
>
> Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterL
> iteral(Char(aux(t10)))))))), ComaVarDecAux(t11)))))))-> $[
>
>       private ;
>
>       public  get {
>
>           return ;
>
>       }
>
>       public void set {
>
>               }  ]
>
>
>
> Thanks,
>
> Anderson
>
>
>
>
>
> 2013/4/14 <users-request at strategoxt.org>
>
> Send Users mailing list submissions to
>         users at strategoxt.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         https://mailman.st.ewi.tudelft.nl/listinfo/users
> or, via email, send a message with subject or body 'help' to
>         users-request at strategoxt.org
>
> You can reach the person managing the list at
>         users-owner at strategoxt.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Users digest..."
>
>
> Today's Topics:
>
>    1. Internal error: with clause failed unexpectedly in        rule
>       'generate-java' (Anderson Almeida)
>    2. Re: Internal error: with clause failed    unexpectedly in rule
>       'generate-java' (Kr?lik Barnab?s)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Sun, 14 Apr 2013 11:23:26 -0300
> From: Anderson Almeida <anderson_a_f at hotmail.com>
> To: users at strategoxt.org
> Subject: [Stratego Users] Internal error: with clause failed
>         unexpectedly in rule 'generate-java'
> Message-ID:
>         <CAAzr2JNwSfPRk2J=
> YjbE4t-x_bMj9m_yVXyudc6zAF9duTxV4w at mail.gmail.com>
> Content-Type: text/plain; charset="iso-8859-1"
>
> Hi,
> I am getting started using Spoofax and I am having problems when I'm trying
> to generate code using "generate.str" file.
> I don't understand the error log. I wrote rules to handle 'fieldDec' and
> 'Start' productions. It seems to have errors on my rules, but I don't know
> where. Can someone help me?
> Full Stacktrace:
>
> JavaComp: rewriting failed, trace:
> generate_java_0_0
> to_tres_end_0_0
> [ JavaComp | critical ] Internal error: with clause failed unexpectedly in
> rule 'generate-java'
>
>
>
> (fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
>
> ,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
>
> Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
>
> eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
>
> n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
>
> (variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
>
> []))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
> Comp")
> org.spoofax.interpreter.core.InterpreterException: Exception during
> evaluation
> at org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:117)
>  at org.spoofax.interpreter.core.Interpreter.invoke(Interpreter.java:82)
> at org.strategoxt.HybridInterpreter.invoke(HybridInterpreter.java:424)
>  at
>
> org.strategoxt.imp.debug.core.str.launching.DebuggableHybridInterpreter.invo
> ke(DebuggableHybridInterpreter.java:150)
> at org.strategoxt.imp.runtime.Environment$2.invoke(Environment.java:193)
>  at
>
> org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
> .java:701)
> at
>
> org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
> .java:670)
>  at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.invokeObserver(StrategoB
> uilder.java:327)
> at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.execute(StrategoBuilder.
> java:193)
>  at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.access$1(StrategoBuilder
> .java:177)
> at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder$1.run(StrategoBuilder.ja
> va:164)
>  at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)
> Caused by: org.spoofax.interpreter.core.InterpreterErrorExit: Internal
> error: with clause failed unexpectedly in rule 'generate-java'
>  1
> at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:194)
> at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:183)
>  at
>
> org.strategoxt.lang.InteropSDefT$StrategyBody.evaluate(InteropSDefT.java:245
> )
> at
> org.strategoxt.lang.InteropSDefT$StrategyBody.eval(InteropSDefT.java:238)
>  at org.spoofax.interpreter.stratego.Strategy.evaluate(Strategy.java:76)
> at org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:109)
>  ... 11 more
> Caused by: org.strategoxt.lang.StrategoErrorExit: Internal error: with
> clause failed unexpectedly in rule 'generate-java'
> 1
>  at
>
> org.strategoxt.lang.compat.report_failure_compat_1_0.invoke(report_failure_c
> ompat_1_0.java:53)
> at
>
> org.strategoxt.stratego_lib.report_with_failure_0_2.invoke(report_with_failu
> re_0_2.java)
>  at org.strategoxt.lang.Strategy.invokeDynamic(Strategy.java:32)
> at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:192)
>  ... 16 more
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL:
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/6f90
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/6f90
> 56d9/attachment-0001.html>
> 56d9/attachment-0001.html>
>
> ------------------------------
>
> Message: 2
> Date: Sun, 14 Apr 2013 18:38:26 +0200
> From: Kr?lik Barnab?s <kralikba at msn.com>
> To: "'Stratego/XT Users'" <users at strategoxt.org>
> Subject: Re: [Stratego Users] Internal error: with clause failed
>         unexpectedly in rule 'generate-java'
> Message-ID: <BAY175-DS13FA91FD2335E929B0D59CD0C30 at phx.gbl>
> Content-Type: text/plain; charset="iso-8859-2"
>
> Hi,
>
>
>
> This means that the system has tried to apply all possible strategies, but
> have failed. The actual stack trace of your Stratego program is:
>
>             generate_java_0_0
>
>             to_tres_end_0_0
>
> i.e. the main strategy called is generate_java, the last tried strategy is
> to_tres_end, which has been directly called by the former one.
>
>
>
> The next important piece of information is a 3-tuple:
>
>
> (fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
>
> ,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
>
> Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
>
> eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
>
> n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
>
> (variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
>
> []))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
> Comp")
>
>
>
> The first item is the AST of the text-to-be-analyzed, the second is the
> path
> to the file inside the Eclipse project, the third one  is the path of the
> Eclipse project itself. The Java stack trace does not really concern your
> work.
>
>
>
> Hope that helps
>
> Barnab?s
>
>
>
> From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org]
> On
> Behalf Of Anderson Almeida
> Sent: Sunday, April 14, 2013 4:23 PM
> To: users at strategoxt.org
> Subject: [Stratego Users] Internal error: with clause failed unexpectedly
> in
> rule 'generate-java'
>
>
>
> Hi,
>
> I am getting started using Spoofax and I am having problems when I'm trying
> to generate code using "generate.str" file.
>
> I don't understand the error log. I wrote rules to handle 'fieldDec' and
> 'Start' productions. It seems to have errors on my rules, but I don't know
> where. Can someone help me?
>
> Full Stacktrace:
>
>
>
> JavaComp: rewriting failed, trace:
>
>           generate_java_0_0
>
>           to_tres_end_0_0
>
> [ JavaComp | critical ] Internal error: with clause failed unexpectedly in
> rule 'generate-java'
>
>
>
> (fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
>
> ,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
>
> Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
>
> eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
>
> n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
>
> (variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
>
> []))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
> Comp")
>
> org.spoofax.interpreter.core.InterpreterException: Exception during
> evaluation
>
>           at
> org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:117)
>
>           at
> org.spoofax.interpreter.core.Interpreter.invoke(Interpreter.java:82)
>
>           at
> org.strategoxt.HybridInterpreter.invoke(HybridInterpreter.java:424)
>
>           at
>
> org.strategoxt.imp.debug.core.str.launching.DebuggableHybridInterpreter.invo
> ke(DebuggableHybridInterpreter.java:150)
>
>           at
> org.strategoxt.imp.runtime.Environment$2.invoke(Environment.java:193)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
> .java:701)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
> .java:670)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.invokeObserver(StrategoB
> uilder.java:327)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.execute(StrategoBuilder.
> java:193)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.access$1(StrategoBuilder
> .java:177)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder$1.run(StrategoBuilder.ja
> va:164)
>
>           at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)
>
> Caused by: org.spoofax.interpreter.core.InterpreterErrorExit: Internal
> error: with clause failed unexpectedly in rule 'generate-java'
>
>           1
>
>           at
> org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:194)
>
>           at
> org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:183)
>
>           at
>
> org.strategoxt.lang.InteropSDefT$StrategyBody.evaluate(InteropSDefT.java:245
> )
>
>           at
> org.strategoxt.lang.InteropSDefT$StrategyBody.eval(InteropSDefT.java:238)
>
>           at
> org.spoofax.interpreter.stratego.Strategy.evaluate(Strategy.java:76)
>
>           at
> org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:109)
>
>           ... 11 more
>
> Caused by: org.strategoxt.lang.StrategoErrorExit: Internal error: with
> clause failed unexpectedly in rule 'generate-java'
>
>           1
>
>           at
>
> org.strategoxt.lang.compat.report_failure_compat_1_0.invoke(report_failure_c
> ompat_1_0.java:53)
>
>           at
>
> org.strategoxt.stratego_lib.report_with_failure_0_2.invoke(report_with_failu
> re_0_2.java)
>
>           at org.strategoxt.lang.Strategy.invokeDynamic(Strategy.java:32)
>
>           at
> org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:192)
>
>           ... 16 more
>
>
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL:
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/d65e
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/d65e
> fd48/attachment.html>
> fd48/attachment.html>
>
> ------------------------------
>
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users
>
>
> End of Users Digest, Vol 50, Issue 8
> ************************************
>
>
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL:
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/1692
> 55fd/attachment.html>
>
> ------------------------------
>
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users
>
>
> End of Users Digest, Vol 50, Issue 10
> *************************************
>
>
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/ab132e66/attachment.html
> >
>
> ------------------------------
>
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users
>
>
> End of Users Digest, Vol 50, Issue 12
> *************************************
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/56b1dfea/attachment-0001.html>

From kralikba at msn.com  Mon Apr 15 19:58:14 2013
From: kralikba at msn.com (=?iso-8859-2?Q?Kr=E1lik_Barnab=E1s?=)
Date: Mon, 15 Apr 2013 19:58:14 +0200
Subject: [Stratego Users] Users Digest, Vol 50, Issue 12
In-Reply-To: <018101ce39f4$80238ce0$806aa6a0$@hotmail.com>
References: <mailman.30.1366037573.861.users@strategoxt.org>
	<018101ce39f4$80238ce0$806aa6a0$@hotmail.com>
Message-ID: <BAY175-DS22B15B18EBD19D601DC25CD0CC0@phx.gbl>

Hi Anderson,

 

These rules describe the grammar; the AST itself is generated based on this
description.

The generate-java strategy calls to-tres-end on the AST of the currently
selected piece of code. In turn, to-tres-end tries to match exactly one
left-hand-side to the term, which fails: only one of the to-tres-end rules
match fieldDec(.), and that requires that the first subterm is Some(x), x
being anything (i.e. a DocComent is required by the rule). 

 

Regards

Barnab?s

 

From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org] On
Behalf Of Anderson Almeida
Sent: Monday, April 15, 2013 5:37 PM
To: users at strategoxt.org
Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 12

 

Thanks, Barbab?s.

But I don't understand why Spoofax is not matching my example with the rule
I've declared in 'to-tres-end'. Here are the rules since fieldDec to the
leaves.

 

          DocComent? VariableDeclaration     ->        FieldDeclaration
{cons("fieldDec")}

          Modificador* Type VariableDeclarator ComaVarDecAux*           ";"
->        VariableDeclaration {cons("varDeclaration")}

          "," VariableDeclarator            ->        ComaVarDecAux
{cons("ComaVarDecAux")}

          ID ManyBraces* OptVariableInitializer?     ->
VariableDeclarator {cons("varDeclarator")}

          "=" VariableInitializer ->
OptVariableInitializer{cons("OptVariableInitializer")}

          "[" "]" -> ManyBraces{cons("ManyBraces")}

          Expression      ->        VariableInitializer
{cons("variableInitializer")}

          LiteralExpression       ->        Expression
{cons("LiteralExpression")}

          CHARACTER           ->        LiteralExpression
{cons("CharacterLiteral")}

          "'" CharAux "'"->        CHARACTER {cons("Char")}

          ~[\r\n\'\\]          ->        CharAux {cons("aux")}

          UnicodeEscape          ->        CharAux {cons("aux")}

          "\\" [u]+ [0-9a-fA-F] [0-9a-fA-F] [0-9a-fA-F] [0-9a-fA-F]  ->
UnicodeEscape {cons("unicodeEscape")}

          EscapeSeq      ->        CharAux {cons("aux")}

          OctaEscape  -> EscapeSeq {cons("aux")}

          NamedEscape -> EscapeSeq {cons("aux")}

          "\\" [btnfr\"\'\\]     -> NamedEscape {cons("aux")}

          "\\" OctalAux          -> OctaEscape  {cons("aux")}

          "\\" [0-3] OctalAux    -> OctaEscape  {cons("aux")}

          "\\" [4-7] OctalAux       -> OctaEscape  {cons("aux")}

          "\\" [0-3] OctalAux OctalAux -> OctaEscape  {cons("aux")}

 

 

          TypeSpecifier ("[]")*  ->        Type {cons("type")}              

          

          "boolean"                    ->        TypeSpecifier
{cons("Boolean")}

          "byte"                         ->        TypeSpecifier
{cons("Byte")}

          "char"                          ->        TypeSpecifier
{cons("Char")}

          "short"                        ->        TypeSpecifier
{cons("Short")}

          "int"                            ->        TypeSpecifier
{cons("Int")}

          "float"                         ->        TypeSpecifier
{cons("Float")}

          "long"                         ->        TypeSpecifier
{cons("Long")}

          "double"                     ->        TypeSpecifier
{cons("Double")}

          ClassName                 ->        TypeSpecifier
{cons("ClassName")}

          InterfaceName           ->        TypeSpecifier
{cons("InterfaceName")}

 

          "public"           ->        Modificador {cons("modifier")}

          "private"          ->        Modificador {cons("modifier")} 

          "protected"     ->        Modificador {cons("modifier")}

          "static"            ->        Modificador {cons("modifier")} 

          "final"  ->        Modificador {cons("modifier")} 

          "native"           ->        Modificador {cons("modifier")} 

          "synchronized"           ->        Modificador {cons("modifier")} 

          "abstract"        ->        Modificador {cons("modifier")} 

          "threadsafe"    ->        Modificador {cons("modifier")}

          "transient"       ->        Modificador {cons("modifier")}

 

And here is my example I'm trying to generate code:

public int var = 'a';

 

2013/4/15 <users-request at strategoxt.org>

Send Users mailing list submissions to
        users at strategoxt.org

To subscribe or unsubscribe via the World Wide Web, visit
        https://mailman.st.ewi.tudelft.nl/listinfo/users
or, via email, send a message with subject or body 'help' to
        users-request at strategoxt.org

You can reach the person managing the list at
        users-owner at strategoxt.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of Users digest..."


Today's Topics:

   1. Re: Users Digest, Vol 50, Issue 10 (Kr?lik Barnab?s)


----------------------------------------------------------------------

Message: 1
Date: Mon, 15 Apr 2013 16:52:25 +0200
From: Kr?lik Barnab?s <kralikba at msn.com>
To: "'Stratego/XT Users'" <users at strategoxt.org>
Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 10
Message-ID: <BAY175-DS123B74A627FCB4E664910DD0CC0 at phx.gbl>
Content-Type: text/plain; charset="iso-8859-2"

Hi Anderson,



This means that fieldDec in question is at position [0,2,0,1,4,0] (0-based
children indices) in the AST of the program, which is the Start( . ) item in
the 3-tuple.



Barnab?s



From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org] On
Behalf Of Anderson Almeida
Sent: Monday, April 15, 2013 4:30 PM
To: users at strategoxt.org    generate-java:

    (selected, position, ast, path, project-path) -> (filename, result)

    with

      filename := <guarantee-extension(|"java")> path;

      result   := <to-tres-end> selected



I also wanted to know what does this AST node mean:



"(fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[
]
,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
(variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
[]))]))])),"



I don't understand this. Does it try to find a rule that matches with this
AST node? Because there isn't a way to go to 'fieldDec' and then turn back
to the 'Start' rule in my syntax definition. And what does "[0,2,0,1,4,0]"
mean? I'm confused...



2013/4/15 <users-request at strategoxt.org>

Send Users mailing list submissions to
        users at strategoxt.org

To subscribe or unsubscribe via the World Wide Web, visit
        https://mailman.st.ewi.tudelft.nl/listinfo/users
or, via email, send a message with subject or body 'help' to
        users-request at strategoxt.org

You can reach the person managing the list at
        users-owner at strategoxt.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of Users digest..."


Today's Topics:

   1. Re: Users Digest, Vol 50, Issue 8 (Kr?lik Barnab?s)


----------------------------------------------------------------------

Message: 1
Date: Mon, 15 Apr 2013 09:24:09 +0200
From: Kr?lik Barnab?s <kralikba at msn.com>
To: "'Stratego/XT Users'" <users at strategoxt.org>
Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 8
Message-ID: <BAY175-DS9CBA3E1E419891AFD32C6D0CC0 at phx.gbl>
Content-Type: text/plain; charset="iso-8859-2"

Could you please show generate-java too?



Without that, I can only make a remark: to-tres-end itself does not match
the seen instances of fieldDec. (there is no fieldDec(None(),.. rule.)



Barnab?s



From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org] On
Behalf Of Anderson Almeida
Sent: Sunday, April 14, 2013 7:11 PM
To: users at strategoxt.org
Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 8



Thanks for the explanation!

But I wanted to know what is wrong with my rules "to-tres-end".

Here they are:



 to-tres-end:

  stm(varDeclaration(t1, type(t2, t3), varDeclarator(t4, t5,
Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterL
iteral(Char(aux(t6)))))))), ComaVarDecAux(t7)))-> $[

      private ;

      public  get {

          return ;

      }

      public void set {

      }  ]



    to-tres-end:

  fieldDec(Some(x1),varDeclaration(t1, type(t2, t3), varDeclarator(t4, t5,
Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterL
iteral(Char(aux(t6)))))))), ComaVarDecAux(t7)))-> $[

      private ;

      public  get {

          return ;

      }

      public void set {

             }  ]



     to-tres-end:

  Start(compilUnit(Some(x1), x2, typeDec(Some(x3), classDec(t1, t2,
Some(t3), Some(t4), fieldDec(Some(x4),varDeclaration(t5, type(t6, t7),
varDeclarator(t8, t9,
Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterL
iteral(Char(aux(t10)))))))), ComaVarDecAux(t11)))))))-> $[

      private ;

      public  get {

          return ;

      }

      public void set {

              }  ]



Thanks,

Anderson





2013/4/14 <users-request at strategoxt.org>

Send Users mailing list submissions to
        users at strategoxt.org

To subscribe or unsubscribe via the World Wide Web, visit
        https://mailman.st.ewi.tudelft.nl/listinfo/users
or, via email, send a message with subject or body 'help' to
        users-request at strategoxt.org

You can reach the person managing the list at
        users-owner at strategoxt.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of Users digest..."


Today's Topics:

   1. Internal error: with clause failed unexpectedly in        rule
      'generate-java' (Anderson Almeida)
   2. Re: Internal error: with clause failed    unexpectedly in rule
      'generate-java' (Kr?lik Barnab?s)


----------------------------------------------------------------------

Message: 1
Date: Sun, 14 Apr 2013 11:23:26 -0300
From: Anderson Almeida <anderson_a_f at hotmail.com>
To: users at strategoxt.org
Subject: [Stratego Users] Internal error: with clause failed
        unexpectedly in rule 'generate-java'
Message-ID:
        <CAAzr2JNwSfPRk2J=YjbE4t-x_bMj9m_yVXyudc6zAF9duTxV4w at mail.gmail.com>
Content-Type: text/plain; charset="iso-8859-1"

Hi,
I am getting started using Spoofax and I am having problems when I'm trying
to generate code using "generate.str" file.
I don't understand the error log. I wrote rules to handle 'fieldDec' and
'Start' productions. It seems to have errors on my rules, but I don't know
where. Can someone help me?
Full Stacktrace:

JavaComp: rewriting failed, trace:
generate_java_0_0
to_tres_end_0_0
[ JavaComp | critical ] Internal error: with clause failed unexpectedly in
rule 'generate-java'


(fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
(variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
[]))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
Comp")
org.spoofax.interpreter.core.InterpreterException: Exception during
evaluation
at org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:117)
 at org.spoofax.interpreter.core.Interpreter.invoke(Interpreter.java:82)
at org.strategoxt.HybridInterpreter.invoke(HybridInterpreter.java:424)
 at
org.strategoxt.imp.debug.core.str.launching.DebuggableHybridInterpreter.invo
ke(DebuggableHybridInterpreter.java:150)
at org.strategoxt.imp.runtime.Environment$2.invoke(Environment.java:193)
 at
org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
.java:701)
at
org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
.java:670)
 at
org.strategoxt.imp.runtime.services.StrategoBuilder.invokeObserver(StrategoB
uilder.java:327)
at
org.strategoxt.imp.runtime.services.StrategoBuilder.execute(StrategoBuilder.
java:193)
 at
org.strategoxt.imp.runtime.services.StrategoBuilder.access$1(StrategoBuilder
.java:177)
at
org.strategoxt.imp.runtime.services.StrategoBuilder$1.run(StrategoBuilder.ja
va:164)
 at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)
Caused by: org.spoofax.interpreter.core.InterpreterErrorExit: Internal
error: with clause failed unexpectedly in rule 'generate-java'
 1
at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:194)
at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:183)
 at
org.strategoxt.lang.InteropSDefT$StrategyBody.evaluate(InteropSDefT.java:245
)
at org.strategoxt.lang.InteropSDefT$StrategyBody.eval(InteropSDefT.java:238)
 at org.spoofax.interpreter.stratego.Strategy.evaluate(Strategy.java:76)
at org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:109)
 ... 11 more
Caused by: org.strategoxt.lang.StrategoErrorExit: Internal error: with
clause failed unexpectedly in rule 'generate-java'
1
 at
org.strategoxt.lang.compat.report_failure_compat_1_0.invoke(report_failure_c
ompat_1_0.java:53)
at
org.strategoxt.stratego_lib.report_with_failure_0_2.invoke(report_with_failu
re_0_2.java)
 at org.strategoxt.lang.Strategy.invokeDynamic(Strategy.java:32)
at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:192)
 ... 16 more
-------------- next part --------------
An HTML attachment was scrubbed...
URL:
<https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/6f90
<https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/6f90
<https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/6f90
56d9/attachment-0001.html> 
56d9/attachment-0001.html>
56d9/attachment-0001.html>

------------------------------

Message: 2
Date: Sun, 14 Apr 2013 18:38:26 +0200
From: Kr?lik Barnab?s <kralikba at msn.com>
To: "'Stratego/XT Users'" <users at strategoxt.org>
Subject: Re: [Stratego Users] Internal error: with clause failed
        unexpectedly in rule 'generate-java'
Message-ID: <BAY175-DS13FA91FD2335E929B0D59CD0C30 at phx.gbl>
Content-Type: text/plain; charset="iso-8859-2"

Hi,



This means that the system has tried to apply all possible strategies, but
have failed. The actual stack trace of your Stratego program is:

            generate_java_0_0

            to_tres_end_0_0

i.e. the main strategy called is generate_java, the last tried strategy is
to_tres_end, which has been directly called by the former one.



The next important piece of information is a 3-tuple:

(fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
(variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
[]))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
Comp")



The first item is the AST of the text-to-be-analyzed, the second is the path
to the file inside the Eclipse project, the third one  is the path of the
Eclipse project itself. The Java stack trace does not really concern your
work.



Hope that helps

Barnab?s



From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org] On
Behalf Of Anderson Almeida
Sent: Sunday, April 14, 2013 4:23 PM
To: users at strategoxt.org
Subject: [Stratego Users] Internal error: with clause failed unexpectedly in
rule 'generate-java'



Hi,

I am getting started using Spoofax and I am having problems when I'm trying
to generate code using "generate.str" file.

I don't understand the error log. I wrote rules to handle 'fieldDec' and
'Start' productions. It seems to have errors on my rules, but I don't know
where. Can someone help me?

Full Stacktrace:



JavaComp: rewriting failed, trace:

          generate_java_0_0

          to_tres_end_0_0

[ JavaComp | critical ] Internal error: with clause failed unexpectedly in
rule 'generate-java'


(fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
(variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
[]))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
Comp")

org.spoofax.interpreter.core.InterpreterException: Exception during
evaluation

          at
org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:117)

          at
org.spoofax.interpreter.core.Interpreter.invoke(Interpreter.java:82)

          at
org.strategoxt.HybridInterpreter.invoke(HybridInterpreter.java:424)

          at
org.strategoxt.imp.debug.core.str.launching.DebuggableHybridInterpreter.invo
ke(DebuggableHybridInterpreter.java:150)

          at
org.strategoxt.imp.runtime.Environment$2.invoke(Environment.java:193)

          at
org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
.java:701)

          at
org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
.java:670)

          at
org.strategoxt.imp.runtime.services.StrategoBuilder.invokeObserver(StrategoB
uilder.java:327)

          at
org.strategoxt.imp.runtime.services.StrategoBuilder.execute(StrategoBuilder.
java:193)

          at
org.strategoxt.imp.runtime.services.StrategoBuilder.access$1(StrategoBuilder
.java:177)

          at
org.strategoxt.imp.runtime.services.StrategoBuilder$1.run(StrategoBuilder.ja
va:164)

          at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)

Caused by: org.spoofax.interpreter.core.InterpreterErrorExit: Internal
error: with clause failed unexpectedly in rule 'generate-java'

          1

          at
org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:194)

          at
org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:183)

          at
org.strategoxt.lang.InteropSDefT$StrategyBody.evaluate(InteropSDefT.java:245
)

          at
org.strategoxt.lang.InteropSDefT$StrategyBody.eval(InteropSDefT.java:238)

          at
org.spoofax.interpreter.stratego.Strategy.evaluate(Strategy.java:76)

          at
org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:109)

          ... 11 more

Caused by: org.strategoxt.lang.StrategoErrorExit: Internal error: with
clause failed unexpectedly in rule 'generate-java'

          1

          at
org.strategoxt.lang.compat.report_failure_compat_1_0.invoke(report_failure_c
ompat_1_0.java:53)

          at
org.strategoxt.stratego_lib.report_with_failure_0_2.invoke(report_with_failu
re_0_2.java)

          at org.strategoxt.lang.Strategy.invokeDynamic(Strategy.java:32)

          at
org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:192)

          ... 16 more



-------------- next part --------------
An HTML attachment was scrubbed...
URL:
<https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/d65e
<https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/d65e
<https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/d65e
fd48/attachment.html> 
fd48/attachment.html>
fd48/attachment.html>

------------------------------

_______________________________________________
Users mailing list
Users at strategoxt.org
https://mailman.st.ewi.tudelft.nl/listinfo/users


End of Users Digest, Vol 50, Issue 8
************************************



-------------- next part --------------
An HTML attachment was scrubbed...
URL:
<https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/1692
<https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/1692
55fd/attachment.html> 
55fd/attachment.html>

------------------------------

_______________________________________________
Users mailing list
Users at strategoxt.org
https://mailman.st.ewi.tudelft.nl/listinfo/users


End of Users Digest, Vol 50, Issue 10
*************************************



-------------- next part --------------
An HTML attachment was scrubbed...
URL:
<https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/ab13
2e66/attachment.html>

------------------------------

_______________________________________________
Users mailing list
Users at strategoxt.org
https://mailman.st.ewi.tudelft.nl/listinfo/users


End of Users Digest, Vol 50, Issue 12
*************************************

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/d55e923d/attachment-0001.html>

From anderson_a_f at hotmail.com  Mon Apr 15 20:56:06 2013
From: anderson_a_f at hotmail.com (Anderson Almeida)
Date: Mon, 15 Apr 2013 15:56:06 -0300
Subject: [Stratego Users] Users Digest, Vol 50, Issue 14
In-Reply-To: <mailman.34.1366048725.861.users@strategoxt.org>
References: <mailman.34.1366048725.861.users@strategoxt.org>
Message-ID: <CAAzr2JPkma1DJYhpwxQSnvWjm3xRTmvKhzyN7zM7=P_ku1ZaYA@mail.gmail.com>

Thanks, Barnab?s!
It helped a lot!


2013/4/15 <users-request at strategoxt.org>

> Send Users mailing list submissions to
>         users at strategoxt.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         https://mailman.st.ewi.tudelft.nl/listinfo/users
> or, via email, send a message with subject or body 'help' to
>         users-request at strategoxt.org
>
> You can reach the person managing the list at
>         users-owner at strategoxt.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Users digest..."
>
>
> Today's Topics:
>
>    1. Re: Users Digest, Vol 50, Issue 12 (Kr?lik Barnab?s)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Mon, 15 Apr 2013 19:58:14 +0200
> From: Kr?lik Barnab?s <kralikba at msn.com>
> To: "'Stratego/XT Users'" <users at strategoxt.org>
> Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 12
> Message-ID: <BAY175-DS22B15B18EBD19D601DC25CD0CC0 at phx.gbl>
> Content-Type: text/plain; charset="iso-8859-2"
>
> Hi Anderson,
>
>
>
> These rules describe the grammar; the AST itself is generated based on this
> description.
>
> The generate-java strategy calls to-tres-end on the AST of the currently
> selected piece of code. In turn, to-tres-end tries to match exactly one
> left-hand-side to the term, which fails: only one of the to-tres-end rules
> match fieldDec(.), and that requires that the first subterm is Some(x), x
> being anything (i.e. a DocComent is required by the rule).
>
>
>
> Regards
>
> Barnab?s
>
>
>
> From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org]
> On
> Behalf Of Anderson Almeida
> Sent: Monday, April 15, 2013 5:37 PM
> To: users at strategoxt.org
> Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 12
>
>
>
> Thanks, Barbab?s.
>
> But I don't understand why Spoofax is not matching my example with the rule
> I've declared in 'to-tres-end'. Here are the rules since fieldDec to the
> leaves.
>
>
>
>           DocComent? VariableDeclaration     ->        FieldDeclaration
> {cons("fieldDec")}
>
>           Modificador* Type VariableDeclarator ComaVarDecAux*           ";"
> ->        VariableDeclaration {cons("varDeclaration")}
>
>           "," VariableDeclarator            ->        ComaVarDecAux
> {cons("ComaVarDecAux")}
>
>           ID ManyBraces* OptVariableInitializer?     ->
> VariableDeclarator {cons("varDeclarator")}
>
>           "=" VariableInitializer ->
> OptVariableInitializer{cons("OptVariableInitializer")}
>
>           "[" "]" -> ManyBraces{cons("ManyBraces")}
>
>           Expression      ->        VariableInitializer
> {cons("variableInitializer")}
>
>           LiteralExpression       ->        Expression
> {cons("LiteralExpression")}
>
>           CHARACTER           ->        LiteralExpression
> {cons("CharacterLiteral")}
>
>           "'" CharAux "'"->        CHARACTER {cons("Char")}
>
>           ~[\r\n\'\\]          ->        CharAux {cons("aux")}
>
>           UnicodeEscape          ->        CharAux {cons("aux")}
>
>           "\\" [u]+ [0-9a-fA-F] [0-9a-fA-F] [0-9a-fA-F] [0-9a-fA-F]  ->
> UnicodeEscape {cons("unicodeEscape")}
>
>           EscapeSeq      ->        CharAux {cons("aux")}
>
>           OctaEscape  -> EscapeSeq {cons("aux")}
>
>           NamedEscape -> EscapeSeq {cons("aux")}
>
>           "\\" [btnfr\"\'\\]     -> NamedEscape {cons("aux")}
>
>           "\\" OctalAux          -> OctaEscape  {cons("aux")}
>
>           "\\" [0-3] OctalAux    -> OctaEscape  {cons("aux")}
>
>           "\\" [4-7] OctalAux       -> OctaEscape  {cons("aux")}
>
>           "\\" [0-3] OctalAux OctalAux -> OctaEscape  {cons("aux")}
>
>
>
>
>
>           TypeSpecifier ("[]")*  ->        Type {cons("type")}
>
>
>
>           "boolean"                    ->        TypeSpecifier
> {cons("Boolean")}
>
>           "byte"                         ->        TypeSpecifier
> {cons("Byte")}
>
>           "char"                          ->        TypeSpecifier
> {cons("Char")}
>
>           "short"                        ->        TypeSpecifier
> {cons("Short")}
>
>           "int"                            ->        TypeSpecifier
> {cons("Int")}
>
>           "float"                         ->        TypeSpecifier
> {cons("Float")}
>
>           "long"                         ->        TypeSpecifier
> {cons("Long")}
>
>           "double"                     ->        TypeSpecifier
> {cons("Double")}
>
>           ClassName                 ->        TypeSpecifier
> {cons("ClassName")}
>
>           InterfaceName           ->        TypeSpecifier
> {cons("InterfaceName")}
>
>
>
>           "public"           ->        Modificador {cons("modifier")}
>
>           "private"          ->        Modificador {cons("modifier")}
>
>           "protected"     ->        Modificador {cons("modifier")}
>
>           "static"            ->        Modificador {cons("modifier")}
>
>           "final"  ->        Modificador {cons("modifier")}
>
>           "native"           ->        Modificador {cons("modifier")}
>
>           "synchronized"           ->        Modificador {cons("modifier")}
>
>           "abstract"        ->        Modificador {cons("modifier")}
>
>           "threadsafe"    ->        Modificador {cons("modifier")}
>
>           "transient"       ->        Modificador {cons("modifier")}
>
>
>
> And here is my example I'm trying to generate code:
>
> public int var = 'a';
>
>
>
> 2013/4/15 <users-request at strategoxt.org>
>
> Send Users mailing list submissions to
>         users at strategoxt.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         https://mailman.st.ewi.tudelft.nl/listinfo/users
> or, via email, send a message with subject or body 'help' to
>         users-request at strategoxt.org
>
> You can reach the person managing the list at
>         users-owner at strategoxt.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Users digest..."
>
>
> Today's Topics:
>
>    1. Re: Users Digest, Vol 50, Issue 10 (Kr?lik Barnab?s)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Mon, 15 Apr 2013 16:52:25 +0200
> From: Kr?lik Barnab?s <kralikba at msn.com>
> To: "'Stratego/XT Users'" <users at strategoxt.org>
> Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 10
> Message-ID: <BAY175-DS123B74A627FCB4E664910DD0CC0 at phx.gbl>
> Content-Type: text/plain; charset="iso-8859-2"
>
> Hi Anderson,
>
>
>
> This means that fieldDec in question is at position [0,2,0,1,4,0] (0-based
> children indices) in the AST of the program, which is the Start( . ) item
> in
> the 3-tuple.
>
>
>
> Barnab?s
>
>
>
> From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org]
> On
> Behalf Of Anderson Almeida
> Sent: Monday, April 15, 2013 4:30 PM
> To: users at strategoxt.org    generate-java:
>
>     (selected, position, ast, path, project-path) -> (filename, result)
>
>     with
>
>       filename := <guarantee-extension(|"java")> path;
>
>       result   := <to-tres-end> selected
>
>
>
> I also wanted to know what does this AST node mean:
>
>
>
>
> "(fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[
> ]
>
> ,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
>
> Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
>
> eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
>
> n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
>
> (variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
> []))]))])),"
>
>
>
> I don't understand this. Does it try to find a rule that matches with this
> AST node? Because there isn't a way to go to 'fieldDec' and then turn back
> to the 'Start' rule in my syntax definition. And what does "[0,2,0,1,4,0]"
> mean? I'm confused...
>
>
>
> 2013/4/15 <users-request at strategoxt.org>
>
> Send Users mailing list submissions to
>         users at strategoxt.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         https://mailman.st.ewi.tudelft.nl/listinfo/users
> or, via email, send a message with subject or body 'help' to
>         users-request at strategoxt.org
>
> You can reach the person managing the list at
>         users-owner at strategoxt.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Users digest..."
>
>
> Today's Topics:
>
>    1. Re: Users Digest, Vol 50, Issue 8 (Kr?lik Barnab?s)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Mon, 15 Apr 2013 09:24:09 +0200
> From: Kr?lik Barnab?s <kralikba at msn.com>
> To: "'Stratego/XT Users'" <users at strategoxt.org>
> Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 8
> Message-ID: <BAY175-DS9CBA3E1E419891AFD32C6D0CC0 at phx.gbl>
> Content-Type: text/plain; charset="iso-8859-2"
>
> Could you please show generate-java too?
>
>
>
> Without that, I can only make a remark: to-tres-end itself does not match
> the seen instances of fieldDec. (there is no fieldDec(None(),.. rule.)
>
>
>
> Barnab?s
>
>
>
> From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org]
> On
> Behalf Of Anderson Almeida
> Sent: Sunday, April 14, 2013 7:11 PM
> To: users at strategoxt.org
> Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 8
>
>
>
> Thanks for the explanation!
>
> But I wanted to know what is wrong with my rules "to-tres-end".
>
> Here they are:
>
>
>
>  to-tres-end:
>
>   stm(varDeclaration(t1, type(t2, t3), varDeclarator(t4, t5,
>
> Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterL
> iteral(Char(aux(t6)))))))), ComaVarDecAux(t7)))-> $[
>
>       private ;
>
>       public  get {
>
>           return ;
>
>       }
>
>       public void set {
>
>       }  ]
>
>
>
>     to-tres-end:
>
>   fieldDec(Some(x1),varDeclaration(t1, type(t2, t3), varDeclarator(t4, t5,
>
> Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterL
> iteral(Char(aux(t6)))))))), ComaVarDecAux(t7)))-> $[
>
>       private ;
>
>       public  get {
>
>           return ;
>
>       }
>
>       public void set {
>
>              }  ]
>
>
>
>      to-tres-end:
>
>   Start(compilUnit(Some(x1), x2, typeDec(Some(x3), classDec(t1, t2,
> Some(t3), Some(t4), fieldDec(Some(x4),varDeclaration(t5, type(t6, t7),
> varDeclarator(t8, t9,
>
> Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterL
> iteral(Char(aux(t10)))))))), ComaVarDecAux(t11)))))))-> $[
>
>       private ;
>
>       public  get {
>
>           return ;
>
>       }
>
>       public void set {
>
>               }  ]
>
>
>
> Thanks,
>
> Anderson
>
>
>
>
>
> 2013/4/14 <users-request at strategoxt.org>
>
> Send Users mailing list submissions to
>         users at strategoxt.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         https://mailman.st.ewi.tudelft.nl/listinfo/users
> or, via email, send a message with subject or body 'help' to
>         users-request at strategoxt.org
>
> You can reach the person managing the list at
>         users-owner at strategoxt.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Users digest..."
>
>
> Today's Topics:
>
>    1. Internal error: with clause failed unexpectedly in        rule
>       'generate-java' (Anderson Almeida)
>    2. Re: Internal error: with clause failed    unexpectedly in rule
>       'generate-java' (Kr?lik Barnab?s)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Sun, 14 Apr 2013 11:23:26 -0300
> From: Anderson Almeida <anderson_a_f at hotmail.com>
> To: users at strategoxt.org
> Subject: [Stratego Users] Internal error: with clause failed
>         unexpectedly in rule 'generate-java'
> Message-ID:
>         <CAAzr2JNwSfPRk2J=
> YjbE4t-x_bMj9m_yVXyudc6zAF9duTxV4w at mail.gmail.com>
> Content-Type: text/plain; charset="iso-8859-1"
>
> Hi,
> I am getting started using Spoofax and I am having problems when I'm trying
> to generate code using "generate.str" file.
> I don't understand the error log. I wrote rules to handle 'fieldDec' and
> 'Start' productions. It seems to have errors on my rules, but I don't know
> where. Can someone help me?
> Full Stacktrace:
>
> JavaComp: rewriting failed, trace:
> generate_java_0_0
> to_tres_end_0_0
> [ JavaComp | critical ] Internal error: with clause failed unexpectedly in
> rule 'generate-java'
>
>
>
> (fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
>
> ,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
>
> Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
>
> eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
>
> n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
>
> (variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
>
> []))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
> Comp")
> org.spoofax.interpreter.core.InterpreterException: Exception during
> evaluation
> at org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:117)
>  at org.spoofax.interpreter.core.Interpreter.invoke(Interpreter.java:82)
> at org.strategoxt.HybridInterpreter.invoke(HybridInterpreter.java:424)
>  at
>
> org.strategoxt.imp.debug.core.str.launching.DebuggableHybridInterpreter.invo
> ke(DebuggableHybridInterpreter.java:150)
> at org.strategoxt.imp.runtime.Environment$2.invoke(Environment.java:193)
>  at
>
> org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
> .java:701)
> at
>
> org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
> .java:670)
>  at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.invokeObserver(StrategoB
> uilder.java:327)
> at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.execute(StrategoBuilder.
> java:193)
>  at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.access$1(StrategoBuilder
> .java:177)
> at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder$1.run(StrategoBuilder.ja
> va:164)
>  at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)
> Caused by: org.spoofax.interpreter.core.InterpreterErrorExit: Internal
> error: with clause failed unexpectedly in rule 'generate-java'
>  1
> at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:194)
> at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:183)
>  at
>
> org.strategoxt.lang.InteropSDefT$StrategyBody.evaluate(InteropSDefT.java:245
> )
> at
> org.strategoxt.lang.InteropSDefT$StrategyBody.eval(InteropSDefT.java:238)
>  at org.spoofax.interpreter.stratego.Strategy.evaluate(Strategy.java:76)
> at org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:109)
>  ... 11 more
> Caused by: org.strategoxt.lang.StrategoErrorExit: Internal error: with
> clause failed unexpectedly in rule 'generate-java'
> 1
>  at
>
> org.strategoxt.lang.compat.report_failure_compat_1_0.invoke(report_failure_c
> ompat_1_0.java:53)
> at
>
> org.strategoxt.stratego_lib.report_with_failure_0_2.invoke(report_with_failu
> re_0_2.java)
>  at org.strategoxt.lang.Strategy.invokeDynamic(Strategy.java:32)
> at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:192)
>  ... 16 more
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL:
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/6f90
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/6f90
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/6f90
> 56d9/attachment-0001.html>
> 56d9/attachment-0001.html>
> 56d9/attachment-0001.html>
>
> ------------------------------
>
> Message: 2
> Date: Sun, 14 Apr 2013 18:38:26 +0200
> From: Kr?lik Barnab?s <kralikba at msn.com>
> To: "'Stratego/XT Users'" <users at strategoxt.org>
> Subject: Re: [Stratego Users] Internal error: with clause failed
>         unexpectedly in rule 'generate-java'
> Message-ID: <BAY175-DS13FA91FD2335E929B0D59CD0C30 at phx.gbl>
> Content-Type: text/plain; charset="iso-8859-2"
>
> Hi,
>
>
>
> This means that the system has tried to apply all possible strategies, but
> have failed. The actual stack trace of your Stratego program is:
>
>             generate_java_0_0
>
>             to_tres_end_0_0
>
> i.e. the main strategy called is generate_java, the last tried strategy is
> to_tres_end, which has been directly called by the former one.
>
>
>
> The next important piece of information is a 3-tuple:
>
>
> (fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
>
> ,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
>
> Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
>
> eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
>
> n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
>
> (variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
>
> []))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
> Comp")
>
>
>
> The first item is the AST of the text-to-be-analyzed, the second is the
> path
> to the file inside the Eclipse project, the third one  is the path of the
> Eclipse project itself. The Java stack trace does not really concern your
> work.
>
>
>
> Hope that helps
>
> Barnab?s
>
>
>
> From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org]
> On
> Behalf Of Anderson Almeida
> Sent: Sunday, April 14, 2013 4:23 PM
> To: users at strategoxt.org
> Subject: [Stratego Users] Internal error: with clause failed unexpectedly
> in
> rule 'generate-java'
>
>
>
> Hi,
>
> I am getting started using Spoofax and I am having problems when I'm trying
> to generate code using "generate.str" file.
>
> I don't understand the error log. I wrote rules to handle 'fieldDec' and
> 'Start' productions. It seems to have errors on my rules, but I don't know
> where. Can someone help me?
>
> Full Stacktrace:
>
>
>
> JavaComp: rewriting failed, trace:
>
>           generate_java_0_0
>
>           to_tres_end_0_0
>
> [ JavaComp | critical ] Internal error: with clause failed unexpectedly in
> rule 'generate-java'
>
>
>
> (fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
>
> ,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
>
> Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
>
> eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
>
> n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
>
> (variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
>
> []))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
> Comp")
>
> org.spoofax.interpreter.core.InterpreterException: Exception during
> evaluation
>
>           at
> org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:117)
>
>           at
> org.spoofax.interpreter.core.Interpreter.invoke(Interpreter.java:82)
>
>           at
> org.strategoxt.HybridInterpreter.invoke(HybridInterpreter.java:424)
>
>           at
>
> org.strategoxt.imp.debug.core.str.launching.DebuggableHybridInterpreter.invo
> ke(DebuggableHybridInterpreter.java:150)
>
>           at
> org.strategoxt.imp.runtime.Environment$2.invoke(Environment.java:193)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
> .java:701)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
> .java:670)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.invokeObserver(StrategoB
> uilder.java:327)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.execute(StrategoBuilder.
> java:193)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.access$1(StrategoBuilder
> .java:177)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder$1.run(StrategoBuilder.ja
> va:164)
>
>           at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)
>
> Caused by: org.spoofax.interpreter.core.InterpreterErrorExit: Internal
> error: with clause failed unexpectedly in rule 'generate-java'
>
>           1
>
>           at
> org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:194)
>
>           at
> org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:183)
>
>           at
>
> org.strategoxt.lang.InteropSDefT$StrategyBody.evaluate(InteropSDefT.java:245
> )
>
>           at
> org.strategoxt.lang.InteropSDefT$StrategyBody.eval(InteropSDefT.java:238)
>
>           at
> org.spoofax.interpreter.stratego.Strategy.evaluate(Strategy.java:76)
>
>           at
> org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:109)
>
>           ... 11 more
>
> Caused by: org.strategoxt.lang.StrategoErrorExit: Internal error: with
> clause failed unexpectedly in rule 'generate-java'
>
>           1
>
>           at
>
> org.strategoxt.lang.compat.report_failure_compat_1_0.invoke(report_failure_c
> ompat_1_0.java:53)
>
>           at
>
> org.strategoxt.stratego_lib.report_with_failure_0_2.invoke(report_with_failu
> re_0_2.java)
>
>           at org.strategoxt.lang.Strategy.invokeDynamic(Strategy.java:32)
>
>           at
> org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:192)
>
>           ... 16 more
>
>
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL:
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/d65e
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/d65e
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/d65e
> fd48/attachment.html>
> fd48/attachment.html>
> fd48/attachment.html>
>
> ------------------------------
>
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users
>
>
> End of Users Digest, Vol 50, Issue 8
> ************************************
>
>
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL:
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/1692
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/1692
> 55fd/attachment.html>
> 55fd/attachment.html>
>
> ------------------------------
>
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users
>
>
> End of Users Digest, Vol 50, Issue 10
> *************************************
>
>
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL:
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/ab13
> 2e66/attachment.html>
>
> ------------------------------
>
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users
>
>
> End of Users Digest, Vol 50, Issue 12
> *************************************
>
>
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/d55e923d/attachment.html
> >
>
> ------------------------------
>
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users
>
>
> End of Users Digest, Vol 50, Issue 14
> *************************************
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/150a3957/attachment-0001.html>

From anderson_a_f at hotmail.com  Mon Apr 15 23:28:25 2013
From: anderson_a_f at hotmail.com (Anderson Almeida)
Date: Mon, 15 Apr 2013 18:28:25 -0300
Subject: [Stratego Users] Users Digest, Vol 50, Issue 15
In-Reply-To: <mailman.36.1366052227.861.users@strategoxt.org>
References: <mailman.36.1366052227.861.users@strategoxt.org>
Message-ID: <CAAzr2JNsfXzBoA-QC1k1O7E2iKCRSm96QAQXernmjUquDSTCnw@mail.gmail.com>

I have just one more question:
I tried to get an element inside a rule. I wanted to get t2 from here:
type(t2, t3).
I tried this:
$[  private [t2];.....]
But I got this exception:

Internal error: escaped term in string quotation is not a string in rule
'to-tres-end'   Int

How can I get t2?


2013/4/15 <users-request at strategoxt.org>

> Send Users mailing list submissions to
>         users at strategoxt.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         https://mailman.st.ewi.tudelft.nl/listinfo/users
> or, via email, send a message with subject or body 'help' to
>         users-request at strategoxt.org
>
> You can reach the person managing the list at
>         users-owner at strategoxt.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Users digest..."
>
>
> Today's Topics:
>
>    1. Re: Users Digest, Vol 50, Issue 14 (Anderson Almeida)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Mon, 15 Apr 2013 15:56:06 -0300
> From: Anderson Almeida <anderson_a_f at hotmail.com>
> To: users at strategoxt.org
> Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 14
> Message-ID:
>         <CAAzr2JPkma1DJYhpwxQSnvWjm3xRTmvKhzyN7zM7=
> P_ku1ZaYA at mail.gmail.com>
> Content-Type: text/plain; charset="iso-8859-1"
>
> Thanks, Barnab?s!
> It helped a lot!
>
>
> 2013/4/15 <users-request at strategoxt.org>
>
> > Send Users mailing list submissions to
> >         users at strategoxt.org
> >
> > To subscribe or unsubscribe via the World Wide Web, visit
> >         https://mailman.st.ewi.tudelft.nl/listinfo/users
> > or, via email, send a message with subject or body 'help' to
> >         users-request at strategoxt.org
> >
> > You can reach the person managing the list at
> >         users-owner at strategoxt.org
> >
> > When replying, please edit your Subject line so it is more specific
> > than "Re: Contents of Users digest..."
> >
> >
> > Today's Topics:
> >
> >    1. Re: Users Digest, Vol 50, Issue 12 (Kr?lik Barnab?s)
> >
> >
> > ----------------------------------------------------------------------
> >
> > Message: 1
> > Date: Mon, 15 Apr 2013 19:58:14 +0200
> > From: Kr?lik Barnab?s <kralikba at msn.com>
> > To: "'Stratego/XT Users'" <users at strategoxt.org>
> > Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 12
> > Message-ID: <BAY175-DS22B15B18EBD19D601DC25CD0CC0 at phx.gbl>
> > Content-Type: text/plain; charset="iso-8859-2"
> >
> > Hi Anderson,
> >
> >
> >
> > These rules describe the grammar; the AST itself is generated based on
> this
> > description.
> >
> > The generate-java strategy calls to-tres-end on the AST of the currently
> > selected piece of code. In turn, to-tres-end tries to match exactly one
> > left-hand-side to the term, which fails: only one of the to-tres-end
> rules
> > match fieldDec(.), and that requires that the first subterm is Some(x), x
> > being anything (i.e. a DocComent is required by the rule).
> >
> >
> >
> > Regards
> >
> > Barnab?s
> >
> >
> >
> > From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org]
> > On
> > Behalf Of Anderson Almeida
> > Sent: Monday, April 15, 2013 5:37 PM
> > To: users at strategoxt.org
> > Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 12
> >
> >
> >
> > Thanks, Barbab?s.
> >
> > But I don't understand why Spoofax is not matching my example with the
> rule
> > I've declared in 'to-tres-end'. Here are the rules since fieldDec to the
> > leaves.
> >
> >
> >
> >           DocComent? VariableDeclaration     ->        FieldDeclaration
> > {cons("fieldDec")}
> >
> >           Modificador* Type VariableDeclarator ComaVarDecAux*
> ";"
> > ->        VariableDeclaration {cons("varDeclaration")}
> >
> >           "," VariableDeclarator            ->        ComaVarDecAux
> > {cons("ComaVarDecAux")}
> >
> >           ID ManyBraces* OptVariableInitializer?     ->
> > VariableDeclarator {cons("varDeclarator")}
> >
> >           "=" VariableInitializer ->
> > OptVariableInitializer{cons("OptVariableInitializer")}
> >
> >           "[" "]" -> ManyBraces{cons("ManyBraces")}
> >
> >           Expression      ->        VariableInitializer
> > {cons("variableInitializer")}
> >
> >           LiteralExpression       ->        Expression
> > {cons("LiteralExpression")}
> >
> >           CHARACTER           ->        LiteralExpression
> > {cons("CharacterLiteral")}
> >
> >           "'" CharAux "'"->        CHARACTER {cons("Char")}
> >
> >           ~[\r\n\'\\]          ->        CharAux {cons("aux")}
> >
> >           UnicodeEscape          ->        CharAux {cons("aux")}
> >
> >           "\\" [u]+ [0-9a-fA-F] [0-9a-fA-F] [0-9a-fA-F] [0-9a-fA-F]  ->
> > UnicodeEscape {cons("unicodeEscape")}
> >
> >           EscapeSeq      ->        CharAux {cons("aux")}
> >
> >           OctaEscape  -> EscapeSeq {cons("aux")}
> >
> >           NamedEscape -> EscapeSeq {cons("aux")}
> >
> >           "\\" [btnfr\"\'\\]     -> NamedEscape {cons("aux")}
> >
> >           "\\" OctalAux          -> OctaEscape  {cons("aux")}
> >
> >           "\\" [0-3] OctalAux    -> OctaEscape  {cons("aux")}
> >
> >           "\\" [4-7] OctalAux       -> OctaEscape  {cons("aux")}
> >
> >           "\\" [0-3] OctalAux OctalAux -> OctaEscape  {cons("aux")}
> >
> >
> >
> >
> >
> >           TypeSpecifier ("[]")*  ->        Type {cons("type")}
> >
> >
> >
> >           "boolean"                    ->        TypeSpecifier
> > {cons("Boolean")}
> >
> >           "byte"                         ->        TypeSpecifier
> > {cons("Byte")}
> >
> >           "char"                          ->        TypeSpecifier
> > {cons("Char")}
> >
> >           "short"                        ->        TypeSpecifier
> > {cons("Short")}
> >
> >           "int"                            ->        TypeSpecifier
> > {cons("Int")}
> >
> >           "float"                         ->        TypeSpecifier
> > {cons("Float")}
> >
> >           "long"                         ->        TypeSpecifier
> > {cons("Long")}
> >
> >           "double"                     ->        TypeSpecifier
> > {cons("Double")}
> >
> >           ClassName                 ->        TypeSpecifier
> > {cons("ClassName")}
> >
> >           InterfaceName           ->        TypeSpecifier
> > {cons("InterfaceName")}
> >
> >
> >
> >           "public"           ->        Modificador {cons("modifier")}
> >
> >           "private"          ->        Modificador {cons("modifier")}
> >
> >           "protected"     ->        Modificador {cons("modifier")}
> >
> >           "static"            ->        Modificador {cons("modifier")}
> >
> >           "final"  ->        Modificador {cons("modifier")}
> >
> >           "native"           ->        Modificador {cons("modifier")}
> >
> >           "synchronized"           ->        Modificador
> {cons("modifier")}
> >
> >           "abstract"        ->        Modificador {cons("modifier")}
> >
> >           "threadsafe"    ->        Modificador {cons("modifier")}
> >
> >           "transient"       ->        Modificador {cons("modifier")}
> >
> >
> >
> > And here is my example I'm trying to generate code:
> >
> > public int var = 'a';
> >
> >
> >
> > 2013/4/15 <users-request at strategoxt.org>
> >
> > Send Users mailing list submissions to
> >         users at strategoxt.org
> >
> > To subscribe or unsubscribe via the World Wide Web, visit
> >         https://mailman.st.ewi.tudelft.nl/listinfo/users
> > or, via email, send a message with subject or body 'help' to
> >         users-request at strategoxt.org
> >
> > You can reach the person managing the list at
> >         users-owner at strategoxt.org
> >
> > When replying, please edit your Subject line so it is more specific
> > than "Re: Contents of Users digest..."
> >
> >
> > Today's Topics:
> >
> >    1. Re: Users Digest, Vol 50, Issue 10 (Kr?lik Barnab?s)
> >
> >
> > ----------------------------------------------------------------------
> >
> > Message: 1
> > Date: Mon, 15 Apr 2013 16:52:25 +0200
> > From: Kr?lik Barnab?s <kralikba at msn.com>
> > To: "'Stratego/XT Users'" <users at strategoxt.org>
> > Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 10
> > Message-ID: <BAY175-DS123B74A627FCB4E664910DD0CC0 at phx.gbl>
> > Content-Type: text/plain; charset="iso-8859-2"
> >
> > Hi Anderson,
> >
> >
> >
> > This means that fieldDec in question is at position [0,2,0,1,4,0]
> (0-based
> > children indices) in the AST of the program, which is the Start( . ) item
> > in
> > the 3-tuple.
> >
> >
> >
> > Barnab?s
> >
> >
> >
> > From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org]
> > On
> > Behalf Of Anderson Almeida
> > Sent: Monday, April 15, 2013 4:30 PM
> > To: users at strategoxt.org    generate-java:
> >
> >     (selected, position, ast, path, project-path) -> (filename, result)
> >
> >     with
> >
> >       filename := <guarantee-extension(|"java")> path;
> >
> >       result   := <to-tres-end> selected
> >
> >
> >
> > I also wanted to know what does this AST node mean:
> >
> >
> >
> >
> >
> "(fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[
> > ]
> >
> >
> ,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
> >
> >
> Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
> >
> >
> eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
> >
> >
> n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
> >
> >
> (variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
> > []))]))])),"
> >
> >
> >
> > I don't understand this. Does it try to find a rule that matches with
> this
> > AST node? Because there isn't a way to go to 'fieldDec' and then turn
> back
> > to the 'Start' rule in my syntax definition. And what does
> "[0,2,0,1,4,0]"
> > mean? I'm confused...
> >
> >
> >
> > 2013/4/15 <users-request at strategoxt.org>
> >
> > Send Users mailing list submissions to
> >         users at strategoxt.org
> >
> > To subscribe or unsubscribe via the World Wide Web, visit
> >         https://mailman.st.ewi.tudelft.nl/listinfo/users
> > or, via email, send a message with subject or body 'help' to
> >         users-request at strategoxt.org
> >
> > You can reach the person managing the list at
> >         users-owner at strategoxt.org
> >
> > When replying, please edit your Subject line so it is more specific
> > than "Re: Contents of Users digest..."
> >
> >
> > Today's Topics:
> >
> >    1. Re: Users Digest, Vol 50, Issue 8 (Kr?lik Barnab?s)
> >
> >
> > ----------------------------------------------------------------------
> >
> > Message: 1
> > Date: Mon, 15 Apr 2013 09:24:09 +0200
> > From: Kr?lik Barnab?s <kralikba at msn.com>
> > To: "'Stratego/XT Users'" <users at strategoxt.org>
> > Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 8
> > Message-ID: <BAY175-DS9CBA3E1E419891AFD32C6D0CC0 at phx.gbl>
> > Content-Type: text/plain; charset="iso-8859-2"
> >
> > Could you please show generate-java too?
> >
> >
> >
> > Without that, I can only make a remark: to-tres-end itself does not match
> > the seen instances of fieldDec. (there is no fieldDec(None(),.. rule.)
> >
> >
> >
> > Barnab?s
> >
> >
> >
> > From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org]
> > On
> > Behalf Of Anderson Almeida
> > Sent: Sunday, April 14, 2013 7:11 PM
> > To: users at strategoxt.org
> > Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 8
> >
> >
> >
> > Thanks for the explanation!
> >
> > But I wanted to know what is wrong with my rules "to-tres-end".
> >
> > Here they are:
> >
> >
> >
> >  to-tres-end:
> >
> >   stm(varDeclaration(t1, type(t2, t3), varDeclarator(t4, t5,
> >
> >
> Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterL
> > iteral(Char(aux(t6)))))))), ComaVarDecAux(t7)))-> $[
> >
> >       private ;
> >
> >       public  get {
> >
> >           return ;
> >
> >       }
> >
> >       public void set {
> >
> >       }  ]
> >
> >
> >
> >     to-tres-end:
> >
> >   fieldDec(Some(x1),varDeclaration(t1, type(t2, t3), varDeclarator(t4,
> t5,
> >
> >
> Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterL
> > iteral(Char(aux(t6)))))))), ComaVarDecAux(t7)))-> $[
> >
> >       private ;
> >
> >       public  get {
> >
> >           return ;
> >
> >       }
> >
> >       public void set {
> >
> >              }  ]
> >
> >
> >
> >      to-tres-end:
> >
> >   Start(compilUnit(Some(x1), x2, typeDec(Some(x3), classDec(t1, t2,
> > Some(t3), Some(t4), fieldDec(Some(x4),varDeclaration(t5, type(t6, t7),
> > varDeclarator(t8, t9,
> >
> >
> Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterL
> > iteral(Char(aux(t10)))))))), ComaVarDecAux(t11)))))))-> $[
> >
> >       private ;
> >
> >       public  get {
> >
> >           return ;
> >
> >       }
> >
> >       public void set {
> >
> >               }  ]
> >
> >
> >
> > Thanks,
> >
> > Anderson
> >
> >
> >
> >
> >
> > 2013/4/14 <users-request at strategoxt.org>
> >
> > Send Users mailing list submissions to
> >         users at strategoxt.org
> >
> > To subscribe or unsubscribe via the World Wide Web, visit
> >         https://mailman.st.ewi.tudelft.nl/listinfo/users
> > or, via email, send a message with subject or body 'help' to
> >         users-request at strategoxt.org
> >
> > You can reach the person managing the list at
> >         users-owner at strategoxt.org
> >
> > When replying, please edit your Subject line so it is more specific
> > than "Re: Contents of Users digest..."
> >
> >
> > Today's Topics:
> >
> >    1. Internal error: with clause failed unexpectedly in        rule
> >       'generate-java' (Anderson Almeida)
> >    2. Re: Internal error: with clause failed    unexpectedly in rule
> >       'generate-java' (Kr?lik Barnab?s)
> >
> >
> > ----------------------------------------------------------------------
> >
> > Message: 1
> > Date: Sun, 14 Apr 2013 11:23:26 -0300
> > From: Anderson Almeida <anderson_a_f at hotmail.com>
> > To: users at strategoxt.org
> > Subject: [Stratego Users] Internal error: with clause failed
> >         unexpectedly in rule 'generate-java'
> > Message-ID:
> >         <CAAzr2JNwSfPRk2J=
> > YjbE4t-x_bMj9m_yVXyudc6zAF9duTxV4w at mail.gmail.com>
> > Content-Type: text/plain; charset="iso-8859-1"
> >
> > Hi,
> > I am getting started using Spoofax and I am having problems when I'm
> trying
> > to generate code using "generate.str" file.
> > I don't understand the error log. I wrote rules to handle 'fieldDec' and
> > 'Start' productions. It seems to have errors on my rules, but I don't
> know
> > where. Can someone help me?
> > Full Stacktrace:
> >
> > JavaComp: rewriting failed, trace:
> > generate_java_0_0
> > to_tres_end_0_0
> > [ JavaComp | critical ] Internal error: with clause failed unexpectedly
> in
> > rule 'generate-java'
> >
> >
> >
> >
> (fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
> >
> >
> ,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
> >
> >
> Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
> >
> >
> eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
> >
> >
> n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
> >
> >
> (variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
> >
> >
> []))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
> > Comp")
> > org.spoofax.interpreter.core.InterpreterException: Exception during
> > evaluation
> > at
> org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:117)
> >  at org.spoofax.interpreter.core.Interpreter.invoke(Interpreter.java:82)
> > at org.strategoxt.HybridInterpreter.invoke(HybridInterpreter.java:424)
> >  at
> >
> >
> org.strategoxt.imp.debug.core.str.launching.DebuggableHybridInterpreter.invo
> > ke(DebuggableHybridInterpreter.java:150)
> > at org.strategoxt.imp.runtime.Environment$2.invoke(Environment.java:193)
> >  at
> >
> >
> org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
> > .java:701)
> > at
> >
> >
> org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
> > .java:670)
> >  at
> >
> >
> org.strategoxt.imp.runtime.services.StrategoBuilder.invokeObserver(StrategoB
> > uilder.java:327)
> > at
> >
> >
> org.strategoxt.imp.runtime.services.StrategoBuilder.execute(StrategoBuilder.
> > java:193)
> >  at
> >
> >
> org.strategoxt.imp.runtime.services.StrategoBuilder.access$1(StrategoBuilder
> > .java:177)
> > at
> >
> >
> org.strategoxt.imp.runtime.services.StrategoBuilder$1.run(StrategoBuilder.ja
> > va:164)
> >  at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)
> > Caused by: org.spoofax.interpreter.core.InterpreterErrorExit: Internal
> > error: with clause failed unexpectedly in rule 'generate-java'
> >  1
> > at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:194)
> > at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:183)
> >  at
> >
> >
> org.strategoxt.lang.InteropSDefT$StrategyBody.evaluate(InteropSDefT.java:245
> > )
> > at
> > org.strategoxt.lang.InteropSDefT$StrategyBody.eval(InteropSDefT.java:238)
> >  at org.spoofax.interpreter.stratego.Strategy.evaluate(Strategy.java:76)
> > at
> org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:109)
> >  ... 11 more
> > Caused by: org.strategoxt.lang.StrategoErrorExit: Internal error: with
> > clause failed unexpectedly in rule 'generate-java'
> > 1
> >  at
> >
> >
> org.strategoxt.lang.compat.report_failure_compat_1_0.invoke(report_failure_c
> > ompat_1_0.java:53)
> > at
> >
> >
> org.strategoxt.stratego_lib.report_with_failure_0_2.invoke(report_with_failu
> > re_0_2.java)
> >  at org.strategoxt.lang.Strategy.invokeDynamic(Strategy.java:32)
> > at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:192)
> >  ... 16 more
> > -------------- next part --------------
> > An HTML attachment was scrubbed...
> > URL:
> > <
> >
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/6f90
> > <
> >
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/6f90
> > <
> >
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/6f90
> > 56d9/attachment-0001.html>
> > 56d9/attachment-0001.html>
> > 56d9/attachment-0001.html>
> >
> > ------------------------------
> >
> > Message: 2
> > Date: Sun, 14 Apr 2013 18:38:26 +0200
> > From: Kr?lik Barnab?s <kralikba at msn.com>
> > To: "'Stratego/XT Users'" <users at strategoxt.org>
> > Subject: Re: [Stratego Users] Internal error: with clause failed
> >         unexpectedly in rule 'generate-java'
> > Message-ID: <BAY175-DS13FA91FD2335E929B0D59CD0C30 at phx.gbl>
> > Content-Type: text/plain; charset="iso-8859-2"
> >
> > Hi,
> >
> >
> >
> > This means that the system has tried to apply all possible strategies,
> but
> > have failed. The actual stack trace of your Stratego program is:
> >
> >             generate_java_0_0
> >
> >             to_tres_end_0_0
> >
> > i.e. the main strategy called is generate_java, the last tried strategy
> is
> > to_tres_end, which has been directly called by the former one.
> >
> >
> >
> > The next important piece of information is a 3-tuple:
> >
> >
> >
> (fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
> >
> >
> ,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
> >
> >
> Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
> >
> >
> eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
> >
> >
> n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
> >
> >
> (variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
> >
> >
> []))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
> > Comp")
> >
> >
> >
> > The first item is the AST of the text-to-be-analyzed, the second is the
> > path
> > to the file inside the Eclipse project, the third one  is the path of the
> > Eclipse project itself. The Java stack trace does not really concern your
> > work.
> >
> >
> >
> > Hope that helps
> >
> > Barnab?s
> >
> >
> >
> > From: users-bounces at strategoxt.org [mailto:users-bounces at strategoxt.org]
> > On
> > Behalf Of Anderson Almeida
> > Sent: Sunday, April 14, 2013 4:23 PM
> > To: users at strategoxt.org
> > Subject: [Stratego Users] Internal error: with clause failed unexpectedly
> > in
> > rule 'generate-java'
> >
> >
> >
> > Hi,
> >
> > I am getting started using Spoofax and I am having problems when I'm
> trying
> > to generate code using "generate.str" file.
> >
> > I don't understand the error log. I wrote rules to handle 'fieldDec' and
> > 'Start' productions. It seems to have errors on my rules, but I don't
> know
> > where. Can someone help me?
> >
> > Full Stacktrace:
> >
> >
> >
> > JavaComp: rewriting failed, trace:
> >
> >           generate_java_0_0
> >
> >           to_tres_end_0_0
> >
> > [ JavaComp | critical ] Internal error: with clause failed unexpectedly
> in
> > rule 'generate-java'
> >
> >
> >
> >
> (fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
> >
> >
> ,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
> >
> >
> Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
> >
> >
> eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
> >
> >
> n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
> >
> >
> (variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
> >
> >
> []))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
> > Comp")
> >
> > org.spoofax.interpreter.core.InterpreterException: Exception during
> > evaluation
> >
> >           at
> > org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:117)
> >
> >           at
> > org.spoofax.interpreter.core.Interpreter.invoke(Interpreter.java:82)
> >
> >           at
> > org.strategoxt.HybridInterpreter.invoke(HybridInterpreter.java:424)
> >
> >           at
> >
> >
> org.strategoxt.imp.debug.core.str.launching.DebuggableHybridInterpreter.invo
> > ke(DebuggableHybridInterpreter.java:150)
> >
> >           at
> > org.strategoxt.imp.runtime.Environment$2.invoke(Environment.java:193)
> >
> >           at
> >
> >
> org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
> > .java:701)
> >
> >           at
> >
> >
> org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
> > .java:670)
> >
> >           at
> >
> >
> org.strategoxt.imp.runtime.services.StrategoBuilder.invokeObserver(StrategoB
> > uilder.java:327)
> >
> >           at
> >
> >
> org.strategoxt.imp.runtime.services.StrategoBuilder.execute(StrategoBuilder.
> > java:193)
> >
> >           at
> >
> >
> org.strategoxt.imp.runtime.services.StrategoBuilder.access$1(StrategoBuilder
> > .java:177)
> >
> >           at
> >
> >
> org.strategoxt.imp.runtime.services.StrategoBuilder$1.run(StrategoBuilder.ja
> > va:164)
> >
> >           at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)
> >
> > Caused by: org.spoofax.interpreter.core.InterpreterErrorExit: Internal
> > error: with clause failed unexpectedly in rule 'generate-java'
> >
> >           1
> >
> >           at
> > org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:194)
> >
> >           at
> > org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:183)
> >
> >           at
> >
> >
> org.strategoxt.lang.InteropSDefT$StrategyBody.evaluate(InteropSDefT.java:245
> > )
> >
> >           at
> > org.strategoxt.lang.InteropSDefT$StrategyBody.eval(InteropSDefT.java:238)
> >
> >           at
> > org.spoofax.interpreter.stratego.Strategy.evaluate(Strategy.java:76)
> >
> >           at
> > org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:109)
> >
> >           ... 11 more
> >
> > Caused by: org.strategoxt.lang.StrategoErrorExit: Internal error: with
> > clause failed unexpectedly in rule 'generate-java'
> >
> >           1
> >
> >           at
> >
> >
> org.strategoxt.lang.compat.report_failure_compat_1_0.invoke(report_failure_c
> > ompat_1_0.java:53)
> >
> >           at
> >
> >
> org.strategoxt.stratego_lib.report_with_failure_0_2.invoke(report_with_failu
> > re_0_2.java)
> >
> >           at org.strategoxt.lang.Strategy.invokeDynamic(Strategy.java:32)
> >
> >           at
> > org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:192)
> >
> >           ... 16 more
> >
> >
> >
> > -------------- next part --------------
> > An HTML attachment was scrubbed...
> > URL:
> > <
> >
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/d65e
> > <
> >
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/d65e
> > <
> >
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/d65e
> > fd48/attachment.html>
> > fd48/attachment.html>
> > fd48/attachment.html>
> >
> > ------------------------------
> >
> > _______________________________________________
> > Users mailing list
> > Users at strategoxt.org
> > https://mailman.st.ewi.tudelft.nl/listinfo/users
> >
> >
> > End of Users Digest, Vol 50, Issue 8
> > ************************************
> >
> >
> >
> > -------------- next part --------------
> > An HTML attachment was scrubbed...
> > URL:
> > <
> >
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/1692
> > <
> >
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/1692
> > 55fd/attachment.html>
> > 55fd/attachment.html>
> >
> > ------------------------------
> >
> > _______________________________________________
> > Users mailing list
> > Users at strategoxt.org
> > https://mailman.st.ewi.tudelft.nl/listinfo/users
> >
> >
> > End of Users Digest, Vol 50, Issue 10
> > *************************************
> >
> >
> >
> > -------------- next part --------------
> > An HTML attachment was scrubbed...
> > URL:
> > <
> >
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/ab13
> > 2e66/attachment.html>
> >
> > ------------------------------
> >
> > _______________________________________________
> > Users mailing list
> > Users at strategoxt.org
> > https://mailman.st.ewi.tudelft.nl/listinfo/users
> >
> >
> > End of Users Digest, Vol 50, Issue 12
> > *************************************
> >
> >
> >
> > -------------- next part --------------
> > An HTML attachment was scrubbed...
> > URL: <
> >
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/d55e923d/attachment.html
> > >
> >
> > ------------------------------
> >
> > _______________________________________________
> > Users mailing list
> > Users at strategoxt.org
> > https://mailman.st.ewi.tudelft.nl/listinfo/users
> >
> >
> > End of Users Digest, Vol 50, Issue 14
> > *************************************
> >
> >
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/150a3957/attachment.html
> >
>
> ------------------------------
>
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users
>
>
> End of Users Digest, Vol 50, Issue 15
> *************************************
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/39e958a1/attachment-0001.html>

From G.H.Wachsmuth at tudelft.nl  Mon Apr 15 23:42:10 2013
From: G.H.Wachsmuth at tudelft.nl (Guido Wachsmuth - EWI)
Date: Mon, 15 Apr 2013 21:42:10 +0000
Subject: [Stratego Users] Internal error: with clause failed
 unexpectedly in rule 'generate-java'
In-Reply-To: <CAAzr2JNsfXzBoA-QC1k1O7E2iKCRSm96QAQXernmjUquDSTCnw@mail.gmail.com>
References: <mailman.36.1366052227.861.users@strategoxt.org>
	<CAAzr2JNsfXzBoA-QC1k1O7E2iKCRSm96QAQXernmjUquDSTCnw@mail.gmail.com>
Message-ID: <39465ABECE3CBC4EA3A3DDC99D576C423FEB3249@srv365.tudelft.net>

Dear Anderson,

The issue here is, that t2 is not bound to a string. But in string quotations, $[?], you can only compose strings.

-- Guido Wachsmuth

PS: I changed the mail topic to the one from your first mail. Responses to "Users Digest" do not really help to understand the topic.

On Apr 15, 2013, at 23:28 , Anderson Almeida <anderson_a_f at hotmail.com<mailto:anderson_a_f at hotmail.com>>
 wrote:

I have just one more question:
I tried to get an element inside a rule. I wanted to get t2 from here: type(t2, t3).
I tried this:
$[  private [t2];.....]
But I got this exception:

Internal error: escaped term in string quotation is not a string in rule 'to-tres-end'   Int

How can I get t2?


2013/4/15 <users-request at strategoxt.org<mailto:users-request at strategoxt.org>>
Send Users mailing list submissions to
        users at strategoxt.org<mailto:users at strategoxt.org>

To subscribe or unsubscribe via the World Wide Web, visit
        https://mailman.st.ewi.tudelft.nl/listinfo/users
or, via email, send a message with subject or body 'help' to
        users-request at strategoxt.org<mailto:users-request at strategoxt.org>

You can reach the person managing the list at
        users-owner at strategoxt.org<mailto:users-owner at strategoxt.org>

When replying, please edit your Subject line so it is more specific
than "Re: Contents of Users digest..."


Today's Topics:

   1. Re: Users Digest, Vol 50, Issue 14 (Anderson Almeida)


----------------------------------------------------------------------

Message: 1
Date: Mon, 15 Apr 2013 15:56:06 -0300
From: Anderson Almeida <anderson_a_f at hotmail.com<mailto:anderson_a_f at hotmail.com>>
To: users at strategoxt.org<mailto:users at strategoxt.org>
Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 14
Message-ID:
        <CAAzr2JPkma1DJYhpwxQSnvWjm3xRTmvKhzyN7zM7=P_ku1ZaYA at mail.gmail.com<mailto:P_ku1ZaYA at mail.gmail.com>>
Content-Type: text/plain; charset="iso-8859-1"

Thanks, Barnab?s!
It helped a lot!


2013/4/15 <users-request at strategoxt.org<mailto:users-request at strategoxt.org>>

> Send Users mailing list submissions to
>         users at strategoxt.org<mailto:users at strategoxt.org>
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         https://mailman.st.ewi.tudelft.nl/listinfo/users
> or, via email, send a message with subject or body 'help' to
>         users-request at strategoxt.org<mailto:users-request at strategoxt.org>
>
> You can reach the person managing the list at
>         users-owner at strategoxt.org<mailto:users-owner at strategoxt.org>
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Users digest..."
>
>
> Today's Topics:
>
>    1. Re: Users Digest, Vol 50, Issue 12 (Kr?lik Barnab?s)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Mon, 15 Apr 2013 19:58:14 +0200
> From: Kr?lik Barnab?s <kralikba at msn.com<mailto:kralikba at msn.com>>
> To: "'Stratego/XT Users'" <users at strategoxt.org<mailto:users at strategoxt.org>>
> Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 12
> Message-ID: <BAY175-DS22B15B18EBD19D601DC25CD0CC0 at phx.gbl<mailto:BAY175-DS22B15B18EBD19D601DC25CD0CC0 at phx.gbl>>
> Content-Type: text/plain; charset="iso-8859-2"
>
> Hi Anderson,
>
>
>
> These rules describe the grammar; the AST itself is generated based on this
> description.
>
> The generate-java strategy calls to-tres-end on the AST of the currently
> selected piece of code. In turn, to-tres-end tries to match exactly one
> left-hand-side to the term, which fails: only one of the to-tres-end rules
> match fieldDec(.), and that requires that the first subterm is Some(x), x
> being anything (i.e. a DocComent is required by the rule).
>
>
>
> Regards
>
> Barnab?s
>
>
>
> From: users-bounces at strategoxt.org<mailto:users-bounces at strategoxt.org> [mailto:users-bounces at strategoxt.org<mailto:users-bounces at strategoxt.org>]
> On
> Behalf Of Anderson Almeida
> Sent: Monday, April 15, 2013 5:37 PM
> To: users at strategoxt.org<mailto:users at strategoxt.org>
> Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 12
>
>
>
> Thanks, Barbab?s.
>
> But I don't understand why Spoofax is not matching my example with the rule
> I've declared in 'to-tres-end'. Here are the rules since fieldDec to the
> leaves.
>
>
>
>           DocComent? VariableDeclaration     ->        FieldDeclaration
> {cons("fieldDec")}
>
>           Modificador* Type VariableDeclarator ComaVarDecAux*           ";"
> ->        VariableDeclaration {cons("varDeclaration")}
>
>           "," VariableDeclarator            ->        ComaVarDecAux
> {cons("ComaVarDecAux")}
>
>           ID ManyBraces* OptVariableInitializer?     ->
> VariableDeclarator {cons("varDeclarator")}
>
>           "=" VariableInitializer ->
> OptVariableInitializer{cons("OptVariableInitializer")}
>
>           "[" "]" -> ManyBraces{cons("ManyBraces")}
>
>           Expression      ->        VariableInitializer
> {cons("variableInitializer")}
>
>           LiteralExpression       ->        Expression
> {cons("LiteralExpression")}
>
>           CHARACTER           ->        LiteralExpression
> {cons("CharacterLiteral")}
>
>           "'" CharAux "'"->        CHARACTER {cons("Char")}
>
>           ~[\r\n\'\\]          ->        CharAux {cons("aux")}
>
>           UnicodeEscape          ->        CharAux {cons("aux")}
>
>           "\\" [u]+ [0-9a-fA-F] [0-9a-fA-F] [0-9a-fA-F] [0-9a-fA-F]  ->
> UnicodeEscape {cons("unicodeEscape")}
>
>           EscapeSeq      ->        CharAux {cons("aux")}
>
>           OctaEscape  -> EscapeSeq {cons("aux")}
>
>           NamedEscape -> EscapeSeq {cons("aux")}
>
>           "\\" [btnfr\"\'\\]     -> NamedEscape {cons("aux")}
>
>           "\\" OctalAux          -> OctaEscape  {cons("aux")}
>
>           "\\" [0-3] OctalAux    -> OctaEscape  {cons("aux")}
>
>           "\\" [4-7] OctalAux       -> OctaEscape  {cons("aux")}
>
>           "\\" [0-3] OctalAux OctalAux -> OctaEscape  {cons("aux")}
>
>
>
>
>
>           TypeSpecifier ("[]")*  ->        Type {cons("type")}
>
>
>
>           "boolean"                    ->        TypeSpecifier
> {cons("Boolean")}
>
>           "byte"                         ->        TypeSpecifier
> {cons("Byte")}
>
>           "char"                          ->        TypeSpecifier
> {cons("Char")}
>
>           "short"                        ->        TypeSpecifier
> {cons("Short")}
>
>           "int"                            ->        TypeSpecifier
> {cons("Int")}
>
>           "float"                         ->        TypeSpecifier
> {cons("Float")}
>
>           "long"                         ->        TypeSpecifier
> {cons("Long")}
>
>           "double"                     ->        TypeSpecifier
> {cons("Double")}
>
>           ClassName                 ->        TypeSpecifier
> {cons("ClassName")}
>
>           InterfaceName           ->        TypeSpecifier
> {cons("InterfaceName")}
>
>
>
>           "public"           ->        Modificador {cons("modifier")}
>
>           "private"          ->        Modificador {cons("modifier")}
>
>           "protected"     ->        Modificador {cons("modifier")}
>
>           "static"            ->        Modificador {cons("modifier")}
>
>           "final"  ->        Modificador {cons("modifier")}
>
>           "native"           ->        Modificador {cons("modifier")}
>
>           "synchronized"           ->        Modificador {cons("modifier")}
>
>           "abstract"        ->        Modificador {cons("modifier")}
>
>           "threadsafe"    ->        Modificador {cons("modifier")}
>
>           "transient"       ->        Modificador {cons("modifier")}
>
>
>
> And here is my example I'm trying to generate code:
>
> public int var = 'a';
>
>
>
> 2013/4/15 <users-request at strategoxt.org<mailto:users-request at strategoxt.org>>
>
> Send Users mailing list submissions to
>         users at strategoxt.org<mailto:users at strategoxt.org>
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         https://mailman.st.ewi.tudelft.nl/listinfo/users
> or, via email, send a message with subject or body 'help' to
>         users-request at strategoxt.org<mailto:users-request at strategoxt.org>
>
> You can reach the person managing the list at
>         users-owner at strategoxt.org<mailto:users-owner at strategoxt.org>
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Users digest..."
>
>
> Today's Topics:
>
>    1. Re: Users Digest, Vol 50, Issue 10 (Kr?lik Barnab?s)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Mon, 15 Apr 2013 16:52:25 +0200
> From: Kr?lik Barnab?s <kralikba at msn.com<mailto:kralikba at msn.com>>
> To: "'Stratego/XT Users'" <users at strategoxt.org<mailto:users at strategoxt.org>>
> Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 10
> Message-ID: <BAY175-DS123B74A627FCB4E664910DD0CC0 at phx.gbl<mailto:BAY175-DS123B74A627FCB4E664910DD0CC0 at phx.gbl>>
> Content-Type: text/plain; charset="iso-8859-2"
>
> Hi Anderson,
>
>
>
> This means that fieldDec in question is at position [0,2,0,1,4,0] (0-based
> children indices) in the AST of the program, which is the Start( . ) item
> in
> the 3-tuple.
>
>
>
> Barnab?s
>
>
>
> From: users-bounces at strategoxt.org<mailto:users-bounces at strategoxt.org> [mailto:users-bounces at strategoxt.org<mailto:users-bounces at strategoxt.org>]
> On
> Behalf Of Anderson Almeida
> Sent: Monday, April 15, 2013 4:30 PM
> To: users at strategoxt.org<mailto:users at strategoxt.org>    generate-java:
>
>     (selected, position, ast, path, project-path) -> (filename, result)
>
>     with
>
>       filename := <guarantee-extension(|"java")> path;
>
>       result   := <to-tres-end> selected
>
>
>
> I also wanted to know what does this AST node mean:
>
>
>
>
> "(fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[
> ]
>
> ,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
>
> Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
>
> eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
>
> n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
>
> (variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
> []))]))])),"
>
>
>
> I don't understand this. Does it try to find a rule that matches with this
> AST node? Because there isn't a way to go to 'fieldDec' and then turn back
> to the 'Start' rule in my syntax definition. And what does "[0,2,0,1,4,0]"
> mean? I'm confused...
>
>
>
> 2013/4/15 <users-request at strategoxt.org<mailto:users-request at strategoxt.org>>
>
> Send Users mailing list submissions to
>         users at strategoxt.org<mailto:users at strategoxt.org>
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         https://mailman.st.ewi.tudelft.nl/listinfo/users
> or, via email, send a message with subject or body 'help' to
>         users-request at strategoxt.org<mailto:users-request at strategoxt.org>
>
> You can reach the person managing the list at
>         users-owner at strategoxt.org<mailto:users-owner at strategoxt.org>
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Users digest..."
>
>
> Today's Topics:
>
>    1. Re: Users Digest, Vol 50, Issue 8 (Kr?lik Barnab?s)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Mon, 15 Apr 2013 09:24:09 +0200
> From: Kr?lik Barnab?s <kralikba at msn.com<mailto:kralikba at msn.com>>
> To: "'Stratego/XT Users'" <users at strategoxt.org<mailto:users at strategoxt.org>>
> Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 8
> Message-ID: <BAY175-DS9CBA3E1E419891AFD32C6D0CC0 at phx.gbl<mailto:BAY175-DS9CBA3E1E419891AFD32C6D0CC0 at phx.gbl>>
> Content-Type: text/plain; charset="iso-8859-2"
>
> Could you please show generate-java too?
>
>
>
> Without that, I can only make a remark: to-tres-end itself does not match
> the seen instances of fieldDec. (there is no fieldDec(None(),.. rule.)
>
>
>
> Barnab?s
>
>
>
> From: users-bounces at strategoxt.org<mailto:users-bounces at strategoxt.org> [mailto:users-bounces at strategoxt.org<mailto:users-bounces at strategoxt.org>]
> On
> Behalf Of Anderson Almeida
> Sent: Sunday, April 14, 2013 7:11 PM
> To: users at strategoxt.org<mailto:users at strategoxt.org>
> Subject: Re: [Stratego Users] Users Digest, Vol 50, Issue 8
>
>
>
> Thanks for the explanation!
>
> But I wanted to know what is wrong with my rules "to-tres-end".
>
> Here they are:
>
>
>
>  to-tres-end:
>
>   stm(varDeclaration(t1, type(t2, t3), varDeclarator(t4, t5,
>
> Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterL
> iteral(Char(aux(t6)))))))), ComaVarDecAux(t7)))-> $[
>
>       private ;
>
>       public  get {
>
>           return ;
>
>       }
>
>       public void set {
>
>       }  ]
>
>
>
>     to-tres-end:
>
>   fieldDec(Some(x1),varDeclaration(t1, type(t2, t3), varDeclarator(t4, t5,
>
> Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterL
> iteral(Char(aux(t6)))))))), ComaVarDecAux(t7)))-> $[
>
>       private ;
>
>       public  get {
>
>           return ;
>
>       }
>
>       public void set {
>
>              }  ]
>
>
>
>      to-tres-end:
>
>   Start(compilUnit(Some(x1), x2, typeDec(Some(x3), classDec(t1, t2,
> Some(t3), Some(t4), fieldDec(Some(x4),varDeclaration(t5, type(t6, t7),
> varDeclarator(t8, t9,
>
> Some(OptVariableInitializer(variableInitializer(LiteralExpression(CharacterL
> iteral(Char(aux(t10)))))))), ComaVarDecAux(t11)))))))-> $[
>
>       private ;
>
>       public  get {
>
>           return ;
>
>       }
>
>       public void set {
>
>               }  ]
>
>
>
> Thanks,
>
> Anderson
>
>
>
>
>
> 2013/4/14 <users-request at strategoxt.org<mailto:users-request at strategoxt.org>>
>
> Send Users mailing list submissions to
>         users at strategoxt.org<mailto:users at strategoxt.org>
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         https://mailman.st.ewi.tudelft.nl/listinfo/users
> or, via email, send a message with subject or body 'help' to
>         users-request at strategoxt.org<mailto:users-request at strategoxt.org>
>
> You can reach the person managing the list at
>         users-owner at strategoxt.org<mailto:users-owner at strategoxt.org>
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Users digest..."
>
>
> Today's Topics:
>
>    1. Internal error: with clause failed unexpectedly in        rule
>       'generate-java' (Anderson Almeida)
>    2. Re: Internal error: with clause failed    unexpectedly in rule
>       'generate-java' (Kr?lik Barnab?s)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Sun, 14 Apr 2013 11:23:26 -0300
> From: Anderson Almeida <anderson_a_f at hotmail.com<mailto:anderson_a_f at hotmail.com>>
> To: users at strategoxt.org<mailto:users at strategoxt.org>
> Subject: [Stratego Users] Internal error: with clause failed
>         unexpectedly in rule 'generate-java'
> Message-ID:
>         <CAAzr2JNwSfPRk2J=
> YjbE4t-x_bMj9m_yVXyudc6zAF9duTxV4w at mail.gmail.com<mailto:YjbE4t-x_bMj9m_yVXyudc6zAF9duTxV4w at mail.gmail.com>>
> Content-Type: text/plain; charset="iso-8859-1"
>
> Hi,
> I am getting started using Spoofax and I am having problems when I'm trying
> to generate code using "generate.str" file.
> I don't understand the error log. I wrote rules to handle 'fieldDec' and
> 'Start' productions. It seems to have errors on my rules, but I don't know
> where. Can someone help me?
> Full Stacktrace:
>
> JavaComp: rewriting failed, trace:
> generate_java_0_0
> to_tres_end_0_0
> [ JavaComp | critical ] Internal error: with clause failed unexpectedly in
> rule 'generate-java'
>
>
>
> (fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
>
> ,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
>
> Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
>
> eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
>
> n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
>
> (variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
>
> []))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
> Comp")
> org.spoofax.interpreter.core.InterpreterException: Exception during
> evaluation
> at org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:117)
>  at org.spoofax.interpreter.core.Interpreter.invoke(Interpreter.java:82)
> at org.strategoxt.HybridInterpreter.invoke(HybridInterpreter.java:424)
>  at
>
> org.strategoxt.imp.debug.core.str.launching.DebuggableHybridInterpreter.invo
> ke(DebuggableHybridInterpreter.java:150)
> at org.strategoxt.imp.runtime.Environment$2.invoke(Environment.java:193)
>  at
>
> org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
> .java:701)
> at
>
> org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
> .java:670)
>  at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.invokeObserver(StrategoB
> uilder.java:327)
> at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.execute(StrategoBuilder.
> java:193)
>  at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.access$1(StrategoBuilder
> .java:177)
> at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder$1.run(StrategoBuilder.ja
> va:164)
>  at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)
> Caused by: org.spoofax.interpreter.core.InterpreterErrorExit: Internal
> error: with clause failed unexpectedly in rule 'generate-java'
>  1
> at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:194)
> at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:183)
>  at
>
> org.strategoxt.lang.InteropSDefT$StrategyBody.evaluate(InteropSDefT.java:245
> )
> at
> org.strategoxt.lang.InteropSDefT$StrategyBody.eval(InteropSDefT.java:238)
>  at org.spoofax.interpreter.stratego.Strategy.evaluate(Strategy.java:76)
> at org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:109)
>  ... 11 more
> Caused by: org.strategoxt.lang.StrategoErrorExit: Internal error: with
> clause failed unexpectedly in rule 'generate-java'
> 1
>  at
>
> org.strategoxt.lang.compat.report_failure_compat_1_0.invoke(report_failure_c
> ompat_1_0.java:53)
> at
>
> org.strategoxt.stratego_lib.report_with_failure_0_2.invoke(report_with_failu
> re_0_2.java)
>  at org.strategoxt.lang.Strategy.invokeDynamic(Strategy.java:32)
> at org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:192)
>  ... 16 more
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL:
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/6f90
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/6f90
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/6f90
> 56d9/attachment-0001.html>
> 56d9/attachment-0001.html>
> 56d9/attachment-0001.html>
>
> ------------------------------
>
> Message: 2
> Date: Sun, 14 Apr 2013 18:38:26 +0200
> From: Kr?lik Barnab?s <kralikba at msn.com<mailto:kralikba at msn.com>>
> To: "'Stratego/XT Users'" <users at strategoxt.org<mailto:users at strategoxt.org>>
> Subject: Re: [Stratego Users] Internal error: with clause failed
>         unexpectedly in rule 'generate-java'
> Message-ID: <BAY175-DS13FA91FD2335E929B0D59CD0C30 at phx.gbl<mailto:BAY175-DS13FA91FD2335E929B0D59CD0C30 at phx.gbl>>
> Content-Type: text/plain; charset="iso-8859-2"
>
> Hi,
>
>
>
> This means that the system has tried to apply all possible strategies, but
> have failed. The actual stack trace of your Stratego program is:
>
>             generate_java_0_0
>
>             to_tres_end_0_0
>
> i.e. the main strategy called is generate_java, the last tried strategy is
> to_tres_end, which has been directly called by the former one.
>
>
>
> The next important piece of information is a 3-tuple:
>
>
> (fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
>
> ,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
>
> Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
>
> eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
>
> n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
>
> (variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
>
> []))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
> Comp")
>
>
>
> The first item is the AST of the text-to-be-analyzed, the second is the
> path
> to the file inside the Eclipse project, the third one  is the path of the
> Eclipse project itself. The Java stack trace does not really concern your
> work.
>
>
>
> Hope that helps
>
> Barnab?s
>
>
>
> From: users-bounces at strategoxt.org<mailto:users-bounces at strategoxt.org> [mailto:users-bounces at strategoxt.org<mailto:users-bounces at strategoxt.org>]
> On
> Behalf Of Anderson Almeida
> Sent: Sunday, April 14, 2013 4:23 PM
> To: users at strategoxt.org<mailto:users at strategoxt.org>
> Subject: [Stratego Users] Internal error: with clause failed unexpectedly
> in
> rule 'generate-java'
>
>
>
> Hi,
>
> I am getting started using Spoofax and I am having problems when I'm trying
> to generate code using "generate.str" file.
>
> I don't understand the error log. I wrote rules to handle 'fieldDec' and
> 'Start' productions. It seems to have errors on my rules, but I don't know
> where. Can someone help me?
>
> Full Stacktrace:
>
>
>
> JavaComp: rewriting failed, trace:
>
>           generate_java_0_0
>
>           to_tres_end_0_0
>
> [ JavaComp | critical ] Internal error: with clause failed unexpectedly in
> rule 'generate-java'
>
>
>
> (fieldDec(None,varDeclaration([modifier],type(Int,[]),varDeclarator("var",[]
>
> ,Some(OptVariableInitializer(variableInitializer(LiteralExpression(Character
>
> Literal(Char(aux(97)))))))),[])),[0,2,0,1,4,0],Start(compilUnit(None,[],[typ
>
> eDec(None,classDec([modifier],"Teste",None,None,[fieldDec(None,varDeclaratio
>
> n([modifier],type(Int,[]),varDeclarator("var",[],Some(OptVariableInitializer
>
> (variableInitializer(LiteralExpression(CharacterLiteral(Char(aux(97)))))))),
>
> []))]))])),"test/example.jav","C:/Users/Anderson/Documents/compiladores/Java
> Comp")
>
> org.spoofax.interpreter.core.InterpreterException: Exception during
> evaluation
>
>           at
> org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:117)
>
>           at
> org.spoofax.interpreter.core.Interpreter.invoke(Interpreter.java:82)
>
>           at
> org.strategoxt.HybridInterpreter.invoke(HybridInterpreter.java:424)
>
>           at
>
> org.strategoxt.imp.debug.core.str.launching.DebuggableHybridInterpreter.invo
> ke(DebuggableHybridInterpreter.java:150)
>
>           at
> org.strategoxt.imp.runtime.Environment$2.invoke(Environment.java:193)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
> .java:701)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoObserver.invoke(StrategoObserver
> .java:670)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.invokeObserver(StrategoB
> uilder.java:327)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.execute(StrategoBuilder.
> java:193)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder.access$1(StrategoBuilder
> .java:177)
>
>           at
>
> org.strategoxt.imp.runtime.services.StrategoBuilder$1.run(StrategoBuilder.ja
> va:164)
>
>           at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)
>
> Caused by: org.spoofax.interpreter.core.InterpreterErrorExit: Internal
> error: with clause failed unexpectedly in rule 'generate-java'
>
>           1
>
>           at
> org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:194)
>
>           at
> org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:183)
>
>           at
>
> org.strategoxt.lang.InteropSDefT$StrategyBody.evaluate(InteropSDefT.java:245
> )
>
>           at
> org.strategoxt.lang.InteropSDefT$StrategyBody.eval(InteropSDefT.java:238)
>
>           at
> org.spoofax.interpreter.stratego.Strategy.evaluate(Strategy.java:76)
>
>           at
> org.spoofax.interpreter.core.Interpreter.evaluate(Interpreter.java:109)
>
>           ... 11 more
>
> Caused by: org.strategoxt.lang.StrategoErrorExit: Internal error: with
> clause failed unexpectedly in rule 'generate-java'
>
>           1
>
>           at
>
> org.strategoxt.lang.compat.report_failure_compat_1_0.invoke(report_failure_c
> ompat_1_0.java:53)
>
>           at
>
> org.strategoxt.stratego_lib.report_with_failure_0_2.invoke(report_with_failu
> re_0_2.java)
>
>           at org.strategoxt.lang.Strategy.invokeDynamic(Strategy.java:32)
>
>           at
> org.strategoxt.lang.InteropSDefT.evaluate(InteropSDefT.java:192)
>
>           ... 16 more
>
>
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL:
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/d65e
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/d65e
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130414/d65e
> fd48/attachment.html>
> fd48/attachment.html>
> fd48/attachment.html>
>
> ------------------------------
>
> _______________________________________________
> Users mailing list
> Users at strategoxt.org<mailto:Users at strategoxt.org>
> https://mailman.st.ewi.tudelft.nl/listinfo/users
>
>
> End of Users Digest, Vol 50, Issue 8
> ************************************
>
>
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL:
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/1692
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/1692
> 55fd/attachment.html>
> 55fd/attachment.html>
>
> ------------------------------
>
> _______________________________________________
> Users mailing list
> Users at strategoxt.org<mailto:Users at strategoxt.org>
> https://mailman.st.ewi.tudelft.nl/listinfo/users
>
>
> End of Users Digest, Vol 50, Issue 10
> *************************************
>
>
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL:
> <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/ab13
> 2e66/attachment.html>
>
> ------------------------------
>
> _______________________________________________
> Users mailing list
> Users at strategoxt.org<mailto:Users at strategoxt.org>
> https://mailman.st.ewi.tudelft.nl/listinfo/users
>
>
> End of Users Digest, Vol 50, Issue 12
> *************************************
>
>
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/d55e923d/attachment.html
> >
>
> ------------------------------
>
> _______________________________________________
> Users mailing list
> Users at strategoxt.org<mailto:Users at strategoxt.org>
> https://mailman.st.ewi.tudelft.nl/listinfo/users
>
>
> End of Users Digest, Vol 50, Issue 14
> *************************************
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/150a3957/attachment.html>

------------------------------

_______________________________________________
Users mailing list
Users at strategoxt.org<mailto:Users at strategoxt.org>
https://mailman.st.ewi.tudelft.nl/listinfo/users


End of Users Digest, Vol 50, Issue 15
*************************************


_______________________________________________
Users mailing list
Users at strategoxt.org<mailto:Users at strategoxt.org>
https://mailman.st.ewi.tudelft.nl/listinfo/users

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130415/7674b44a/attachment-0001.html>

From kutsia at risc.jku.at  Tue Apr 16 11:02:57 2013
From: kutsia at risc.jku.at (Temur Kutsia)
Date: Tue, 16 Apr 2013 11:02:57 +0200
Subject: [Stratego Users] 2nd CFP: SCSS 2013
Message-ID: <516D13C1.7060404@risc.jku.at>

[Please post - apologies for multiple copies.]

Second Call for Papers

SCSS 2013
Symbolic Computation in Software Science
5th International Symposium

Castle of Hagenberg, Austria, July 5-6, 2013
Research Institute for Symbolic Computation (RISC)
Johannes Kepler University Linz
http://www.risc.jku.at/conferences/scss2013/

Scope
--------
The purpose of SCSS 2013 is to promote research on theoretical and 
practical
aspects of symbolic computation in software science. The symposium provides
a forum for active dialog between researchers from several fields of 
computer
algebra, algebraic geometry, algorithmic combinatorics, computational 
logic,
and software analysis and verification.

SCSS 2013 solicits both regular and tool papers on all aspects of symbolic
computation and their applications in software science. The topics of the
symposium include, but are not limited to the following:

- automated reasoning
- algorithm (program) synthesis and/or verification
- formal methods for the analysis of network security
- termination analysis and complexity analysis of algorithms (programs)
- extraction of specifications from algorithms (programs)
- theorem proving methods and techniques
- proof carrying code
- generation of inductive assertion for algorithm (programs)
- algorithm (program) transformations
- formalization and computerization of knowledge (maths, medicine, 
economy, etc.)
- component-based programming
- computational origami
- query languages (in particular for XML documents)
- semantic web and cloud computing

Invited Speakers
----------------
Bruno Buchberger (RISC, Johannes Kepler University Linz, Austria)
Joel Ouaknine (Oxford University, UK)

Program Chair
--------------
Laura Kovacs (Vienna University of Technology, Austria and Chalmers 
University of
Technology, Sweden)

Program Committee
------------------

Mar?a Alpuente (Technical University of Valencia, Spain)
Serge Autexier (DFKI, Germany)
Nikolaj Bjorner (Microsoft Research)
Adel Bouhoula (Higher School of Communications of Tunis, Tunisia)
Iliano Cervesato (Carnegie Mellon University ? Qatar Campus)
Horatiu Cirstea (Loria, France)
J?rgen Giesl (RWTH Aachen, Germany)
Tetsuo Ida (University of Tsukuba, Japan)
Paul Jackson (University of Edinburgh, UK)
Tudor Jebelean (RISC, Johannes Kepler University Linz, Austria)
Cezary Kaliszyk (University of Innsbruck, Austria)
Fairouz Kamareddine (Heriot-Watt University, UK)
Temur Kutsia (RISC, Johannes Kepler University Linz, Austria)
Stephan Merz (INRIA Lorraine, France)
Ali Mili (New Jersey Institute of Technology, USA)
Yasuhiko Minamide (University of Tsukuba, Japan)
Pierre-Etienne Moreau (INRIA-LORIA Nancy, France)
Andr? Platzer (Carnegie Mellon University, USA)
Stefan Ratschan (Czech Academy of Sciences)
Rachid Rebiha (University of Lugano, Switzerland and IC Unicamp, Brazil)
Enric Rodr?guez Carbonell (Technical University of Catalonia, Spain)
Sorin Stratulat (University of Lorraine, Metz, France)
Thomas Sturm (Max Planck Institute for Informatics, Germany)

Symposium Chair
---------------
Temur Kutsia (RISC, Johannes Kepler University Linz, Austria)

Important Dates
---------------
April 30, 2013: Abstract submission deadline
May 3, 2013: Paper submission deadline
June 3, 2013: Notification of acceptance
June 17, 2013: Camera-ready copy deadline
July 5-6, 2013: SCSS 2013, Castle of Hagenberg, Austria

Submission
----------
Submission is via EasyChair:

  https://www.easychair.org/conferences/?conf=scss2013.

Submissions are invited in two categories: regular research papers and tool
papers.

- Regular research papers must not exceed 12 pages in the EasyChair 
Class format,
with up to 3 additional pages for technical appendices.
- Tool papers must not exceed 6 pages in the EasyChair Class format.

Publication
----------
The proceedings of SCSS 2013 will be published as a RISC technical report.
After the symposium, authors of accepted papers at SCSS 2013 will be 
invited to
submit an extended version of their paper to the special issue of the
Journal of Symbolic Computation on SCSS. Submitted papers to the JSC 
special
issue will undergo an additional reviewing.

From scott.finnie at gmail.com  Fri Apr 19 17:31:24 2013
From: scott.finnie at gmail.com (Scott Finnie)
Date: Fri, 19 Apr 2013 16:31:24 +0100
Subject: [Stratego Users] SDF/NaBL: a stylistic question
Message-ID: <5171634C.70302@gmail.com>

Hello all

Building a language using Spoofax and have a question on the best way to implement the following.  Any suggestions 
appreciated.

Background
----------
The language supports classes and relationships (think e.g. UML). So for example:

[Class A] ------------- [Class B] --------------- [Class C]

I need to be able to specify navigations across relationships, for example:

  - a.b.c would navigate from a through b to c (instances of A, B, C respectively).

Question
--------
The question is: how best to represent the navigation expression in SDF?  I can see two choices:

  Option 1:
     {ID "."}+         -> NavExpr {"NavExpr"}

   Option 2:
     ID                -> NavExpr {"NavExpr"}
     NavExpr "." ID    -> NavExpr {"NavExpr"}

The former is simpler, both in grammar and resultant parse tree. However: I'm not sure how to construct name resolution 
in NaBL for it.  The second is less simple (syntax + AST), but I can write NaBL expressions as follows:

  NavExpr(x) :
     refers to Class x

  NavExpr(_, x):
     refers to Class x

So: is there a way to construct NaBL for option 1?  If so, is either option better (for some definition of "better"?).

Thanks,
Scott.





From andre.s.d.vieira at gmail.com  Fri Apr 19 19:01:57 2013
From: andre.s.d.vieira at gmail.com (=?utf-8?Q?Andr=C3=A9_Vieira?=)
Date: Fri, 19 Apr 2013 19:01:57 +0200
Subject: [Stratego Users] SDF/NaBL: a stylistic question
In-Reply-To: <5171634C.70302@gmail.com>
References: <5171634C.70302@gmail.com>
Message-ID: <BC09A40A-D14C-4921-9FC1-587E325D38D4@gmail.com>

Not sure this is in any way better, but what about: 

context-free syntax
ID -> NavClass {"NavClass"}
{ NavClass "."}+ -> NavExpr 

NaBL
NavClass(x):
refers to Class x

On 19 apr. 2013, at 17:31, Scott Finnie <scott.finnie at gmail.com> wrote:

> Hello all
> 
> Building a language using Spoofax and have a question on the best way to implement the following.  Any suggestions appreciated.
> 
> Background
> ----------
> The language supports classes and relationships (think e.g. UML). So for example:
> 
> [Class A] ------------- [Class B] --------------- [Class C]
> 
> I need to be able to specify navigations across relationships, for example:
> 
> - a.b.c would navigate from a through b to c (instances of A, B, C respectively).
> 
> Question
> --------
> The question is: how best to represent the navigation expression in SDF?  I can see two choices:
> 
> Option 1:
>    {ID "."}+         -> NavExpr {"NavExpr"}
> 
>  Option 2:
>    ID                -> NavExpr {"NavExpr"}
>    NavExpr "." ID    -> NavExpr {"NavExpr"}
> 
> The former is simpler, both in grammar and resultant parse tree. However: I'm not sure how to construct name resolution in NaBL for it.  The second is less simple (syntax + AST), but I can write NaBL expressions as follows:
> 
> NavExpr(x) :
>    refers to Class x
> 
> NavExpr(_, x):
>    refers to Class x
> 
> So: is there a way to construct NaBL for option 1?  If so, is either option better (for some definition of "better"?).
> 
> Thanks,
> Scott.
> 
> 
> 
> 
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users


From G.H.Wachsmuth at tudelft.nl  Fri Apr 19 20:03:40 2013
From: G.H.Wachsmuth at tudelft.nl (Guido Wachsmuth - EWI)
Date: Fri, 19 Apr 2013 18:03:40 +0000
Subject: [Stratego Users] SDF/NaBL: a stylistic question
In-Reply-To: <5171634C.70302@gmail.com>
References: <5171634C.70302@gmail.com>
Message-ID: <39465ABECE3CBC4EA3A3DDC99D576C423FEBF60F@srv365.tudelft.net>

Hi Scott,

your example is similar to field and method access in Java, right? In this case, b and c do not refer to a class, but to a field in a class. The same, I think, applies to b and c in your example, which are relationship names.

If I am right, your rules should read like this:

	NavExpr(c):
		refers to Class c

	NavExpr(context, rel):
		refers to Relationship rel in Class c
		where context has type ClassType(c)

This should go along with rules for definition sites:

	Class(c, rel*):
		defines Class c of type ClassType(c)
		scopes Relationship

	Rel(rel, target):
		defines Relationship rel of type target

These rules assume that relations are defined inside a class and that target is a class type, represented as ClassType(c). You also need type rules to get this working:

	type-of: NavExpr(c)        -> <lookup-type> c   
	type-of: NavExpr(_, rel) -> <lookup-type> rel

When you define relations outside of classes, you need a type-restricted refers-rule:

	NavExpr(c):
		refers to Class c

	NavExpr(context, rel):
		refers to Relationship rel of type (source-type, _)
		where context has type source-type

 	Class(c, rel*):
		defines Class c of type ClassType(c)
	
	Rel(rel, source, target):
		defines Relationship rel of type (source, target)

Similar things are needed for resolving overloaded methods. However, this is only supported in the next version of NaBL (which we are working on).

Regarding your question if this might be easier represented as a plain list, I don't think a list encodes enough information explicitly. The 1st element is a class reference, remaining elements are relationships. This makes all analyses hard to specify, since you need to distinguish a list which actually starts with a class reference from lists of remaining relationships. With constructors, you can easily distinguish both cases. I think you benefit from this not only in your analysis, but also in all other transformations (e.g. code generation).

-- Guido Wachsmuth


On Apr 19, 2013, at 17:31 , Scott Finnie <scott.finnie at gmail.com> wrote:

> Hello all
> 
> Building a language using Spoofax and have a question on the best way to implement the following.  Any suggestions appreciated.
> 
> Background
> ----------
> The language supports classes and relationships (think e.g. UML). So for example:
> 
> [Class A] ------------- [Class B] --------------- [Class C]
> 
> I need to be able to specify navigations across relationships, for example:
> 
> - a.b.c would navigate from a through b to c (instances of A, B, C respectively).
> 
> Question
> --------
> The question is: how best to represent the navigation expression in SDF?  I can see two choices:
> 
> Option 1:
>    {ID "."}+         -> NavExpr {"NavExpr"}
> 
>  Option 2:
>    ID                -> NavExpr {"NavExpr"}
>    NavExpr "." ID    -> NavExpr {"NavExpr"}
> 
> The former is simpler, both in grammar and resultant parse tree. However: I'm not sure how to construct name resolution in NaBL for it.  The second is less simple (syntax + AST), but I can write NaBL expressions as follows:
> 
> NavExpr(x) :
>    refers to Class x
> 
> NavExpr(_, x):
>    refers to Class x
> 
> So: is there a way to construct NaBL for option 1?  If so, is either option better (for some definition of "better"?).
> 
> Thanks,
> Scott.
> 
> 
> 
> 
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users



From anderson_a_f at hotmail.com  Sun Apr 21 18:34:57 2013
From: anderson_a_f at hotmail.com (Anderson Almeida)
Date: Sun, 21 Apr 2013 13:34:57 -0300
Subject: [Stratego Users] Error running scheduled analysis
	java.lang.StackOverflowError
Message-ID: <CAAzr2JMH7Syryg+sxJS6mqpbWqU3nUYibemfm2Keh0zmmuJFgw@mail.gmail.com>

Hi,
I am trying to see the abstract syntax from a code block. But, when I put
the block in the test archive, this exception is thrown. Can someone help
me?
Test archive:

public class Teste{
    public static void main(String args[]) {
        int diaDaSemana = 1;
        switch (diaDaSemana) {
            case 1:
                System.out.println("Domingo");
                break;
            case 2:
               System.out.println("Segunda-feira");
                break;
            default:
                 System.out.println("Este n?o ? um dia v?lido!");
         }
    }
}

Switch-Case Rules:

"switch" "(" ID ")" SwitchStatementRule* -> SwitchStatement
{cons("SwitchStatement")}
"case" ID ":"  -> SwitchStatementRule {cons("SwitchStatementRule1")}
"default" ":" -> SwitchStatementRule {cons("SwitchStatementRule2")}
 ID -> SwitchStatementRule {cons("SwitchStatementRule3")}

Exception:
Error running scheduled analysis
java.lang.StackOverflowError
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130421/17c0b6df/attachment.html>

From E.Visser at tudelft.nl  Sun Apr 21 19:20:28 2013
From: E.Visser at tudelft.nl (Eelco Visser)
Date: Sun, 21 Apr 2013 19:20:28 +0200
Subject: [Stratego Users] Error running scheduled analysis
	java.lang.StackOverflowError
In-Reply-To: <CAAzr2JMH7Syryg+sxJS6mqpbWqU3nUYibemfm2Keh0zmmuJFgw@mail.gmail.com>
References: <CAAzr2JMH7Syryg+sxJS6mqpbWqU3nUYibemfm2Keh0zmmuJFgw@mail.gmail.com>
Message-ID: <CAFaCHU2fQBs66U2miV3Cnp+93s+_JOBT7XLzMx7bzedA-Py2cw@mail.gmail.com>

Hi Anderson,

I don't see what is causing the stack overflow, but don't you need "{"
and "}" in the production for SwitchStatement?

-- Eelco

On Sun, Apr 21, 2013 at 6:34 PM, Anderson Almeida
<anderson_a_f at hotmail.com> wrote:
> Hi,
> I am trying to see the abstract syntax from a code block. But, when I put
> the block in the test archive, this exception is thrown. Can someone help
> me?
> Test archive:
>
> public class Teste{
>     public static void main(String args[]) {
>         int diaDaSemana = 1;
>         switch (diaDaSemana) {
>             case 1:
>                 System.out.println("Domingo");
>                 break;
>             case 2:
>                System.out.println("Segunda-feira");
>                 break;
>             default:
>                  System.out.println("Este n?o ? um dia v?lido!");
>          }
>     }
> }
>
> Switch-Case Rules:
>
> "switch" "(" ID ")" SwitchStatementRule* -> SwitchStatement
> {cons("SwitchStatement")}
> "case" ID ":"  -> SwitchStatementRule {cons("SwitchStatementRule1")}
> "default" ":" -> SwitchStatementRule {cons("SwitchStatementRule2")}
>  ID -> SwitchStatementRule {cons("SwitchStatementRule3")}
>
> Exception:
> Error running scheduled analysis
> java.lang.StackOverflowError
>
>
>
>
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users
>



-- 

Eelco Visser
Associate Professor at Delft University of Technology

Group:          Software Language Design and Engineering
Email:          e.visser at tudelft.nl
Homepage:   http://eelcovisser.org
Publications: http://researchr.org/profile/eelcovisser
News:           http://twitter.com/eelcovisser


From larissanadja at gmail.com  Sun Apr 21 20:54:56 2013
From: larissanadja at gmail.com (Larissa Braz)
Date: Sun, 21 Apr 2013 15:54:56 -0300
Subject: [Stratego Users] Constructor not declared
Message-ID: <CAJVE9AbscMC4KMjyRbYrgWFNXx6exPdtE=H1Ot_AXdXSfGYiHQ@mail.gmail.com>

Hi,

I'm having some problems about constructors not declared in the
generetor.str file. For example, I have declared the rule in the syntax
file (Comp.sdf):

IntegerLiteral -> LiteralExpression {cons("IntegerLiteral")}


And I'm trying to use like this:

   to-tres-end:
    IntegerLiteral(t) ->$[
      LD R0, [<to-assembly>t] ;
  ]

And I'm getting the error "Constructor IntegerLiteral/1 not declared". Some
rules are ok, but others have this same problem. Can anyone help me, please?

-- 
Larissa Braz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130421/0bbf9154/attachment.html>

From G.H.Wachsmuth at tudelft.nl  Sun Apr 21 21:04:24 2013
From: G.H.Wachsmuth at tudelft.nl (Guido Wachsmuth - EWI)
Date: Sun, 21 Apr 2013 19:04:24 +0000
Subject: [Stratego Users] Constructor not declared
In-Reply-To: <CAJVE9AbscMC4KMjyRbYrgWFNXx6exPdtE=H1Ot_AXdXSfGYiHQ@mail.gmail.com>
References: <CAJVE9AbscMC4KMjyRbYrgWFNXx6exPdtE=H1Ot_AXdXSfGYiHQ@mail.gmail.com>
Message-ID: <39465ABECE3CBC4EA3A3DDC99D576C423FEC57FA@srv365.tudelft.net>

Hi Larissa,

this is typically caused by a missing link between your start symbol and the sort for which you declare the constructor.

If you are running Spoofax, have a look on the generated signature in include/YourLanguage.str and see which constructors are missing. A typical source for this error are syntax rules without constructors. In Spoofax, you should get a warning on such rules.

-- Guido Wachsmuth

On Apr 21, 2013, at 20:54 , Larissa Braz <larissanadja at gmail.com<mailto:larissanadja at gmail.com>> wrote:

Hi,

I'm having some problems about constructors not declared in the generetor.str file. For example, I have declared the rule in the syntax file (Comp.sdf):
IntegerLiteral -> LiteralExpression {cons("IntegerLiteral")}

And I'm trying to use like this:
   to-tres-end:
    IntegerLiteral(t) ->$[
      LD R0, [<to-assembly>t] ;
  ]

And I'm getting the error "Constructor IntegerLiteral/1 not declared". Some rules are ok, but others have this same problem. Can anyone help me, please?

--
Larissa Braz
_______________________________________________
Users mailing list
Users at strategoxt.org<mailto:Users at strategoxt.org>
https://mailman.st.ewi.tudelft.nl/listinfo/users

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130421/f29fad6a/attachment.html>

From larissanadja at gmail.com  Sun Apr 21 21:14:52 2013
From: larissanadja at gmail.com (Larissa Braz)
Date: Sun, 21 Apr 2013 16:14:52 -0300
Subject: [Stratego Users] Constructor not declared
In-Reply-To: <39465ABECE3CBC4EA3A3DDC99D576C423FEC57FA@srv365.tudelft.net>
References: <CAJVE9AbscMC4KMjyRbYrgWFNXx6exPdtE=H1Ot_AXdXSfGYiHQ@mail.gmail.com>
	<39465ABECE3CBC4EA3A3DDC99D576C423FEC57FA@srv365.tudelft.net>
Message-ID: <CAJVE9AYTFudDJosn+4E9-9weeXwqQ4-a_iHnfPNB03=F93+0SQ@mail.gmail.com>

Hi Guido,

 Thanks for your help!

2013/4/21 Guido Wachsmuth - EWI <G.H.Wachsmuth at tudelft.nl>

>  Hi Larissa,
>
>  this is typically caused by a missing link between your start symbol and
> the sort for which you declare the constructor.
>
>  If you are running Spoofax, have a look on the generated signature in
> include/YourLanguage.str and see which constructors are missing. A typical
> source for this error are syntax rules without constructors. In Spoofax,
> you should get a warning on such rules.
>
>  -- Guido Wachsmuth
>
>  On Apr 21, 2013, at 20:54 , Larissa Braz <larissanadja at gmail.com> wrote:
>
> Hi,
>
>  I'm having some problems about constructors not declared in the
> generetor.str file. For example, I have declared the rule in the syntax
> file (Comp.sdf):
>
> IntegerLiteral -> LiteralExpression {cons("IntegerLiteral")}
>
>
>  And I'm trying to use like this:
>
>    to-tres-end:
>      IntegerLiteral(t) ->$[
>        LD R0, [<to-assembly>t] ;
>   ]
>
>  And I'm getting the error "Constructor IntegerLiteral/1 not declared".
> Some rules are ok, but others have this same problem. Can anyone help me,
> please?
>
>  --
> Larissa Braz
>  _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users
>
>
>
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users
>
>


-- 
Larissa Braz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130421/59287851/attachment-0001.html>

From anderson_a_f at hotmail.com  Sun Apr 21 21:34:57 2013
From: anderson_a_f at hotmail.com (Anderson Almeida)
Date: Sun, 21 Apr 2013 16:34:57 -0300
Subject: [Stratego Users] Error running scheduled analysis:
	java.lang.StackOverflowError
Message-ID: <CAAzr2JMLuOLxdxwKrCUUVUi-RZiaWmPwUvwP8OUt4duo5R+3aQ@mail.gmail.com>

Thanks, Eelco!
For now, this solved the problem.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130421/fc24fb62/attachment.html>

From anderson_a_f at hotmail.com  Sun Apr 21 22:25:58 2013
From: anderson_a_f at hotmail.com (Anderson Almeida)
Date: Sun, 21 Apr 2013 17:25:58 -0300
Subject: [Stratego Users] Troubles with ambiguities
Message-ID: <CAAzr2JN-Wiehb_Q-GszVQyV38eD945k7RY01CEsinqLkHRw9rQ@mail.gmail.com>

Hi,
I'm trying to solve ambiguities on Spoofax, but without any success.
I have these rules:

[1-9] DecimalDigitsAux* L? -> IntegerLiteral {cons("Int")}
 [0-9] -> DecimalDigitsAux {cons("aux")}

 DecimalDigits PONTO DecimalDigits? ExpoentPart? FloatTypeSuffix? ->
FloatLiteral
{cons("Float")}
 DecimalDigitsAux DecimalDigitsAux* -> DecimalDigits {cons("decimalDigits")}

Every time I have a declaration like: 'int a = 12;', Spoofax shows that
there is an ambiguity ("Fragment is ambiguous: either IntegerLiteral or
FloatLiteral")
I created these priorities, but nothing changed:

context-free priorities

 IntegerLiteral -> LiteralExpression

> FloatLiteral -> LiteralExpression

(I've already tried other priorities, like: DecimalDigitsAux ->
IntegerLiteral
> DecimalDigitsAux-> FloatLiteral)

Does anyone know what's wrong with my priorities?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130421/e9562cad/attachment.html>

From G.H.Wachsmuth at tudelft.nl  Sun Apr 21 22:40:59 2013
From: G.H.Wachsmuth at tudelft.nl (Guido Wachsmuth - EWI)
Date: Sun, 21 Apr 2013 20:40:59 +0000
Subject: [Stratego Users] Troubles with ambiguities
In-Reply-To: <CAAzr2JN-Wiehb_Q-GszVQyV38eD945k7RY01CEsinqLkHRw9rQ@mail.gmail.com>
References: <CAAzr2JN-Wiehb_Q-GszVQyV38eD945k7RY01CEsinqLkHRw9rQ@mail.gmail.com>
Message-ID: <39465ABECE3CBC4EA3A3DDC99D576C423FEC5CF3@srv365.tudelft.net>

Hi,

there are two issues with your grammar. First, you can specify lexical syntax in its own section:

lexical syntax

?

context-free syntax

?

The structure of lexical sorts is not reflected in the AST, why you do not need to specify constructors there. This is typically what you want for most languages.

The second issue is causing your problem. Context-free priorities such as

context-free priorities

E "*" E -> E >
E "+" E -> E

read as follows: Additions (2nd rule) cannot be direct children of multiplications (1st rule). In your case, this does not help, because the second rule is never used to parse a child of the first rule.

You can solve your issue in three ways:

1) Annotate the preferred rule with {prefer}
2) Annotate the other rule with {avoid}
3) Add a rule IntegerLiteral -> FloatLiteral {reject}. This excludes all integer literals from float literals.

-- Guido Wachsmuth

On Apr 21, 2013, at 22:25 , Anderson Almeida <anderson_a_f at hotmail.com<mailto:anderson_a_f at hotmail.com>>
 wrote:

Hi,
I'm trying to solve ambiguities on Spoofax, but without any success.
I have these rules:

[1-9] DecimalDigitsAux* L? -> IntegerLiteral {cons("Int")}
[0-9] -> DecimalDigitsAux {cons("aux")}

DecimalDigits PONTO DecimalDigits? ExpoentPart? FloatTypeSuffix? -> FloatLiteral {cons("Float")}
DecimalDigitsAux DecimalDigitsAux* -> DecimalDigits {cons("decimalDigits")}

Every time I have a declaration like: 'int a = 12;', Spoofax shows that there is an ambiguity ("Fragment is ambiguous: either IntegerLiteral or FloatLiteral")
I created these priorities, but nothing changed:

context-free priorities

 IntegerLiteral -> LiteralExpression

> FloatLiteral -> LiteralExpression

(I've already tried other priorities, like: DecimalDigitsAux -> IntegerLiteral

> DecimalDigitsAux-> FloatLiteral)

Does anyone know what's wrong with my priorities?
_______________________________________________
Users mailing list
Users at strategoxt.org<mailto:Users at strategoxt.org>
https://mailman.st.ewi.tudelft.nl/listinfo/users

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130421/19f87c1c/attachment.html>

From scott.finnie at gmail.com  Mon Apr 22 08:29:53 2013
From: scott.finnie at gmail.com (Scott Finnie)
Date: Mon, 22 Apr 2013 07:29:53 +0100
Subject: [Stratego Users] SDF/NaBL: a stylistic question
In-Reply-To: <BC09A40A-D14C-4921-9FC1-587E325D38D4@gmail.com>
References: <5171634C.70302@gmail.com>
	<BC09A40A-D14C-4921-9FC1-587E325D38D4@gmail.com>
Message-ID: <5174D8E1.4030200@gmail.com>

Thanks Andr?.  Simple and would solve the initial problem.

  - S.

On 19/04/13 18:01, Andr? Vieira wrote:
> Not sure this is in any way better, but what about:
>
> context-free syntax
> ID -> NavClass {"NavClass"}
> { NavClass "."}+ -> NavExpr
>
> NaBL
> NavClass(x):
> refers to Class x
>
> On 19 apr. 2013, at 17:31, Scott Finnie <scott.finnie at gmail.com> wrote:
>
>> Hello all
>>
>> Building a language using Spoofax and have a question on the best way to implement the following.  Any suggestions appreciated.
>>
>> Background
>> ----------
>> The language supports classes and relationships (think e.g. UML). So for example:
>>
>> [Class A] ------------- [Class B] --------------- [Class C]
>>
>> I need to be able to specify navigations across relationships, for example:
>>
>> - a.b.c would navigate from a through b to c (instances of A, B, C respectively).
>>
>> Question
>> --------
>> The question is: how best to represent the navigation expression in SDF?  I can see two choices:
>>
>> Option 1:
>>     {ID "."}+         -> NavExpr {"NavExpr"}
>>
>>   Option 2:
>>     ID                -> NavExpr {"NavExpr"}
>>     NavExpr "." ID    -> NavExpr {"NavExpr"}
>>
>> The former is simpler, both in grammar and resultant parse tree. However: I'm not sure how to construct name resolution in NaBL for it.  The second is less simple (syntax + AST), but I can write NaBL expressions as follows:
>>
>> NavExpr(x) :
>>     refers to Class x
>>
>> NavExpr(_, x):
>>     refers to Class x
>>
>> So: is there a way to construct NaBL for option 1?  If so, is either option better (for some definition of "better"?).
>>
>> Thanks,
>> Scott.
>>
>>
>>
>>
>> _______________________________________________
>> Users mailing list
>> Users at strategoxt.org
>> https://mailman.st.ewi.tudelft.nl/listinfo/users
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users


From scott.finnie at gmail.com  Mon Apr 22 08:42:08 2013
From: scott.finnie at gmail.com (Scott Finnie)
Date: Mon, 22 Apr 2013 07:42:08 +0100
Subject: [Stratego Users] SDF/NaBL: a stylistic question
In-Reply-To: <39465ABECE3CBC4EA3A3DDC99D576C423FEBF60F@srv365.tudelft.net>
References: <5171634C.70302@gmail.com>
	<39465ABECE3CBC4EA3A3DDC99D576C423FEBF60F@srv365.tudelft.net>
Message-ID: <5174DBC0.7010405@gmail.com>

Hi Guido, thanks for the comprehensive response.

> Similar things are needed for resolving overloaded methods. However, this is only supported in the next version of
> NaBL (which we are working on).


Relations are defined outside classes.  However I could use a 
de-sugaring transform to move them inside classes as an interim step.  
Depends how long it'll be before the next version of NaBL :-)

> Regarding your question if this might be easier represented as a plain list, I don't think a list encodes enough
> information explicitly. The 1st element is a class reference, remaining elements are relationships. This makes all
> analyses hard to specify, since you need to distinguish a list which actually starts with a class reference from
> lists of remaining relationships. With constructors, you can easily distinguish both cases. I think you benefit
> from this not only in your analysis, but also in all other transformations (e.g. code generation).

Yes, you're right.  I was thinking initially of simple checks while developing the grammar.  But I would have come across this later.

  - Scott.



On 19/04/13 19:03, Guido Wachsmuth - EWI wrote:
> Hi Scott,
>
> your example is similar to field and method access in Java, right? In this case, b and c do not refer to a class, but to a field in a class. The same, I think, applies to b and c in your example, which are relationship names.
>
> If I am right, your rules should read like this:
>
> 	NavExpr(c):
> 		refers to Class c
>
> 	NavExpr(context, rel):
> 		refers to Relationship rel in Class c
> 		where context has type ClassType(c)
>
> This should go along with rules for definition sites:
>
> 	Class(c, rel*):
> 		defines Class c of type ClassType(c)
> 		scopes Relationship
>
> 	Rel(rel, target):
> 		defines Relationship rel of type target
>
> These rules assume that relations are defined inside a class and that target is a class type, represented as ClassType(c). You also need type rules to get this working:
>
> 	type-of: NavExpr(c)        -> <lookup-type> c
> 	type-of: NavExpr(_, rel) -> <lookup-type> rel
>
> When you define relations outside of classes, you need a type-restricted refers-rule:
>
> 	NavExpr(c):
> 		refers to Class c
>
> 	NavExpr(context, rel):
> 		refers to Relationship rel of type (source-type, _)
> 		where context has type source-type
>
>   	Class(c, rel*):
> 		defines Class c of type ClassType(c)
> 	
> 	Rel(rel, source, target):
> 		defines Relationship rel of type (source, target)
>
> Similar things are needed for resolving overloaded methods. However, this is only supported in the next version of NaBL (which we are working on).
>
> Regarding your question if this might be easier represented as a plain list, I don't think a list encodes enough information explicitly. The 1st element is a class reference, remaining elements are relationships. This makes all analyses hard to specify, since you need to distinguish a list which actually starts with a class reference from lists of remaining relationships. With constructors, you can easily distinguish both cases. I think you benefit from this not only in your analysis, but also in all other transformations (e.g. code generation).
>
> -- Guido Wachsmuth
>
>
> On Apr 19, 2013, at 17:31 , Scott Finnie <scott.finnie at gmail.com> wrote:
>
>> Hello all
>>
>> Building a language using Spoofax and have a question on the best way to implement the following.  Any suggestions appreciated.
>>
>> Background
>> ----------
>> The language supports classes and relationships (think e.g. UML). So for example:
>>
>> [Class A] ------------- [Class B] --------------- [Class C]
>>
>> I need to be able to specify navigations across relationships, for example:
>>
>> - a.b.c would navigate from a through b to c (instances of A, B, C respectively).
>>
>> Question
>> --------
>> The question is: how best to represent the navigation expression in SDF?  I can see two choices:
>>
>> Option 1:
>>     {ID "."}+         -> NavExpr {"NavExpr"}
>>
>>   Option 2:
>>     ID                -> NavExpr {"NavExpr"}
>>     NavExpr "." ID    -> NavExpr {"NavExpr"}
>>
>> The former is simpler, both in grammar and resultant parse tree. However: I'm not sure how to construct name resolution in NaBL for it.  The second is less simple (syntax + AST), but I can write NaBL expressions as follows:
>>
>> NavExpr(x) :
>>     refers to Class x
>>
>> NavExpr(_, x):
>>     refers to Class x
>>
>> So: is there a way to construct NaBL for option 1?  If so, is either option better (for some definition of "better"?).
>>
>> Thanks,
>> Scott.
>>
>>
>>
>>
>> _______________________________________________
>> Users mailing list
>> Users at strategoxt.org
>> https://mailman.st.ewi.tudelft.nl/listinfo/users
>
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users


From anderson_a_f at hotmail.com  Tue Apr 23 13:55:14 2013
From: anderson_a_f at hotmail.com (Anderson Almeida)
Date: Tue, 23 Apr 2013 08:55:14 -0300
Subject: [Stratego Users] StackOverflow
Message-ID: <CAAzr2JNAXaNfvyX6CNwXgfSkhu9UaxfQH9QbEeRaqOddgDB3qg@mail.gmail.com>

I'm having a trouble when I'm trying to test my syntatic analysis.
In some cases I'm getting this message:
An internal error occurred during: "JavaComp ParserScheduler for
example.jav".
java.lang.StackOverflowError
These are the rules:

                "switch" "(" Expression ")" SwitchBlock -> SwitchStatement
{cons("Switch")}

                "{" SwitchGroup* SwitchLabel* "}" -> SwitchBlock
{cons("SwitchBlock")}

                SwitchLabel+ Statement+ -> SwitchGroup
{cons("SwitchGroup")}

                "case" Expression DOISPONTOS -> SwitchLabel {cons("Case")}

                "default"   DOISPONTOS -> SwitchLabel {cons("Default")}


                 NumericExpression        ->           Expression
{cons("NumericExpression")}

                TestingExpression          ->           Expression
{cons("TestingExpression")}

                LogicalExpression            ->           Expression
{cons("LogicalExpression")}

                StringExpression             ->           Expression
{cons("StringExpression")}

                BitExpression    ->           Expression
{cons("BitExpression")}

                CastingExpression          ->           Expression
{cons("CastingExpression")}

                CreatingExpression        ->           Expression
{cons("CreatingExpressionexp")}

                LiteralExpression             ->           Expression
{cons("LiteralExpression")}

                "null"    ->           Expression {cons("NullExpression")}

                "super"                ->           Expression
{cons("SuperExpression")}

                "this"    ->           Expression {cons("ThisExpression")}

                ID           ->           Expression {cons("IDExpression")}

                "(" Expression ")"            ->           Expression
{cons("BracketExpression")}

                Expression "(" ArgList? ")"          -> Expression
{cons("ArgListExpression")}

                Expression "[" Expression "]"    ->           Expression
{cons("BraceExpression")}

                Expression PONTO Expression  ->           Expression
{cons("PontoExpression")}

                Expression VIRGULA Expression              ->
Expression {cons("VirgulaExpression")}

                Expression "instanceof" ClassName       ->
Expression {cons("InstanceClassExpression")}

                Expression "instanceof" InterfaceName
->           Expression {cons("InstanceInterfaceExpression")}


VariableDeclaration       ->           Statement {cons("stm")}

                Expression PONTOVIRGULA      ->           Statement
{cons("stm")}

                StatementBlock               ->           Statement
{cons("stm")}

                IfStatement       ->           Statement {cons("stm")}

                DoStatement    ->           Statement {cons("stm")}

                WhileStatement              ->           Statement
{cons("stm")}

                ForStatement   ->           Statement {cons("stm")}

                TryStatement   ->           Statement {cons("stm")}

                SwitchStatement            ->           Statement
{cons("stm")}

                "synchronized" "(" Expression ")" Statement    ->
Statement {cons("stm")}

                "return" StatementAux? PONTOVIRGULA         ->
Statement {cons("stm")}

                Expression         ->           StatementAux
{cons("stmAux")}

                "throw" Expression PONTOVIRGULA    ->           Statement
{cons("stm")}

                ID ":" Statement              ->           Statement
{cons("stm")}

                "break" StatementAux2? PONTOVIRGULA        ->
Statement {cons("stm")}

                ID           ->           StatementAux2 {cons("stmAux2")}

                "continue" StatementAux2 PONTOVIRGULA    ->
Statement {cons("stm")}

                PONTOVIRGULA             ->           Statement
{cons("stm")}
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130423/2e38182c/attachment.html>

From G.H.Wachsmuth at tudelft.nl  Tue Apr 23 14:09:00 2013
From: G.H.Wachsmuth at tudelft.nl (Guido Wachsmuth - EWI)
Date: Tue, 23 Apr 2013 12:09:00 +0000
Subject: [Stratego Users] StackOverflow
In-Reply-To: <CAAzr2JNAXaNfvyX6CNwXgfSkhu9UaxfQH9QbEeRaqOddgDB3qg@mail.gmail.com>
References: <CAAzr2JNAXaNfvyX6CNwXgfSkhu9UaxfQH9QbEeRaqOddgDB3qg@mail.gmail.com>
Message-ID: <39465ABECE3CBC4EA3A3DDC99D576C423FECA5E4@srv365.tudelft.net>

Hi Anderson,

a few questions:

1) This happens in a Spoofax editor or in a test case?
2) Have you updated eclipse.ini accordingly?
3) Do you have any disambiguation rules?
4) Can you provide an example where this error happens?

-- Guido Wachsmuth

On Apr 23, 2013, at 13:55 , Anderson Almeida <anderson_a_f at hotmail.com<mailto:anderson_a_f at hotmail.com>>
 wrote:

I'm having a trouble when I'm trying to test my syntatic analysis.
In some cases I'm getting this message:
An internal error occurred during: "JavaComp ParserScheduler for example.jav".
java.lang.StackOverflowError
These are the rules:


                "switch" "(" Expression ")" SwitchBlock -> SwitchStatement {cons("Switch")}

                "{" SwitchGroup* SwitchLabel* "}" -> SwitchBlock {cons("SwitchBlock")}

                SwitchLabel+ Statement+ -> SwitchGroup  {cons("SwitchGroup")}

                "case" Expression DOISPONTOS -> SwitchLabel {cons("Case")}

                "default"   DOISPONTOS -> SwitchLabel {cons("Default")}


                 NumericExpression        ->           Expression {cons("NumericExpression")}

                TestingExpression          ->           Expression {cons("TestingExpression")}

                LogicalExpression            ->           Expression {cons("LogicalExpression")}

                StringExpression             ->           Expression {cons("StringExpression")}

                BitExpression    ->           Expression {cons("BitExpression")}

                CastingExpression          ->           Expression {cons("CastingExpression")}

                CreatingExpression        ->           Expression {cons("CreatingExpressionexp")}

                LiteralExpression             ->           Expression {cons("LiteralExpression")}

                "null"    ->           Expression {cons("NullExpression")}

                "super"                ->           Expression {cons("SuperExpression")}

                "this"    ->           Expression {cons("ThisExpression")}

                ID           ->           Expression {cons("IDExpression")}

                "(" Expression ")"            ->           Expression {cons("BracketExpression")}

                Expression "(" ArgList? ")"          -> Expression {cons("ArgListExpression")}

                Expression "[" Expression "]"    ->           Expression {cons("BraceExpression")}

                Expression PONTO Expression  ->           Expression {cons("PontoExpression")}

                Expression VIRGULA Expression              ->           Expression {cons("VirgulaExpression")}

                Expression "instanceof" ClassName       ->           Expression {cons("InstanceClassExpression")}

                Expression "instanceof" InterfaceName              ->           Expression {cons("InstanceInterfaceExpression")}



VariableDeclaration       ->           Statement {cons("stm")}

                Expression PONTOVIRGULA      ->           Statement {cons("stm")}

                StatementBlock               ->           Statement {cons("stm")}

                IfStatement       ->           Statement {cons("stm")}

                DoStatement    ->           Statement {cons("stm")}

                WhileStatement              ->           Statement {cons("stm")}

                ForStatement   ->           Statement {cons("stm")}

                TryStatement   ->           Statement {cons("stm")}

                SwitchStatement            ->           Statement {cons("stm")}

                "synchronized" "(" Expression ")" Statement    ->           Statement {cons("stm")}

                "return" StatementAux? PONTOVIRGULA         ->           Statement {cons("stm")}

                Expression         ->           StatementAux {cons("stmAux")}

                "throw" Expression PONTOVIRGULA    ->           Statement {cons("stm")}

                ID ":" Statement              ->           Statement {cons("stm")}

                "break" StatementAux2? PONTOVIRGULA        ->           Statement {cons("stm")}

                ID           ->           StatementAux2 {cons("stmAux2")}

                "continue" StatementAux2 PONTOVIRGULA    ->           Statement {cons("stm")}

                PONTOVIRGULA             ->           Statement {cons("stm")}

_______________________________________________
Users mailing list
Users at strategoxt.org<mailto:Users at strategoxt.org>
https://mailman.st.ewi.tudelft.nl/listinfo/users

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130423/edda79f8/attachment-0001.html>

From anderson_a_f at hotmail.com  Tue Apr 23 16:58:28 2013
From: anderson_a_f at hotmail.com (Anderson Almeida)
Date: Tue, 23 Apr 2013 11:58:28 -0300
Subject: [Stratego Users] Stack Overflow
Message-ID: <CAAzr2JNcaE_Qxr49Hx20oxKuM9-24eEgEfHHCdyaGGBKGJBuJQ@mail.gmail.com>

Hi Guido,
1) This happens in a Spoofax editor or in a test case?
In a Test Case

2) Have you updated eclipse.ini accordingly?
Yes.

3) Do you have any disambiguation rules?
No. Not in Expression or Statement rules.

4) Can you provide an example where this error happens?
It happens when i put a switch-case on a test case. Example:
switch(variable){
case 1:
System.out.println("aaa");
case 2:
....(and so on)



2013/4/23 <users-request at strategoxt.org>

> Send Users mailing list submissions to
>         users at strategoxt.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         https://mailman.st.ewi.tudelft.nl/listinfo/users
> or, via email, send a message with subject or body 'help' to
>         users-request at strategoxt.org
>
> You can reach the person managing the list at
>         users-owner at strategoxt.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Users digest..."
>
>
> Today's Topics:
>
>    1. StackOverflow (Anderson Almeida)
>    2. Re: StackOverflow (Guido Wachsmuth - EWI)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Tue, 23 Apr 2013 08:55:14 -0300
> From: Anderson Almeida <anderson_a_f at hotmail.com>
> To: users at strategoxt.org
> Subject: [Stratego Users] StackOverflow
> Message-ID:
>         <
> CAAzr2JNAXaNfvyX6CNwXgfSkhu9UaxfQH9QbEeRaqOddgDB3qg at mail.gmail.com>
> Content-Type: text/plain; charset="iso-8859-1"
>
> I'm having a trouble when I'm trying to test my syntatic analysis.
> In some cases I'm getting this message:
> An internal error occurred during: "JavaComp ParserScheduler for
> example.jav".
> java.lang.StackOverflowError
> These are the rules:
>
>                 "switch" "(" Expression ")" SwitchBlock -> SwitchStatement
> {cons("Switch")}
>
>                 "{" SwitchGroup* SwitchLabel* "}" -> SwitchBlock
> {cons("SwitchBlock")}
>
>                 SwitchLabel+ Statement+ -> SwitchGroup
> {cons("SwitchGroup")}
>
>                 "case" Expression DOISPONTOS -> SwitchLabel {cons("Case")}
>
>                 "default"   DOISPONTOS -> SwitchLabel {cons("Default")}
>
>
>                  NumericExpression        ->           Expression
> {cons("NumericExpression")}
>
>                 TestingExpression          ->           Expression
> {cons("TestingExpression")}
>
>                 LogicalExpression            ->           Expression
> {cons("LogicalExpression")}
>
>                 StringExpression             ->           Expression
> {cons("StringExpression")}
>
>                 BitExpression    ->           Expression
> {cons("BitExpression")}
>
>                 CastingExpression          ->           Expression
> {cons("CastingExpression")}
>
>                 CreatingExpression        ->           Expression
> {cons("CreatingExpressionexp")}
>
>                 LiteralExpression             ->           Expression
> {cons("LiteralExpression")}
>
>                 "null"    ->           Expression {cons("NullExpression")}
>
>                 "super"                ->           Expression
> {cons("SuperExpression")}
>
>                 "this"    ->           Expression {cons("ThisExpression")}
>
>                 ID           ->           Expression {cons("IDExpression")}
>
>                 "(" Expression ")"            ->           Expression
> {cons("BracketExpression")}
>
>                 Expression "(" ArgList? ")"          -> Expression
> {cons("ArgListExpression")}
>
>                 Expression "[" Expression "]"    ->           Expression
> {cons("BraceExpression")}
>
>                 Expression PONTO Expression  ->           Expression
> {cons("PontoExpression")}
>
>                 Expression VIRGULA Expression              ->
> Expression {cons("VirgulaExpression")}
>
>                 Expression "instanceof" ClassName       ->
> Expression {cons("InstanceClassExpression")}
>
>                 Expression "instanceof" InterfaceName
> ->           Expression {cons("InstanceInterfaceExpression")}
>
>
> VariableDeclaration       ->           Statement {cons("stm")}
>
>                 Expression PONTOVIRGULA      ->           Statement
> {cons("stm")}
>
>                 StatementBlock               ->           Statement
> {cons("stm")}
>
>                 IfStatement       ->           Statement {cons("stm")}
>
>                 DoStatement    ->           Statement {cons("stm")}
>
>                 WhileStatement              ->           Statement
> {cons("stm")}
>
>                 ForStatement   ->           Statement {cons("stm")}
>
>                 TryStatement   ->           Statement {cons("stm")}
>
>                 SwitchStatement            ->           Statement
> {cons("stm")}
>
>                 "synchronized" "(" Expression ")" Statement    ->
> Statement {cons("stm")}
>
>                 "return" StatementAux? PONTOVIRGULA         ->
> Statement {cons("stm")}
>
>                 Expression         ->           StatementAux
> {cons("stmAux")}
>
>                 "throw" Expression PONTOVIRGULA    ->           Statement
> {cons("stm")}
>
>                 ID ":" Statement              ->           Statement
> {cons("stm")}
>
>                 "break" StatementAux2? PONTOVIRGULA        ->
> Statement {cons("stm")}
>
>                 ID           ->           StatementAux2 {cons("stmAux2")}
>
>                 "continue" StatementAux2 PONTOVIRGULA    ->
> Statement {cons("stm")}
>
>                 PONTOVIRGULA             ->           Statement
> {cons("stm")}
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130423/2e38182c/attachment-0001.html
> >
>
> ------------------------------
>
> Message: 2
> Date: Tue, 23 Apr 2013 12:09:00 +0000
> From: Guido Wachsmuth - EWI <G.H.Wachsmuth at tudelft.nl>
> To: Stratego/XT Users <users at strategoxt.org>
> Subject: Re: [Stratego Users] StackOverflow
> Message-ID:
>         <39465ABECE3CBC4EA3A3DDC99D576C423FECA5E4 at srv365.tudelft.net>
> Content-Type: text/plain; charset="iso-8859-1"
>
> Hi Anderson,
>
> a few questions:
>
> 1) This happens in a Spoofax editor or in a test case?
> 2) Have you updated eclipse.ini accordingly?
> 3) Do you have any disambiguation rules?
> 4) Can you provide an example where this error happens?
>
> -- Guido Wachsmuth
>
> On Apr 23, 2013, at 13:55 , Anderson Almeida <anderson_a_f at hotmail.com
> <mailto:anderson_a_f at hotmail.com>>
>  wrote:
>
> I'm having a trouble when I'm trying to test my syntatic analysis.
> In some cases I'm getting this message:
> An internal error occurred during: "JavaComp ParserScheduler for
> example.jav".
> java.lang.StackOverflowError
> These are the rules:
>
>
>                 "switch" "(" Expression ")" SwitchBlock -> SwitchStatement
> {cons("Switch")}
>
>                 "{" SwitchGroup* SwitchLabel* "}" -> SwitchBlock
> {cons("SwitchBlock")}
>
>                 SwitchLabel+ Statement+ -> SwitchGroup
>  {cons("SwitchGroup")}
>
>                 "case" Expression DOISPONTOS -> SwitchLabel {cons("Case")}
>
>                 "default"   DOISPONTOS -> SwitchLabel {cons("Default")}
>
>
>                  NumericExpression        ->           Expression
> {cons("NumericExpression")}
>
>                 TestingExpression          ->           Expression
> {cons("TestingExpression")}
>
>                 LogicalExpression            ->           Expression
> {cons("LogicalExpression")}
>
>                 StringExpression             ->           Expression
> {cons("StringExpression")}
>
>                 BitExpression    ->           Expression
> {cons("BitExpression")}
>
>                 CastingExpression          ->           Expression
> {cons("CastingExpression")}
>
>                 CreatingExpression        ->           Expression
> {cons("CreatingExpressionexp")}
>
>                 LiteralExpression             ->           Expression
> {cons("LiteralExpression")}
>
>                 "null"    ->           Expression {cons("NullExpression")}
>
>                 "super"                ->           Expression
> {cons("SuperExpression")}
>
>                 "this"    ->           Expression {cons("ThisExpression")}
>
>                 ID           ->           Expression {cons("IDExpression")}
>
>                 "(" Expression ")"            ->           Expression
> {cons("BracketExpression")}
>
>                 Expression "(" ArgList? ")"          -> Expression
> {cons("ArgListExpression")}
>
>                 Expression "[" Expression "]"    ->           Expression
> {cons("BraceExpression")}
>
>                 Expression PONTO Expression  ->           Expression
> {cons("PontoExpression")}
>
>                 Expression VIRGULA Expression              ->
> Expression {cons("VirgulaExpression")}
>
>                 Expression "instanceof" ClassName       ->
> Expression {cons("InstanceClassExpression")}
>
>                 Expression "instanceof" InterfaceName              ->
>       Expression {cons("InstanceInterfaceExpression")}
>
>
>
> VariableDeclaration       ->           Statement {cons("stm")}
>
>                 Expression PONTOVIRGULA      ->           Statement
> {cons("stm")}
>
>                 StatementBlock               ->           Statement
> {cons("stm")}
>
>                 IfStatement       ->           Statement {cons("stm")}
>
>                 DoStatement    ->           Statement {cons("stm")}
>
>                 WhileStatement              ->           Statement
> {cons("stm")}
>
>                 ForStatement   ->           Statement {cons("stm")}
>
>                 TryStatement   ->           Statement {cons("stm")}
>
>                 SwitchStatement            ->           Statement
> {cons("stm")}
>
>                 "synchronized" "(" Expression ")" Statement    ->
>   Statement {cons("stm")}
>
>                 "return" StatementAux? PONTOVIRGULA         ->
> Statement {cons("stm")}
>
>                 Expression         ->           StatementAux
> {cons("stmAux")}
>
>                 "throw" Expression PONTOVIRGULA    ->           Statement
> {cons("stm")}
>
>                 ID ":" Statement              ->           Statement
> {cons("stm")}
>
>                 "break" StatementAux2? PONTOVIRGULA        ->
> Statement {cons("stm")}
>
>                 ID           ->           StatementAux2 {cons("stmAux2")}
>
>                 "continue" StatementAux2 PONTOVIRGULA    ->
> Statement {cons("stm")}
>
>                 PONTOVIRGULA             ->           Statement
> {cons("stm")}
>
> _______________________________________________
> Users mailing list
> Users at strategoxt.org<mailto:Users at strategoxt.org>
> https://mailman.st.ewi.tudelft.nl/listinfo/users
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130423/edda79f8/attachment.html
> >
>
> ------------------------------
>
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users
>
>
> End of Users Digest, Vol 50, Issue 23
> *************************************
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130423/10d732a8/attachment-0001.html>

From kralikba at msn.com  Fri Apr 26 11:53:32 2013
From: kralikba at msn.com (=?iso-8859-2?Q?Kr=E1lik_Barnab=E1s?=)
Date: Fri, 26 Apr 2013 11:53:32 +0200
Subject: [Stratego Users] How do congruences work?
Message-ID: <BAY175-DS1679500B1DEF3320FFB509D0B70@phx.gbl>

Hi,

 

I'm having trouble with congruence operations.

 

I have a rule in the form

a : <?A(<e>,<f>) => t> -> <g> t

 

What I intend to write is:

?A(a1,a2);  

!a1; e; ?a1e;

!a2; f; ?a2f;

!A(a1e,a2f);

?t;

!t;

g

 

Based on what I have read in the Stratego manual I would expect that the
rule means:

?A(<e>,<f>); ?t; <g> t

which in turn means exactly the previous snippet.

 

However, it turns out that the actual meaning is:

?A(a1,a2);  

!a1; e; ?a1e;

!a2; f; ?a2f;

!a1e;

?t;

!t;

g

 

How can I write what I originally intended?

 

Thanks

Barnab?s

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://mailman.st.ewi.tudelft.nl/pipermail/users/attachments/20130426/748b30b3/attachment.html>

From invitation at ira.uka.de  Fri Apr 26 15:48:03 2013
From: invitation at ira.uka.de (ASE2013)
Date: Fri, 26 Apr 2013 15:48:03 +0200
Subject: [Stratego Users] ASE 2013: Second call for papers
Message-ID: <517A8593.8050302@ira.uka.de>



                * Abstracts due in 2 weeks (May 10, 2013) *



                            CALL FOR PAPERS

28th IEEE/ACM International Conference on Automated Software Engineering
                               ASE 2013

                         http://ase2013.org

          November 11th - 15th 2013, Silicon Valley, California

* Conference * Tool Demos * Workshops * Tutorials * Doctoral Symposium *



IMPORTANT DATES

Abstract Submission: May 10, 2013
Paper Submission: May 17, 2013
Notification: July 24, 2013

Tool Demonstration Paper Submission: June 6, 2013
Workshop Paper Submission: August 9, 2013
Tutorial Proposal Submission: July 5, 2013
Doctoral Symposium Submission: July 10, 2013


GENERAL THEME

The IEEE/ACM Automated Software Engineering (ASE) Conference series is
the premier research forum for automating software engineering. Each
year, it brings together researchers and practitioners from academia and
industry to discuss foundations, techniques and tools for automating the
analysis, design, implementation, testing, and maintenance of large
software systems.


=== MAIN CONFERENCE PAPERS =============================================
    [http://ase2013.org/calls.html]

ASE 2013 invites high quality contributions describing significant,
original, and unpublished results for submission in three categories:

1. Technical Research Papers should describe innovative research in
automating software development activities or automated support to users
engaged in such activities. They should describe a novel contribution to
the field and should carefully support claims of novelty with citations
to the relevant literature. Where a submission builds upon previous work
of the author(s), the novelty of the new contribution must be clearly
described with respect to the previous work. Papers should also clearly
discuss how the results were validated.

2. Experience Papers should describe a significant experience in
applying automated software engineering technology and should carefully
identify and discuss important lessons learned so that other researchers
and/or practitioners can benefit from the experience. Of special
interest are experience papers that report on industrial applications of
automated software engineering.

3. New Ideas Papers (new category!) should describe novel research
directions in automating software development activities or automated
support to users engaged in such activities. New ideas submissions are
intended to describe well- defined research ideas that are at an early
stage of investigation and may not be fully validated.

SUBMISSION

Please submit your papers using the ASE paper submission site:

http://cyberchairpro.borbala.net/asepapers/submit/

All submissions must come in PDF format and conform, at time of
submission, to the IEEE Formatting Guidelines. For details and
templates, see:

http://www.conference-publishing.com/Instructions.php?Event=ASE13

Technical Research Papers and Experience Papers must not exceed 10 pages
(including figures and appendices) plus up to 1 page that contains ONLY
references. New Idea Papers must not exceed 6 pages (including figures,
appendices AND references). Submissions that do not adhere to these
limits or that violate the formatting guidelines will be desk-rejected
without review. All submissions must be in English.

Papers submitted to ASE 2013 must not have been previously published and
must not be under review for publication elsewhere. All papers that
conform to submission guidelines will be peer-reviewed by members of the
Program Committee and members of the Expert Review Panel. Submissions
will be evaluated on the basis of originality, soundness, importance of
contribution, evaluation, quality of presentation and appropriate
comparison to related work. Note that the Program Committee may
re-assign a submission into a different category than the one it is
submitted to if it decides that it is a better fit for that category.
All accepted papers have to be presented at the conference by one of the
authors and will be published by IEEE.


=== TOOL DEMONSTRATIONS ================================================
    [http://ase2013.org/tools.html]

Automated software engineering consists of automating processes
related to requirements, design, implementation, testing, and
maintenance of software systems. The automated processes facilitate
better productivity and improve the overall quality of software. Tool
development is an integral part of automated software engineering. The
tool demonstrations track provides an opportunity for researchers and
practitioners to present and discuss the most recent advances,
experiences, and challenges in the field of automated software
engineering.

The 28th IEEE International Conference on Automated Software
Engineering solicits high-quality submissions for its tool
demonstrations track. We invite submission on tools that are (a) early
research prototypes or (b) mature tools that have not yet been
commercialized. The submissions should highlight the underlying
scientific contributions, engineering ingenuity, applicability to a
broader software engineering community, and scalability of the
tool. In contrast to a research paper which is intended to provide
details of a novel automated software engineering technique, a tool
demonstration paper should provide an overview of how the technique
has been implemented as a functioning tool. Authors of regular
research papers are thus encouraged to submit an accompanying tool
demonstration paper.

The tool demonstration program committee will review each submission
to assess the relevance and quality of the proposed tool demonstration
in terms of usefulness of the tool, presentation quality, and
appropriate discussion of related tools. Accepted tool demonstrations
will be allocated 4 pages in the conference proceedings. Demonstrators
will be invited to give a presentation of the tool during the
conference. There will also be an area open to attendees at scheduled
times during the conference during which demonstrators can present
live demonstrations. Presentation at the conference is a requirement
for publication.

Prizes will be given for an overall best tool demonstration and a best
student tool demonstration where a student is the first author on the
paper and presents the demonstration. The prizes will be decided based
on the votes of the conference attendees.

SUBMISSION

Submissions of the tool demonstrations consist of:

* A proposal of at most four pages that adheres to the ASE 2013
   proceedings format (IEEE proceedings style). The proposal should
   provide an overview of the tool, how it relates to other industrial
   or research tools, including references, and its potential impact to
   a broader software engineering community.

* A link to a video, not more than 5 minutes long, that demonstrates
   the tool being used. The goal of the video is to provide the
   reviewers a usage overview of the tool that enables them to evaluate
   the tool. A screencast of the tool demo with a voice-over can be
   used for the video.

* Provide a URL from which the tool can be downloaded, with clear
   installation steps. If the tool cannot be made available, the
   authors must clearly state their reasons in the paper. Examples and
   scenarios presented in the paper should be independently replicable.

* Be submitted via the EasyChair system by June 6, 2013:

   http://www.easychair.org/conferences/?conf=ase2013tools

Important Dates

   Paper Submission:          June 06, 2013
   Paper Notification:        August 15, 2013
   Camera Ready Version:      Sept 10, 2013

Contact: asetools2013 at easychair.org


=== WORKSHOPS =========================================================
    [http://ase2013.org/workshops.html]

A workshop co-located with the ASE 2013 conference will provide an
opportunity for exchanging views, advancing ideas, and discussing
preliminary results on topics related to Automated Software Engineering.
Workshops may also serve as platforms to nurture new scientific
communities. Workshops should not be seen as an alternative forum for
presenting full research papers. The workshops co-located with the
conference will be organized before the main conference (Monday,
Tuesday). The organizers will decide the exact day after the workshop
proposals have been reviewed and accepted. A workshop may last one or
two days.

Workshops will be announced at the conference's website.


=== TUTORIALS ==========================================================
    [http://ase2013.org/tutorials.html]

Tutorials may address a wide range of mature topics from theoretical
foundations to practical techniques and tools for automated software
engineering. The tutorials will be organized before the main conference
(Monday, Tuesday). The organizers will decide the exact day after the
proposals have been reviewed and accepted. Tutorials are intended to
provide independent instruction on a relevant theme; therefore, no
commercial or sales-oriented proposals will be accepted.

SUBMISSION

Instructors are invited to submit proposals for half-day or full-day
tutorials and, upon selection, are required to provide tutorial notes or
a survey paper on the topic of presentation in PDF. Proposals for
organizing tutorials should be written in English, limited to 5 pages
(in IEEE format), and submitted in PDF to both tutorials co-chairs, by
email at: ase2013tutorials at easychair.org. Tutorial proposals should
include the following information:

   * Name and affiliation of the proposer/organizer (including postal
     address, phone number, fax number, e-mail address)
   * Name and affiliation of each additional instructor
   * Instructors' experience in the area, including other tutorials,
     courses, etc.
   * Title, objective, abstract, duration
   * Outline with approximate timings
   * Target audience, including indication of level (novice, intermediate,
     expert)
   * Assumed background of attendees
   * Brief biography of each instructor (for publicity materials)
   * Indication of whether a survey paper will be provided
      (max. 30 IEEE-formatted pages)
   * History of the tutorial (if it has been already presented; provide
     location, estimated attendance, etc.)
   * Justification for full day (if a full day is proposed)
   * Audio-visual and technical requirements
   * References including the proposers' papers on the subject
   * Preferences for tutorial date, duration (half-day or full-day), and
     any other scheduling constraints

Preferences for tutorial date, duration (half-day or full-day), and any
other scheduling constraints Note that the tutorial co-chairs will
consider the preference of tutorial dates specified by the organizers,
but the acceptance of a tutorial proposal does not guarantee adherence
to the requested date/time. The tutorial co-chairs will assume that
tutorial proposers will be able to run a tutorial on the dates that ASE
2013 has reserved for tutorials.

Review Process. Tutorial proposals will be reviewed by the ASE 2013
tutorials and workshop co-chairs. Acceptance will be based on the
timeliness and expected interest in the topic, the proposer's ability to
present an interesting tutorial, and the potential for attracting a
sufficient number of participants.

Contact. ase2013tutorials at easychair.org


=== DOCTORAL SYMPOSIUM =================================================
    [http://ase2013.org/ds.html]

The goal of the ASE 2013 Doctoral Symposium is to provide a supportive
yet questioning setting in which the PhD students have an opportunity to
present and discuss their research with other researchers in the ASE
community. The Symposium aims to provide students with useful guidance
and feedback on their research and to facilitate their networking within
the scientific community by interacting with established researchers and
with their peers at a similar stage in their careers.

The technical scope of the Symposium is that of ASE. Students should
consider participating in the Doctoral Symposium after they have settled
on a dissertation topic with some initial research results. Students
should be at least a year from completion of their dissertation (at the
time of the Symposium), to obtain maximum benefit from participation.
The Doctoral Symposium is open to Ph.D. students at any stage of their
research, whereby students at the initial stage (first or second year)
will be able to challenge their ideas and current research directions,
while students at a more mature stage (third or fourth year) will be
able to present their thesis and get advice for improvement and for
better exposition of their contributions and conclusions. Attendance is
open to students of accepted research abstracts and Doctoral Symposium
committee members.

EVALUATION

The Doctoral Symposium Committee will select participants using the
following criteria:

   * The potential quality of the research and its relevance to ASE
   * Quality of the research abstract.
   * Diversity of background, research topics and approaches.

Students should not infer that a list of prior publications is in any
way expected or required; we welcome submissions from students for whom
this will be their first formal submission as well as those who have
previously published

SUBMISSION

To apply as a student participant in the Doctoral Symposium, you should
prepare a submission package consisting of two parts, both of which must
be submitted by the submission deadline.

Part 1: Research Abstract (max. 4 pages). Your research abstract must
conform to the ASE 2013 formatting and submission instructions and
should cover:

   * Your targeted research problem with justification of its importance
   * Discussion why related and prior work has not solved the problem
   * A sketch of the proposed approach or solution
   * The expected contributions of your dissertation research
   * Progress you have made so far in solving the stated problem
   * The methods you are using or will use to carry out your research
   * A plan for evaluating your work and presenting credible evidence of
     your results to the research community
   * A list of any publications either appeared, accepted or submitted
     for which the student is an author.

Students at the initial stage of their research might have some
difficulty in addressing some of these areas, but should make their best
attempt. The research abstract should include the title of your work,
your name, your advisor, your email address, postal address, personal
website, and a one paragraph short summary in the style of an abstract
for a regular paper.

Please submit your research abstract using the EasyChair submission site:

   https://www.easychair.org/conferences/?conf=dsase13

Part 2: Letter of Recommendation. Please ask your dissertation advisor
for a letter of recommendation. This letter should include your name and
a candid assessment of the current status of your dissertation research
and an expected date for dissertation submission. The letter should be
in Adobe Portable Document Format (PDF), and sent to: Marsha Chechik and
Paul Gruenbacher at ase-org at cs.toronto.edu
with the subject: ASE 2013 DOCTORAL SYMPOSIUM RECOMMENDATION.

Acceptance. All accepted papers will be published by IEEE. Authors of
accepted contributions will receive further instructions for preparing
their camera ready versions. Authors must register for the ASE 2013
Doctoral Symposium and present their work at the Symposium.


=== ORGANIZATION =======================================================

  General Chair
    Ewen Denney, SGT / NASA Ames

  Program Chairs
    Tevfik Bultan, University of California, Santa Barbara
    Andrease Zeller, Saarland University, Saarbruecken

  Program Committee
    Andrew Begel, Microsoft Research
    Myra Cohen, University of Nebraska - Lincoln
    Danny Dig, University of Illinois at Urbana-Champaign
    Bernd Fischer, Stellenbosch University / University of Southampton
    Gordon Fraser, University of Sheffield
    Harald Gall, University of Zurich
    Dimitra Giannakopoulou, NASA Ames Research Center
    Alex Groce, Oregon State University
    Paul Gruenbacher, Johannes Kepler University Linz
    Arie Gurfinkel, Carnegie Mellon University US
    William G.J. Halfond, University of Southern California
    Mark Harman, University College London
    Sunghun Kim, The Hong Kong University of Science and Technology
    David Lo, Singapore Management University
    Shahar Maoz, Tel Aviv University
    Darko Marinov, University of Illinois at Urbana Champaign
    Tim Menzies, West Virginia University
    Mira Mezini, Technische Universitaet Darmstadt
    Tien Nguyen, Iowa State University
    Corina Pasareanu, CMU, NASA Ames
    Lori Pollock, University of Delaware
    Martin Robillard, McGill University
    Grigore Rosu, University of Illinois at Urbana Champaign
    Abhik Roychoudhury, National University of Singapore
    Gabriele Taentzer, Philipps Universitaet Marburg
    Nikolai Tillmann, Microsoft Research
    Sebastian Uchitel, Universidad de Buenos Aires/Imperial College London
    Willem Visser, Stellenbosch University
    Lu Zhang, Peking University
    Charles Zhang, Hongkong University of Science and Technology

  Doctoral Symposium Co-Chairs
    Marsha Chechik, University of Toronto
    Paul Gruenbacher, Johannes Kepler University Linz

  Doctoral Symposium Committee
    Jamie H. Andrews, University of Western Ontario
    Myra B. Cohen, University of Nebraska - Lincoln
    Elisabetta Di Nitto, Politecnico di Milano
    Darko Marinov, University of Illinois at Urbana-Champaign
    Charles Pecheur, Universite Catholique de Louvain
    Andrea Zisman, City University London

  Workshop and Tutorial Co-Chairs
    Marcelo d'Amorim, Federal University of Pernambuco
    David Lo, Singapore Management University

  Tool Demonstration Chairs
    Andrew Ireland, Heriot-Watt University
    Neha Rungta, SGT / NASA Ames

  Tool Demonstration Program Committee

    Mithun Acharya, ABB Corp
    Alessandro Armando, University of Genova
    Gudmund Grov, Heriot-Watt University
    Joe Kiniry, IT University of Copenhagen
    Jens Krinke, Univeristy College
    Moonzoo Kim, KAIST
    Guodong Li, Fujitsu Labs
    Tim Menzies, University of West Virginia
    Rosemary Monahan, National University of Ireland
    Elena Sherman, Boise State
    Oksana Tkachuk, NASA Ames
    Willem Visser, University of Stellenbosch

  Finance & Local Arrangements
    Ganesh Pai, SGT / NASA Ames

  Publicity Chair
    Christoph Gladisch, Karlsruhe Institute of Technology

  Social Media Chair
    Tien Nguyen, Iowa State University




From E.Visser at tudelft.nl  Sat Apr 27 22:23:54 2013
From: E.Visser at tudelft.nl (Eelco Visser)
Date: Sat, 27 Apr 2013 22:23:54 +0200
Subject: [Stratego Users] How do congruences work?
In-Reply-To: <BAY175-DS1679500B1DEF3320FFB509D0B70@phx.gbl>
References: <BAY175-DS1679500B1DEF3320FFB509D0B70@phx.gbl>
Message-ID: <CAFaCHU0qZUBBBBPZK=cTge=EFf1uZq6XO2Fo9b6DXdbpbjT=vA@mail.gmail.com>

Hi Kr?lik,

> I have a rule in the form
>
> a : <?A(<e>,<f>) => t> -> <g> t

You are not actually using congruences here but match-projection.
Doing this using congruences you'd write it as follows:

a = A(e, f); g

which would give you what you intend.

The purpose of a match projection is to extract a subterm without
binding. A typical application is

   map(?Param(_, <id>))

to extract the types from a list of a parameters Param(x, t) with a
name x and type t. Thus the match ?Param(_, <id>) is a compact way of
writing \Param(_, x) -> x\

When using two or more extractors the order of the extraction depends
on how the compiler does the lifting.

cheers,

-- Eelco

>
> What I intend to write is:
>
> ?A(a1,a2);
>
> !a1; e; ?a1e;
>
> !a2; f; ?a2f;
>
> !A(a1e,a2f);
>
> ?t;
>
> !t;
>
> g
>
>
>
> Based on what I have read in the Stratego manual I would expect that the
> rule means:
>
> ?A(<e>,<f>); ?t; <g> t
>
> which in turn means exactly the previous snippet.
>
>
>
> However, it turns out that the actual meaning is:
>
> ?A(a1,a2);
>
> !a1; e; ?a1e;
>
> !a2; f; ?a2f;
>
> !a1e;
>
> ?t;
>
> !t;
>
> g
>
>
>
> How can I write what I originally intended?
>
>
>
> Thanks
>
> Barnab?s
>
>
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users
>



-- 

Eelco Visser
Associate Professor at Delft University of Technology

Group:          Software Language Design and Engineering
Email:          e.visser at tudelft.nl
Homepage:   http://eelcovisser.org
Publications: http://researchr.org/profile/eelcovisser
News:           http://twitter.com/eelcovisser


From kralikba at msn.com  Sat Apr 27 23:56:24 2013
From: kralikba at msn.com (=?UTF-8?Q?Kr=C3=A1lik_Barnab=C3=A1s?=)
Date: Sat, 27 Apr 2013 23:56:24 +0200
Subject: [Stratego Users] How do congruences work?
In-Reply-To: <00d601ce438d$1a680f00$4f382d00$@tudelft.nl>
References: <BAY175-DS1679500B1DEF3320FFB509D0B70@phx.gbl>
	<00d601ce438d$1a680f00$4f382d00$@tudelft.nl>
Message-ID: <BAY175-DS13E532ACBD72DEC99E64D7D0B00@phx.gbl>

Hi Eelco,

Thanks for clearing up my confusion; it works now!

Regards
Barnab?s

> -----Original Message-----
> From: users-bounces at strategoxt.org [mailto:users-
> bounces at strategoxt.org] On Behalf Of Eelco Visser
> Sent: Saturday, April 27, 2013 10:24 PM
> To: Stratego/XT Users
> Subject: Re: [Stratego Users] How do congruences work?
> 
> Hi Kr?lik,
> 
> > I have a rule in the form
> >
> > a : <?A(<e>,<f>) => t> -> <g> t
> 
> You are not actually using congruences here but match-projection.
> Doing this using congruences you'd write it as follows:
> 
> a = A(e, f); g
> 
> which would give you what you intend.
> 
> The purpose of a match projection is to extract a subterm without binding. A
> typical application is
> 
>    map(?Param(_, <id>))
> 
> to extract the types from a list of a parameters Param(x, t) with a name x and
> type t. Thus the match ?Param(_, <id>) is a compact way of writing \Param(_,
> x) -> x\
> 
> When using two or more extractors the order of the extraction depends on
> how the compiler does the lifting.
> 
> cheers,
> 
> -- Eelco
> 
> >
> > What I intend to write is:
> >
> > ?A(a1,a2);
> >
> > !a1; e; ?a1e;
> >
> > !a2; f; ?a2f;
> >
> > !A(a1e,a2f);
> >
> > ?t;
> >
> > !t;
> >
> > g
> >
> >
> >
> > Based on what I have read in the Stratego manual I would expect that
> > the rule means:
> >
> > ?A(<e>,<f>); ?t; <g> t
> >
> > which in turn means exactly the previous snippet.
> >
> >
> >
> > However, it turns out that the actual meaning is:
> >
> > ?A(a1,a2);
> >
> > !a1; e; ?a1e;
> >
> > !a2; f; ?a2f;
> >
> > !a1e;
> >
> > ?t;
> >
> > !t;
> >
> > g
> >
> >
> >
> > How can I write what I originally intended?
> >
> >
> >
> > Thanks
> >
> > Barnab?s
> >
> >
> > _______________________________________________
> > Users mailing list
> > Users at strategoxt.org
> > https://mailman.st.ewi.tudelft.nl/listinfo/users
> >
> 
> 
> 
> --
> 
> Eelco Visser
> Associate Professor at Delft University of Technology
> 
> Group:          Software Language Design and Engineering
> Email:          e.visser at tudelft.nl
> Homepage:   http://eelcovisser.org
> Publications: http://researchr.org/profile/eelcovisser
> News:           http://twitter.com/eelcovisser
> 
> _______________________________________________
> Users mailing list
> Users at strategoxt.org
> https://mailman.st.ewi.tudelft.nl/listinfo/users



